let e,t,n;function r(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function i(e){return e&&e.__esModule?e.default:e}var s,a,o,l,u,c,h=globalThis,d={},f={},p=h.parcelRequire89a2;null==p&&((p=function(e){if(e in d)return d[e].exports;if(e in f){var t=f[e];delete f[e];var n={id:e,exports:{}};return d[e]=n,t.call(n.exports,n,n.exports),n.exports}var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){f[e]=t},h.parcelRequire89a2=p);var m=p.register;m("1b2ls",function(e,t){r(e.exports,"Fragment",()=>n,e=>n=e),r(e.exports,"jsx",()=>i,e=>i=e),r(e.exports,"jsxs",()=>s,e=>s=e);var n,i,s,a=p("acw62"),o=Symbol.for("react.element"),l=Symbol.for("react.fragment"),u=Object.prototype.hasOwnProperty,c=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h={key:!0,ref:!0,__self:!0,__source:!0};function d(e,t,n){var r,i={},s=null,a=null;for(r in void 0!==n&&(s=""+n),void 0!==t.key&&(s=""+t.key),void 0!==t.ref&&(a=t.ref),t)u.call(t,r)&&!h.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:s,ref:a,props:i,_owner:c.current}}n=l,i=d,s=d}),m("acw62",function(e,t){e.exports=p("2pUnB")}),m("2pUnB",function(e,t){r(e.exports,"Children",()=>n,e=>n=e),r(e.exports,"Component",()=>i,e=>i=e),r(e.exports,"Fragment",()=>s,e=>s=e),r(e.exports,"Profiler",()=>a,e=>a=e),r(e.exports,"PureComponent",()=>o,e=>o=e),r(e.exports,"StrictMode",()=>l,e=>l=e),r(e.exports,"Suspense",()=>u,e=>u=e),r(e.exports,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",()=>c,e=>c=e),r(e.exports,"act",()=>h,e=>h=e),r(e.exports,"cloneElement",()=>d,e=>d=e),r(e.exports,"createContext",()=>f,e=>f=e),r(e.exports,"createElement",()=>p,e=>p=e),r(e.exports,"createFactory",()=>m,e=>m=e),r(e.exports,"createRef",()=>g,e=>g=e),r(e.exports,"forwardRef",()=>y,e=>y=e),r(e.exports,"isValidElement",()=>v,e=>v=e),r(e.exports,"lazy",()=>b,e=>b=e),r(e.exports,"memo",()=>w,e=>w=e),r(e.exports,"startTransition",()=>x,e=>x=e),r(e.exports,"unstable_act",()=>E,e=>E=e),r(e.exports,"useCallback",()=>k,e=>k=e),r(e.exports,"useContext",()=>S,e=>S=e),r(e.exports,"useDebugValue",()=>_,e=>_=e),r(e.exports,"useDeferredValue",()=>T,e=>T=e),r(e.exports,"useEffect",()=>I,e=>I=e),r(e.exports,"useId",()=>N,e=>N=e),r(e.exports,"useImperativeHandle",()=>C,e=>C=e),r(e.exports,"useInsertionEffect",()=>A,e=>A=e),r(e.exports,"useLayoutEffect",()=>D,e=>D=e),r(e.exports,"useMemo",()=>R,e=>R=e),r(e.exports,"useReducer",()=>P,e=>P=e),r(e.exports,"useRef",()=>O,e=>O=e),r(e.exports,"useState",()=>L,e=>L=e),r(e.exports,"useSyncExternalStore",()=>M,e=>M=e),r(e.exports,"useTransition",()=>j,e=>j=e),r(e.exports,"version",()=>F,e=>F=e);var n,i,s,a,o,l,u,c,h,d,f,p,m,g,y,v,b,w,x,E,k,S,_,T,I,N,C,A,D,R,P,O,L,M,j,F,U=Symbol.for("react.element"),V=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),H=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),G=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),Y=Symbol.iterator,X={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,Z={};function ee(e,t,n){this.props=e,this.context=t,this.refs=Z,this.updater=n||X}function et(){}function en(e,t,n){this.props=e,this.context=t,this.refs=Z,this.updater=n||X}ee.prototype.isReactComponent={},ee.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},ee.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},et.prototype=ee.prototype;var er=en.prototype=new et;er.constructor=en,J(er,ee.prototype),er.isPureReactComponent=!0;var ei=Array.isArray,es=Object.prototype.hasOwnProperty,ea={current:null},eo={key:!0,ref:!0,__self:!0,__source:!0};function el(e,t,n){var r,i={},s=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)es.call(t,r)&&!eo.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===i[r]&&(i[r]=o[r]);return{$$typeof:U,type:e,key:s,ref:a,props:i,_owner:ea.current}}function eu(e){return"object"==typeof e&&null!==e&&e.$$typeof===U}var ec=/\/+/g;function eh(e,t){var n,r;return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return r[e]})):t.toString(36)}function ed(e,t,n){if(null==e)return e;var r=[],i=0;return!function e(t,n,r,i,s){var a,o,l,u=typeof t;("undefined"===u||"boolean"===u)&&(t=null);var c=!1;if(null===t)c=!0;else switch(u){case"string":case"number":c=!0;break;case"object":switch(t.$$typeof){case U:case V:c=!0}}if(c)return s=s(c=t),t=""===i?"."+eh(c,0):i,ei(s)?(r="",null!=t&&(r=t.replace(ec,"$&/")+"/"),e(s,n,r,"",function(e){return e})):null!=s&&(eu(s)&&(a=s,o=r+(!s.key||c&&c.key===s.key?"":(""+s.key).replace(ec,"$&/")+"/")+t,s={$$typeof:U,type:a.type,key:o,ref:a.ref,props:a.props,_owner:a._owner}),n.push(s)),1;if(c=0,i=""===i?".":i+":",ei(t))for(var h=0;h<t.length;h++){var d=i+eh(u=t[h],h);c+=e(u,n,r,d,s)}else if("function"==typeof(d=null===(l=t)||"object"!=typeof l?null:"function"==typeof(l=Y&&l[Y]||l["@@iterator"])?l:null))for(t=d.call(t),h=0;!(u=t.next()).done;)d=i+eh(u=u.value,h++),c+=e(u,n,r,d,s);else if("object"===u)throw Error("Objects are not valid as a React child (found: "+("[object Object]"===(n=String(t))?"object with keys {"+Object.keys(t).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return c}(e,r,"","",function(e){return t.call(n,e,i++)}),r}function ef(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)},function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var ep={current:null},em={transition:null};function eg(){throw Error("act(...) is not supported in production builds of React.")}n={map:ed,forEach:function(e,t,n){ed(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ed(e,function(){t++}),t},toArray:function(e){return ed(e,function(e){return e})||[]},only:function(e){if(!eu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},i=ee,s=z,a=$,o=en,l=B,u=W,c={ReactCurrentDispatcher:ep,ReactCurrentBatchConfig:em,ReactCurrentOwner:ea},h=eg,d=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=J({},e.props),i=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=ea.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)es.call(t,l)&&!eo.hasOwnProperty(l)&&(r[l]=void 0===t[l]&&void 0!==o?o[l]:t[l])}var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:U,type:e.type,key:i,ref:s,props:r,_owner:a}},f=function(e){return(e={$$typeof:H,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:q,_context:e},e.Consumer=e},p=el,m=function(e){var t=el.bind(null,e);return t.type=e,t},g=function(){return{current:null}},y=function(e){return{$$typeof:K,render:e}},v=eu,b=function(e){return{$$typeof:Q,_payload:{_status:-1,_result:e},_init:ef}},w=function(e,t){return{$$typeof:G,type:e,compare:void 0===t?null:t}},x=function(e){var t=em.transition;em.transition={};try{e()}finally{em.transition=t}},E=eg,k=function(e,t){return ep.current.useCallback(e,t)},S=function(e){return ep.current.useContext(e)},_=function(){},T=function(e){return ep.current.useDeferredValue(e)},I=function(e,t){return ep.current.useEffect(e,t)},N=function(){return ep.current.useId()},C=function(e,t,n){return ep.current.useImperativeHandle(e,t,n)},A=function(e,t){return ep.current.useInsertionEffect(e,t)},D=function(e,t){return ep.current.useLayoutEffect(e,t)},R=function(e,t){return ep.current.useMemo(e,t)},P=function(e,t,n){return ep.current.useReducer(e,t,n)},O=function(e){return ep.current.useRef(e)},L=function(e){return ep.current.useState(e)},M=function(e,t,n){return ep.current.useSyncExternalStore(e,t,n)},j=function(){return ep.current.useTransition()},F="18.3.1"}),m("Xw6Mv",function(e,t){r(e.exports,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",()=>$,e=>$=e),r(e.exports,"createPortal",()=>q,e=>q=e),r(e.exports,"createRoot",()=>H,e=>H=e),r(e.exports,"findDOMNode",()=>K,e=>K=e),r(e.exports,"flushSync",()=>W,e=>W=e),r(e.exports,"hydrate",()=>G,e=>G=e),r(e.exports,"hydrateRoot",()=>Q,e=>Q=e),r(e.exports,"render",()=>Y,e=>Y=e),r(e.exports,"unmountComponentAtNode",()=>X,e=>X=e),r(e.exports,"unstable_batchedUpdates",()=>J,e=>J=e),r(e.exports,"unstable_renderSubtreeIntoContainer",()=>Z,e=>Z=e),r(e.exports,"version",()=>ee,e=>ee=e);var n,i,s,a,o,l,u=p("acw62"),c=p("fO90s");function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d=new Set,f={};function m(e,t){g(e,t),g(e+"Capture",t)}function g(e,t){for(f[e]=t,e=0;e<t.length;e++)d.add(t[e])}var y="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,v=Object.prototype.hasOwnProperty,b=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},x={};function E(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){k[e]=new E(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];k[t]=new E(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){k[e]=new E(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){k[e]=new E(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){k[e]=new E(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){k[e]=new E(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){k[e]=new E(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){k[e]=new E(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){k[e]=new E(e,5,!1,e.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function _(e){return e[1].toUpperCase()}function T(e,t,n,r){var i,s=k.hasOwnProperty(t)?k[t]:null;(null!==s?0!==s.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":if(r)return!1;if(null!==n)return!n.acceptsBooleans;return"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e;default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,r)&&(n=null),r||null===s?(i=t,(v.call(x,i)||!v.call(w,i)&&(b.test(i)?x[i]=!0:(w[i]=!0,!1)))&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n))):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,r=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(S,_);k[t]=new E(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(S,_);k[t]=new E(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(S,_);k[t]=new E(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){k[e]=new E(e,1,!1,e.toLowerCase(),null,!1,!1)}),k.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){k[e]=new E(e,1,!1,e.toLowerCase(),null,!0,!0)});var I=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=Symbol.for("react.element"),C=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),O=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),U=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var V=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var z=Symbol.iterator;function B(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=z&&e[z]||e["@@iterator"])?e:null}var $,q,H,K,W,G,Q,Y,X,J,Z,ee,et,en=Object.assign;function er(e){if(void 0===et)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);et=t&&t[1]||""}return"\n"+et+e}var ei=!1;function es(e,t){if(!e||ei)return"";ei=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o)break}}}finally{ei=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?er(e):""}function ea(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function eo(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function el(e){e._valueTracker||(e._valueTracker=function(e){var t=eo(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function eu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=eo(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ec(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function eh(e,t){var n=t.checked;return en({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ed(e,t){var n=null==t.defaultValue?"":t.defaultValue;e._wrapperState={initialChecked:null!=t.checked?t.checked:t.defaultChecked,initialValue:n=ea(null!=t.value?t.value:n),controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function ef(e,t){null!=(t=t.checked)&&T(e,"checked",t,!1)}function ep(e,t){ef(e,t);var n=ea(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?eg(e,t.type,n):t.hasOwnProperty("defaultValue")&&eg(e,t.type,ea(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function em(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(("submit"===r||"reset"===r)&&(void 0===t.value||null===t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function eg(e,t,n){("number"!==t||ec(e.ownerDocument)!==e)&&(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ey=Array.isArray;function ev(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(i=0,n=""+ea(n),t=null;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function eb(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(h(91));return en({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ew(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(h(92));if(ey(n)){if(1<n.length)throw Error(h(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ea(n)}}function ex(e,t){var n=ea(t.value),r=ea(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function eE(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ek(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function eS(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ek(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var e_,eT,eI=(e_=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((eT=eT||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=eT.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return e_(e,t,n,r)})}:e_);function eN(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType){n.nodeValue=t;return}}e.textContent=t}var eC={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eA=["Webkit","ms","Moz","O"];function eD(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||eC.hasOwnProperty(e)&&eC[e]?(""+t).trim():t+"px"}function eR(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=eD(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(eC).forEach(function(e){eA.forEach(function(t){eC[t=t+e.charAt(0).toUpperCase()+e.substring(1)]=eC[e]})});var eP=en({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eO(e,t){if(t){if(eP[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(h(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(h(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(h(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(h(62))}}function eL(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eM=null;function ej(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var eF=null,eU=null,eV=null;function ez(e){if(e=rQ(e)){if("function"!=typeof eF)throw Error(h(280));var t=e.stateNode;t&&(t=rX(t),eF(e.stateNode,e.type,t))}}function eB(e){eU?eV?eV.push(e):eV=[e]:eU=e}function e$(){if(eU){var e=eU,t=eV;if(eV=eU=null,ez(e),t)for(e=0;e<t.length;e++)ez(t[e])}}function eq(e,t){return e(t)}function eH(){}var eK=!1;function eW(e,t,n){if(eK)return e(t,n);eK=!0;try{return eq(e,t,n)}finally{eK=!1,(null!==eU||null!==eV)&&(eH(),e$())}}function eG(e,t){var n=e.stateNode;if(null===n)return null;var r=rX(n);if(null===r)return null;switch(n=r[t],t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r="button"!==(e=e.type)&&"input"!==e&&"select"!==e&&"textarea"!==e),e=!r;break;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(h(231,t,typeof n));return n}var eQ=!1;if(y)try{var eY={};Object.defineProperty(eY,"passive",{get:function(){eQ=!0}}),window.addEventListener("test",eY,eY),window.removeEventListener("test",eY,eY)}catch(e){eQ=!1}function eX(e,t,n,r,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var eJ=!1,eZ=null,e0=!1,e1=null,e2={onError:function(e){eJ=!0,eZ=e}};function e4(e,t,n,r,i,s,a,o,l){eJ=!1,eZ=null,eX.apply(e2,arguments)}function e3(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do 0!=(4098&(t=e).flags)&&(n=t.return),e=t.return;while(e)}return 3===t.tag?n:null}function e6(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function e5(e){if(e3(e)!==e)throw Error(h(188))}function e8(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=e3(e)))throw Error(h(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return e5(i),e;if(s===r)return e5(i),t;s=s.sibling}throw Error(h(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(h(189))}}if(n.alternate!==r)throw Error(h(190))}if(3!==n.tag)throw Error(h(188));return n.stateNode.current===n?e:t}(e))?function e(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var n=e(t);if(null!==n)return n;t=t.sibling}return null}(e):null}var e9=c.unstable_scheduleCallback,e7=c.unstable_cancelCallback,te=c.unstable_shouldYield,tt=c.unstable_requestPaint,tn=c.unstable_now,tr=c.unstable_getCurrentPriorityLevel,ti=c.unstable_ImmediatePriority,ts=c.unstable_UserBlockingPriority,ta=c.unstable_NormalPriority,to=c.unstable_LowPriority,tl=c.unstable_IdlePriority,tu=null,tc=null,th=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(td(e)/tf|0)|0},td=Math.log,tf=Math.LN2,tp=64,tm=4194304;function tg(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:return 0x7c00000&e;case 0x8000000:return 0x8000000;case 0x10000000:return 0x10000000;case 0x20000000:return 0x20000000;case 0x40000000:return 0x40000000;default:return e}}function ty(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=0xfffffff&n;if(0!==a){var o=a&~i;0!==o?r=tg(o):0!=(s&=a)&&(r=tg(s))}else 0!=(a=n&~i)?r=tg(a):0!==s&&(r=tg(s));if(0===r)return 0;if(0!==t&&t!==r&&0==(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!=(4194240&s)))return t;if(0!=(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-th(t)),r|=e[n],t&=~i;return r}function tv(e){return 0!=(e=-0x40000001&e.pendingLanes)?e:0x40000000&e?0x40000000:0}function tb(){var e=tp;return 0==(4194240&(tp<<=1))&&(tp=64),e}function tw(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function tx(e,t,n){e.pendingLanes|=t,0x20000000!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-th(t)]=n}function tE(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-th(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var tk=0;function tS(e){return 1<(e&=-e)?4<e?0!=(0xfffffff&e)?16:0x20000000:4:1}var t_,tT,tI,tN,tC,tA=!1,tD=[],tR=null,tP=null,tO=null,tL=new Map,tM=new Map,tj=[],tF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tU(e,t){switch(e){case"focusin":case"focusout":tR=null;break;case"dragenter":case"dragleave":tP=null;break;case"mouseover":case"mouseout":tO=null;break;case"pointerover":case"pointerout":tL.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":tM.delete(t.pointerId)}}function tV(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&null!==(t=rQ(t))&&tT(t)):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i)),e}function tz(e){var t=rG(e.target);if(null!==t){var n=e3(t);if(null!==n){if(13===(t=n.tag)){if(null!==(t=e6(n))){e.blockedOn=t,tC(e.priority,function(){tI(n)});return}}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=3===n.tag?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tB(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=tZ(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=rQ(n))&&tT(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);eM=r,n.target.dispatchEvent(r),eM=null,t.shift()}return!0}function t$(e,t,n){tB(e)&&n.delete(t)}function tq(){tA=!1,null!==tR&&tB(tR)&&(tR=null),null!==tP&&tB(tP)&&(tP=null),null!==tO&&tB(tO)&&(tO=null),tL.forEach(t$),tM.forEach(t$)}function tH(e,t){e.blockedOn===t&&(e.blockedOn=null,tA||(tA=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,tq)))}function tK(e){function t(t){return tH(t,e)}if(0<tD.length){tH(tD[0],e);for(var n=1;n<tD.length;n++){var r=tD[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==tR&&tH(tR,e),null!==tP&&tH(tP,e),null!==tO&&tH(tO,e),tL.forEach(t),tM.forEach(t),n=0;n<tj.length;n++)(r=tj[n]).blockedOn===e&&(r.blockedOn=null);for(;0<tj.length&&null===(n=tj[0]).blockedOn;)tz(n),null===n.blockedOn&&tj.shift()}var tW=I.ReactCurrentBatchConfig,tG=!0;function tQ(e,t,n,r){var i=tk,s=tW.transition;tW.transition=null;try{tk=1,tX(e,t,n,r)}finally{tk=i,tW.transition=s}}function tY(e,t,n,r){var i=tk,s=tW.transition;tW.transition=null;try{tk=4,tX(e,t,n,r)}finally{tk=i,tW.transition=s}}function tX(e,t,n,r){if(tG){var i=tZ(e,t,n,r);if(null===i)rw(e,t,r,tJ,n),tU(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return tR=tV(tR,e,t,n,r,i),!0;case"dragenter":return tP=tV(tP,e,t,n,r,i),!0;case"mouseover":return tO=tV(tO,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return tL.set(s,tV(tL.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,tM.set(s,tV(tM.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(tU(e,r),4&t&&-1<tF.indexOf(e)){for(;null!==i;){var s=rQ(i);if(null!==s&&t_(s),null===(s=tZ(e,t,n,r))&&rw(e,t,r,tJ,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else rw(e,t,r,null,n)}}var tJ=null;function tZ(e,t,n,r){if(tJ=null,null!==(e=rG(e=ej(r))))if(null===(t=e3(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=e6(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return tJ=e,null}function t0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tr()){case ti:return 1;case ts:return 4;case ta:case to:return 16;case tl:return 0x20000000;default:return 16}default:return 16}}var t1=null,t2=null,t4=null;function t3(){if(t4)return t4;var e,t,n=t2,r=n.length,i="value"in t1?t1.value:t1.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return t4=i.slice(e,1<t?1-t:void 0)}function t6(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function t5(){return!0}function t8(){return!1}function t9(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?t5:t8,this.isPropagationStopped=t8,this}return en(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=t5)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=t5)},persist:function(){},isPersistent:t5}),t}var t7,ne,nt,nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nr=t9(nn),ni=en({},nn,{view:0,detail:0}),ns=t9(ni),na=en({},ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ny,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nt&&(nt&&"mousemove"===e.type?(t7=e.screenX-nt.screenX,ne=e.screenY-nt.screenY):ne=t7=0,nt=e),t7)},movementY:function(e){return"movementY"in e?e.movementY:ne}}),no=t9(na),nl=t9(en({},na,{dataTransfer:0})),nu=t9(en({},ni,{relatedTarget:0})),nc=t9(en({},nn,{animationName:0,elapsedTime:0,pseudoElement:0})),nh=t9(en({},nn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),nd=t9(en({},nn,{data:0})),nf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},np={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ng(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=nm[e])&&!!t[e]}function ny(){return ng}var nv=t9(en({},ni,{key:function(e){if(e.key){var t=nf[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=t6(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?np[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ny,charCode:function(e){return"keypress"===e.type?t6(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?t6(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),nb=t9(en({},na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),nw=t9(en({},ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ny})),nx=t9(en({},nn,{propertyName:0,elapsedTime:0,pseudoElement:0})),nE=t9(en({},na,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),nk=[9,13,27,32],nS=y&&"CompositionEvent"in window,n_=null;y&&"documentMode"in document&&(n_=document.documentMode);var nT=y&&"TextEvent"in window&&!n_,nI=y&&(!nS||n_&&8<n_&&11>=n_),nN=!1;function nC(e,t){switch(e){case"keyup":return -1!==nk.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nA(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var nD=!1,nR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!nR[e.type]:"textarea"===t}function nO(e,t,n,r){eB(r),0<(t=rE(t,"onChange")).length&&(n=new nr("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var nL=null,nM=null;function nj(e){rp(e,0)}function nF(e){if(eu(rY(e)))return e}function nU(e,t){if("change"===e)return t}var nV=!1;if(y){if(y){var nz="oninput"in document;if(!nz){var nB=document.createElement("div");nB.setAttribute("oninput","return;"),nz="function"==typeof nB.oninput}n=nz}else n=!1;nV=n&&(!document.documentMode||9<document.documentMode)}function n$(){nL&&(nL.detachEvent("onpropertychange",nq),nM=nL=null)}function nq(e){if("value"===e.propertyName&&nF(nM)){var t=[];nO(t,nM,e,ej(e)),eW(nj,t)}}function nH(e,t,n){"focusin"===e?(n$(),nL=t,nM=n,nL.attachEvent("onpropertychange",nq)):"focusout"===e&&n$()}function nK(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return nF(nM)}function nW(e,t){if("click"===e)return nF(t)}function nG(e,t){if("input"===e||"change"===e)return nF(t)}var nQ="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function nY(e,t){if(nQ(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!v.call(t,i)||!nQ(e[i],t[i]))return!1}return!0}function nX(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nJ(e,t){var n,r=nX(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=nX(r)}}function nZ(){for(var e=window,t=ec();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(n)e=t.contentWindow;else break;t=ec(e.document)}return t}function n0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var n1=y&&"documentMode"in document&&11>=document.documentMode,n2=null,n4=null,n3=null,n6=!1;function n5(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;n6||null==n2||n2!==ec(r)||(r="selectionStart"in(r=n2)&&n0(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},n3&&nY(n3,r)||(n3=r,0<(r=rE(n4,"onSelect")).length&&(t=new nr("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=n2)))}function n8(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var n9={animationend:n8("Animation","AnimationEnd"),animationiteration:n8("Animation","AnimationIteration"),animationstart:n8("Animation","AnimationStart"),transitionend:n8("Transition","TransitionEnd")},n7={},re={};function rt(e){if(n7[e])return n7[e];if(!n9[e])return e;var t,n=n9[e];for(t in n)if(n.hasOwnProperty(t)&&t in re)return n7[e]=n[t];return e}y&&(re=document.createElement("div").style,"AnimationEvent"in window||(delete n9.animationend.animation,delete n9.animationiteration.animation,delete n9.animationstart.animation),"TransitionEvent"in window||delete n9.transitionend.transition);var rn=rt("animationend"),rr=rt("animationiteration"),ri=rt("animationstart"),rs=rt("transitionend"),ra=new Map,ro="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rl(e,t){ra.set(e,t),m(t,[e])}for(var ru=0;ru<ro.length;ru++){var rc=ro[ru];rl(rc.toLowerCase(),"on"+(rc[0].toUpperCase()+rc.slice(1)))}rl(rn,"onAnimationEnd"),rl(rr,"onAnimationIteration"),rl(ri,"onAnimationStart"),rl("dblclick","onDoubleClick"),rl("focusin","onFocus"),rl("focusout","onBlur"),rl(rs,"onTransitionEnd"),g("onMouseEnter",["mouseout","mouseover"]),g("onMouseLeave",["mouseout","mouseover"]),g("onPointerEnter",["pointerout","pointerover"]),g("onPointerLeave",["pointerout","pointerover"]),m("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),m("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),m("onBeforeInput",["compositionend","keypress","textInput","paste"]),m("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),m("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),m("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rd=new Set("cancel close invalid load scroll toggle".split(" ").concat(rh));function rf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,o,l){if(e4.apply(this,arguments),eJ){if(eJ){var u=eZ;eJ=!1,eZ=null}else throw Error(h(198));e0||(e0=!0,e1=u)}}(r,t,void 0,e),e.currentTarget=null}function rp(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;rf(i,o,u),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;rf(i,o,u),s=l}}}if(e0)throw e=e1,e0=!1,e1=null,e}function rm(e,t){var n=t[rH];void 0===n&&(n=t[rH]=new Set);var r=e+"__bubble";n.has(r)||(rb(t,e,2,!1),n.add(r))}function rg(e,t,n){var r=0;t&&(r|=4),rb(n,e,r,t)}var ry="_reactListening"+Math.random().toString(36).slice(2);function rv(e){if(!e[ry]){e[ry]=!0,d.forEach(function(t){"selectionchange"!==t&&(rd.has(t)||rg(t,!1,e),rg(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[ry]||(t[ry]=!0,rg("selectionchange",!1,t))}}function rb(e,t,n,r){switch(t0(t)){case 1:var i=tQ;break;case 4:i=tY;break;default:i=tX}n=i.bind(null,t,n,e),i=void 0,eQ&&("touchstart"===t||"touchmove"===t||"wheel"===t)&&(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function rw(e,t,n,r,i){var s=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=rG(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}eW(function(){var r=s,i=ej(n),a=[];e:{var o=ra.get(e);if(void 0!==o){var l=nr,u=e;switch(e){case"keypress":if(0===t6(n))break e;case"keydown":case"keyup":l=nv;break;case"focusin":u="focus",l=nu;break;case"focusout":u="blur",l=nu;break;case"beforeblur":case"afterblur":l=nu;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=no;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=nl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=nw;break;case rn:case rr:case ri:l=nc;break;case rs:l=nx;break;case"scroll":l=ns;break;case"wheel":l=nE;break;case"copy":case"cut":case"paste":l=nh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=nb}var c=0!=(4&t),h=!c&&"scroll"===e,d=c?null!==o?o+"Capture":null:o;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&null!=(m=eG(p,d))&&c.push(rx(p,m,f))),h)break;p=p.return}0<c.length&&(o=new l(o,u,null,n,i),a.push({event:o,listeners:c}))}}if(0==(7&t)){if((o="mouseover"===e||"pointerover"===e,l="mouseout"===e||"pointerout"===e,!(o&&n!==eM&&(u=n.relatedTarget||n.fromElement)&&(rG(u)||u[rq])))&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(u=n.relatedTarget||n.toElement,l=r,null!==(u=u?rG(u):null)&&(h=e3(u),u!==h||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=no,m="onMouseLeave",d="onMouseEnter",p="mouse",("pointerout"===e||"pointerover"===e)&&(c=nb,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?o:rY(l),f=null==u?o:rY(u),(o=new c(m,p+"leave",l,n,i)).target=h,o.relatedTarget=f,m=null,rG(i)===r&&((c=new c(d,p+"enter",u,n,i)).target=f,c.relatedTarget=h,m=c),h=m,l&&u)t:{for(c=l,d=u,p=0,f=c;f;f=rk(f))p++;for(f=0,m=d;m;m=rk(m))f++;for(;0<p-f;)c=rk(c),p--;for(;0<f-p;)d=rk(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break t;c=rk(c),d=rk(d)}c=null}else c=null;null!==l&&rS(a,o,l,c,!1),null!==u&&null!==h&&rS(a,h,u,c,!0)}e:{if("select"===(l=(o=r?rY(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g,y=nU;else if(nP(o))if(nV)y=nG;else{y=nK;var v=nH}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(y=nW);if(y&&(y=y(e,r))){nO(a,y,n,i);break e}v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&eg(o,"number",o.value)}switch(v=r?rY(r):window,e){case"focusin":(nP(v)||"true"===v.contentEditable)&&(n2=v,n4=r,n3=null);break;case"focusout":n3=n4=n2=null;break;case"mousedown":n6=!0;break;case"contextmenu":case"mouseup":case"dragend":n6=!1,n5(a,n,i);break;case"selectionchange":if(n1)break;case"keydown":case"keyup":n5(a,n,i)}if(nS)t:{switch(e){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else nD?nC(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(nI&&"ko"!==n.locale&&(nD||"onCompositionStart"!==b?"onCompositionEnd"===b&&nD&&(g=t3()):(t2="value"in(t1=i)?t1.value:t1.textContent,nD=!0)),0<(v=rE(r,b)).length&&(b=new nd(b,e,null,n,i),a.push({event:b,listeners:v}),g?b.data=g:null!==(g=nA(n))&&(b.data=g))),(g=nT?function(e,t){switch(e){case"compositionend":return nA(t);case"keypress":if(32!==t.which)return null;return nN=!0," ";case"textInput":return" "===(e=t.data)&&nN?null:e;default:return null}}(e,n):function(e,t){if(nD)return"compositionend"===e||!nS&&nC(e,t)?(e=t3(),t4=t2=t1=null,nD=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nI&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=rE(r,"onBeforeInput")).length&&(i=new nd("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=g)}rp(a,t)})}function rx(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rE(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=eG(e,n))&&r.unshift(rx(e,s,i)),null!=(s=eG(e,t))&&r.push(rx(e,s,i))),e=e.return}return r}function rk(e){if(null===e)return null;do e=e.return;while(e&&5!==e.tag)return e||null}function rS(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==u&&(o=u,i?null!=(l=eG(n,s))&&a.unshift(rx(n,l,o)):i||null!=(l=eG(n,s))&&a.push(rx(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var r_=/\r\n?/g,rT=/\u0000|\uFFFD/g;function rI(e){return("string"==typeof e?e:""+e).replace(r_,"\n").replace(rT,"")}function rN(e,t,n){if(t=rI(t),rI(e)!==t&&n)throw Error(h(425))}function rC(){}var rA=null,rD=null;function rR(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rP="function"==typeof setTimeout?setTimeout:void 0,rO="function"==typeof clearTimeout?clearTimeout:void 0,rL="function"==typeof Promise?Promise:void 0,rM="function"==typeof queueMicrotask?queueMicrotask:void 0!==rL?function(e){return rL.resolve(null).then(e).catch(rj)}:rP;function rj(e){setTimeout(function(){throw e})}function rF(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r){e.removeChild(i),tK(t);return}r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n)tK(t)}function rU(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function rV(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var rz=Math.random().toString(36).slice(2),rB="__reactFiber$"+rz,r$="__reactProps$"+rz,rq="__reactContainer$"+rz,rH="__reactEvents$"+rz,rK="__reactListeners$"+rz,rW="__reactHandles$"+rz;function rG(e){var t=e[rB];if(t)return t;for(var n=e.parentNode;n;){if(t=n[rq]||n[rB]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=rV(e);null!==e;){if(n=e[rB])return n;e=rV(e)}return t}n=(e=n).parentNode}return null}function rQ(e){return(e=e[rB]||e[rq])&&(5===e.tag||6===e.tag||13===e.tag||3===e.tag)?e:null}function rY(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(h(33))}function rX(e){return e[r$]||null}var rJ=[],rZ=-1;function r0(e){return{current:e}}function r1(e){0>rZ||(e.current=rJ[rZ],rJ[rZ]=null,rZ--)}function r2(e,t){rJ[++rZ]=e.current,e.current=t}var r4={},r3=r0(r4),r6=r0(!1),r5=r4;function r8(e,t){var n=e.type.contextTypes;if(!n)return r4;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function r9(e){return null!=(e=e.childContextTypes)}function r7(){r1(r6),r1(r3)}function ie(e,t,n){if(r3.current!==r4)throw Error(h(168));r2(r3,t),r2(r6,n)}function it(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(h(108,function(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return function e(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case A:return"Fragment";case C:return"Portal";case R:return"Profiler";case D:return"StrictMode";case M:return"Suspense";case j:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case O:return(t.displayName||"Context")+".Consumer";case P:return(t._context.displayName||"Context")+".Provider";case L:var n=t.render;return(t=t.displayName)||(t=""!==(t=n.displayName||n.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case F:return null!==(n=t.displayName||null)?n:e(t.type)||"Memo";case U:n=t._payload,t=t._init;try{return e(t(n))}catch(e){}}return null}(t);case 8:return t===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}(e)||"Unknown",i));return en({},n,r)}function ir(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||r4,r5=r3.current,r2(r3,e),r2(r6,r6.current),!0}function ii(e,t,n){var r=e.stateNode;if(!r)throw Error(h(169));n?(r.__reactInternalMemoizedMergedChildContext=e=it(e,t,r5),r1(r6),r1(r3),r2(r3,e)):r1(r6),r2(r6,n)}var is=null,ia=!1,io=!1;function il(e){null===is?is=[e]:is.push(e)}function iu(){if(!io&&null!==is){io=!0;var e=0,t=tk;try{var n=is;for(tk=1;e<n.length;e++){var r=n[e];do r=r(!0);while(null!==r)}is=null,ia=!1}catch(t){throw null!==is&&(is=is.slice(e+1)),e9(ti,iu),t}finally{tk=t,io=!1}}return null}var ic=[],ih=0,id=null,ip=0,im=[],ig=0,iy=null,iv=1,ib="";function iw(e,t){ic[ih++]=ip,ic[ih++]=id,id=e,ip=t}function ix(e,t,n){im[ig++]=iv,im[ig++]=ib,im[ig++]=iy,iy=e;var r=iv;e=ib;var i=32-th(r)-1;r&=~(1<<i),n+=1;var s=32-th(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,iv=1<<32-th(t)+i|n<<i|r,ib=s+e}else iv=1<<s|n<<i|r,ib=e}function iE(e){null!==e.return&&(iw(e,1),ix(e,1,0))}function ik(e){for(;e===id;)id=ic[--ih],ic[ih]=null,ip=ic[--ih],ic[ih]=null;for(;e===iy;)iy=im[--ig],im[ig]=null,ib=im[--ig],im[ig]=null,iv=im[--ig],im[ig]=null}var iS=null,i_=null,iT=!1,iI=null;function iN(e,t){var n=o8(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function iC(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,iS=e,i_=rU(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,iS=e,i_=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(e.memoizedState={dehydrated:t,treeContext:n=null!==iy?{id:iv,overflow:ib}:null,retryLane:0x40000000},(n=o8(18,null,null,0)).stateNode=t,n.return=e,e.child=n,iS=e,i_=null,!0);default:return!1}}function iA(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function iD(e){if(iT){var t=i_;if(t){var n=t;if(!iC(e,t)){if(iA(e))throw Error(h(418));t=rU(n.nextSibling);var r=iS;t&&iC(e,t)?iN(r,n):(e.flags=-4097&e.flags|2,iT=!1,iS=e)}}else{if(iA(e))throw Error(h(418));e.flags=-4097&e.flags|2,iT=!1,iS=e}}}function iR(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;iS=e}function iP(e){if(e!==iS)return!1;if(!iT)return iR(e),iT=!0,!1;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!rR(e.type,e.memoizedProps)),t&&(t=i_)){if(iA(e))throw iO(),Error(h(418));for(;t;)iN(e,t),t=rU(t.nextSibling)}if(iR(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(h(317));e:{for(t=0,e=e.nextSibling;e;){if(8===e.nodeType){var t,n=e.data;if("/$"===n){if(0===t){i_=rU(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}i_=null}}else i_=iS?rU(e.stateNode.nextSibling):null;return!0}function iO(){for(var e=i_;e;)e=rU(e.nextSibling)}function iL(){i_=iS=null,iT=!1}function iM(e){null===iI?iI=[e]:iI.push(e)}var ij=I.ReactCurrentBatchConfig;function iF(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(h(309));var r=n.stateNode}if(!r)throw Error(h(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===s?t.ref:((t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e})._stringRef=s,t)}if("string"!=typeof e)throw Error(h(284));if(!n._owner)throw Error(h(290,e))}return e}function iU(e,t){throw Error(h(31,"[object Object]"===(e=Object.prototype.toString.call(t))?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function iV(e){return(0,e._init)(e._payload)}function iz(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=o7(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return(t.index=r,e)?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,n,r){return null===t||6!==t.tag?(t=lr(n,e.mode,r)).return=e:(t=i(t,n)).return=e,t}function l(e,t,n,r){var s=n.type;return s===A?c(e,t,n.props.children,r,n.key):(null!==t&&(t.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===U&&iV(s)===t.type)?(r=i(t,n.props)).ref=iF(e,t,n):(r=le(n.type,n.key,n.props,null,e.mode,r)).ref=iF(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=li(n,e.mode,r)).return=e:(t=i(t,n.children||[])).return=e,t}function c(e,t,n,r,s){return null===t||7!==t.tag?(t=lt(n,e.mode,r,s)).return=e:(t=i(t,n)).return=e,t}function d(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=lr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case N:return(n=le(t.type,t.key,t.props,null,e.mode,n)).ref=iF(e,null,t),n.return=e,n;case C:return(t=li(t,e.mode,n)).return=e,t;case U:return d(e,(0,t._init)(t._payload),n)}if(ey(t)||B(t))return(t=lt(t,e.mode,n,null)).return=e,t;iU(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:o(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case N:return n.key===i?l(e,t,n,r):null;case C:return n.key===i?u(e,t,n,r):null;case U:return f(e,t,(i=n._init)(n._payload),r)}if(ey(n)||B(n))return null!==i?null:c(e,t,n,r,null);iU(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return o(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case N:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case C:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case U:return p(e,t,n,(0,r._init)(r._payload),i)}if(ey(r)||B(r))return c(t,e=e.get(n)||null,r,i,null);iU(t,r)}return null}return function o(l,u,c,m){if("object"==typeof c&&null!==c&&c.type===A&&null===c.key&&(c=c.props.children),"object"==typeof c&&null!==c){switch(c.$$typeof){case N:e:{for(var g=c.key,y=u;null!==y;){if(y.key===g){if((g=c.type)===A){if(7===y.tag){n(l,y.sibling),(u=i(y,c.props.children)).return=l,l=u;break e}}else if(y.elementType===g||"object"==typeof g&&null!==g&&g.$$typeof===U&&iV(g)===y.type){n(l,y.sibling),(u=i(y,c.props)).ref=iF(l,y,c),u.return=l,l=u;break e}n(l,y);break}t(l,y),y=y.sibling}c.type===A?((u=lt(c.props.children,l.mode,m,c.key)).return=l,l=u):((m=le(c.type,c.key,c.props,null,l.mode,m)).ref=iF(l,u,c),m.return=l,l=m)}return a(l);case C:e:{for(y=c.key;null!==u;){if(u.key===y)if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(l,u.sibling),(u=i(u,c.children||[])).return=l,l=u;break e}else{n(l,u);break}t(l,u),u=u.sibling}(u=li(c,l.mode,m)).return=l,l=u}return a(l);case U:return o(l,u,(y=c._init)(c._payload),m)}if(ey(c))return function(i,a,o,l){for(var u=null,c=null,h=a,m=a=0,g=null;null!==h&&m<o.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,o[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),a=s(y,a,m),null===c?u=y:c.sibling=y,c=y,h=g}if(m===o.length)return n(i,h),iT&&iw(i,m),u;if(null===h){for(;m<o.length;m++)null!==(h=d(i,o[m],l))&&(a=s(h,a,m),null===c?u=h:c.sibling=h,c=h);return iT&&iw(i,m),u}for(h=r(i,h);m<o.length;m++)null!==(g=p(h,i,m,o[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),a=s(g,a,m),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach(function(e){return t(i,e)}),iT&&iw(i,m),u}(l,u,c,m);if(B(c))return function(i,a,o,l){var u=B(o);if("function"!=typeof u)throw Error(h(150));if(null==(o=u.call(o)))throw Error(h(151));for(var c=u=null,m=a,g=a=0,y=null,v=o.next();null!==m&&!v.done;g++,v=o.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,l);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),a=s(b,a,g),null===c?u=b:c.sibling=b,c=b,m=y}if(v.done)return n(i,m),iT&&iw(i,g),u;if(null===m){for(;!v.done;g++,v=o.next())null!==(v=d(i,v.value,l))&&(a=s(v,a,g),null===c?u=v:c.sibling=v,c=v);return iT&&iw(i,g),u}for(m=r(i,m);!v.done;g++,v=o.next())null!==(v=p(m,i,g,v.value,l))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=s(v,a,g),null===c?u=v:c.sibling=v,c=v);return e&&m.forEach(function(e){return t(i,e)}),iT&&iw(i,g),u}(l,u,c,m);iU(l,c)}return"string"==typeof c&&""!==c||"number"==typeof c?(c=""+c,null!==u&&6===u.tag?(n(l,u.sibling),(u=i(u,c)).return=l):(n(l,u),(u=lr(c,l.mode,m)).return=l),a(l=u)):n(l,u)}}var iB=iz(!0),i$=iz(!1),iq=r0(null),iH=null,iK=null,iW=null;function iG(){iW=iK=iH=null}function iQ(e){var t=iq.current;r1(iq),e._currentValue=t}function iY(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function iX(e,t){iH=e,iW=iK=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(aw=!0),e.firstContext=null)}function iJ(e){var t=e._currentValue;if(iW!==e)if(e={context:e,memoizedValue:t,next:null},null===iK){if(null===iH)throw Error(h(308));iK=e,iH.dependencies={lanes:0,firstContext:e}}else iK=iK.next=e;return t}var iZ=null;function i0(e){null===iZ?iZ=[e]:iZ.push(e)}function i1(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,i0(t)):(n.next=i.next,i.next=n),t.interleaved=n,i2(e,r)}function i2(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var i4=!1;function i3(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function i6(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function i5(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function i8(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!=(2&oo)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,i2(e,n)}return null===(i=r.interleaved)?(t.next=t,i0(r)):(t.next=i.next,i.next=t),r.interleaved=t,i2(e,n)}function i9(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,tE(e,n)}}function i7(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n)null===s?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function se(e,t,n,r){var i=e.updateQueue;i4=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,u=l.next;l.next=null,null===a?s=u:a.next=u,a=l;var c=e.alternate;null!==c&&(o=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===o?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l)}if(null!==s){var h=i.baseState;for(a=0,c=u=l=null,o=s;;){var d=o.lane,f=o.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(d=t,f=n,m.tag){case 1:if("function"==typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(d="function"==typeof(p=m.payload)?p.call(f,h,d):p))break e;h=en({},h,d);break e;case 2:i4=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[o]:d.push(o))}else f={eventTime:f,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(u=c=f,l=h):c=c.next=f,a|=d;if(null===(o=o.next))if(null===(o=i.shared.pending))break;else o=(d=o).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}if(null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do a|=i.lane,i=i.next;while(i!==t)}else null===s&&(i.shared.lanes=0);om|=a,e.lanes=a,e.memoizedState=h}}function st(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(h(191,i));i.call(r)}}}var sn={},sr=r0(sn),si=r0(sn),ss=r0(sn);function sa(e){if(e===sn)throw Error(h(174));return e}function so(e,t){switch(r2(ss,t),r2(si,e),r2(sr,sn),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:eS(null,"");break;default:t=eS(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}r1(sr),r2(sr,t)}function sl(){r1(sr),r1(si),r1(ss)}function su(e){sa(ss.current);var t=sa(sr.current),n=eS(t,e.type);t!==n&&(r2(si,e),r2(sr,n))}function sc(e){si.current===e&&(r1(sr),r1(si))}var sh=r0(0);function sd(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sf=[];function sp(){for(var e=0;e<sf.length;e++)sf[e]._workInProgressVersionPrimary=null;sf.length=0}var sm=I.ReactCurrentDispatcher,sg=I.ReactCurrentBatchConfig,sy=0,sv=null,sb=null,sw=null,sx=!1,sE=!1,sk=0,sS=0;function s_(){throw Error(h(321))}function sT(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!nQ(e[n],t[n]))return!1;return!0}function sI(e,t,n,r,i,s){if(sy=s,sv=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,sm.current=null===e||null===e.memoizedState?ae:at,e=n(r,i),sE){s=0;do{if(sE=!1,sk=0,25<=s)throw Error(h(301));s+=1,sw=sb=null,t.updateQueue=null,sm.current=an,e=n(r,i)}while(sE)}if(sm.current=s7,t=null!==sb&&null!==sb.next,sy=0,sw=sb=sv=null,sx=!1,t)throw Error(h(300));return e}function sN(){var e=0!==sk;return sk=0,e}function sC(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===sw?sv.memoizedState=sw=e:sw=sw.next=e,sw}function sA(){if(null===sb){var e=sv.alternate;e=null!==e?e.memoizedState:null}else e=sb.next;var t=null===sw?sv.memoizedState:sw.next;if(null!==t)sw=t,sb=e;else{if(null===e)throw Error(h(310));e={memoizedState:(sb=e).memoizedState,baseState:sb.baseState,baseQueue:sb.baseQueue,queue:sb.queue,next:null},null===sw?sv.memoizedState=sw=e:sw=sw.next=e}return sw}function sD(e,t){return"function"==typeof t?t(e):t}function sR(e){var t=sA(),n=t.queue;if(null===n)throw Error(h(311));n.lastRenderedReducer=e;var r=sb,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var o=a=null,l=null,u=s;do{var c=u.lane;if((sy&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(o=l=d,a=r):l=l.next=d,sv.lanes|=c,om|=c}u=u.next}while(null!==u&&u!==s)null===l?a=r:l.next=o,nQ(r,t.memoizedState)||(aw=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do s=i.lane,sv.lanes|=s,om|=s,i=i.next;while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function sP(e){var t=sA(),n=t.queue;if(null===n)throw Error(h(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i)nQ(s,t.memoizedState)||(aw=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function sO(){}function sL(e,t){var n=sv,r=sA(),i=t(),s=!nQ(r.memoizedState,i);if(s&&(r.memoizedState=i,aw=!0),r=r.queue,sW(sF.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==sw&&1&sw.memoizedState.tag){if(n.flags|=2048,sB(9,sj.bind(null,n,r,i,t),void 0,null),null===ol)throw Error(h(349));0!=(30&sy)||sM(n,t,i)}return i}function sM(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sv.updateQueue)?(t={lastEffect:null,stores:null},sv.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function sj(e,t,n,r){t.value=n,t.getSnapshot=r,sU(t)&&sV(e)}function sF(e,t,n){return n(function(){sU(t)&&sV(e)})}function sU(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!nQ(e,n)}catch(e){return!0}}function sV(e){var t=i2(e,1);null!==t&&oL(t,e,1,-1)}function sz(e){var t=sC();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,t.queue=e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sD,lastRenderedState:e},e=e.dispatch=s6.bind(null,sv,e),[t.memoizedState,e]}function sB(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sv.updateQueue)?(t={lastEffect:null,stores:null},sv.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function s$(){return sA().memoizedState}function sq(e,t,n,r){var i=sC();sv.flags|=e,i.memoizedState=sB(1|t,n,void 0,void 0===r?null:r)}function sH(e,t,n,r){var i=sA();r=void 0===r?null:r;var s=void 0;if(null!==sb){var a=sb.memoizedState;if(s=a.destroy,null!==r&&sT(r,a.deps)){i.memoizedState=sB(t,n,s,r);return}}sv.flags|=e,i.memoizedState=sB(1|t,n,s,r)}function sK(e,t){return sq(8390656,8,e,t)}function sW(e,t){return sH(2048,8,e,t)}function sG(e,t){return sH(4,2,e,t)}function sQ(e,t){return sH(4,4,e,t)}function sY(e,t){return"function"==typeof t?(t(e=e()),function(){t(null)}):null!=t?(t.current=e=e(),function(){t.current=null}):void 0}function sX(e,t,n){return n=null!=n?n.concat([e]):null,sH(4,4,sY.bind(null,t,e),n)}function sJ(){}function sZ(e,t){var n=sA();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&sT(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function s0(e,t){var n=sA();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&sT(t,r[1])?r[0]:(n.memoizedState=[e=e(),t],e)}function s1(e,t,n){return 0==(21&sy)?(e.baseState&&(e.baseState=!1,aw=!0),e.memoizedState=n):(nQ(n,t)||(n=tb(),sv.lanes|=n,om|=n,e.baseState=!0),t)}function s2(e,t){var n=tk;tk=0!==n&&4>n?n:4,e(!0);var r=sg.transition;sg.transition={};try{e(!1),t()}finally{tk=n,sg.transition=r}}function s4(){return sA().memoizedState}function s3(e,t,n){var r=oO(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},s5(e)?s8(t,n):null!==(n=i1(e,t,n,r))&&(oL(n,e,r,oP()),s9(n,t,r))}function s6(e,t,n){var r=oO(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(s5(e))s8(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,nQ(o,a)){var l=t.interleaved;null===l?(i.next=i,i0(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch(e){}finally{}null!==(n=i1(e,t,i,r))&&(oL(n,e,r,i=oP()),s9(n,t,r))}}function s5(e){var t=e.alternate;return e===sv||null!==t&&t===sv}function s8(e,t){sE=sx=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function s9(e,t,n){if(0!=(4194240&n)){var r=t.lanes;r&=e.pendingLanes,t.lanes=n|=r,tE(e,n)}}var s7={readContext:iJ,useCallback:s_,useContext:s_,useEffect:s_,useImperativeHandle:s_,useInsertionEffect:s_,useLayoutEffect:s_,useMemo:s_,useReducer:s_,useRef:s_,useState:s_,useDebugValue:s_,useDeferredValue:s_,useTransition:s_,useMutableSource:s_,useSyncExternalStore:s_,useId:s_,unstable_isNewReconciler:!1},ae={readContext:iJ,useCallback:function(e,t){return sC().memoizedState=[e,void 0===t?null:t],e},useContext:iJ,useEffect:sK,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,sq(4194308,4,sY.bind(null,t,e),n)},useLayoutEffect:function(e,t){return sq(4194308,4,e,t)},useInsertionEffect:function(e,t){return sq(4,2,e,t)},useMemo:function(e,t){return t=void 0===t?null:t,sC().memoizedState=[e=e(),t],e},useReducer:function(e,t,n){var r=sC();return r.memoizedState=r.baseState=t=void 0!==n?n(t):t,r.queue=e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=s3.bind(null,sv,e),[r.memoizedState,e]},useRef:function(e){return sC().memoizedState=e={current:e}},useState:sz,useDebugValue:sJ,useDeferredValue:function(e){return sC().memoizedState=e},useTransition:function(){var e=sz(!1),t=e[0];return e=s2.bind(null,e[1]),sC().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sv,i=sC();if(iT){if(void 0===n)throw Error(h(407));n=n()}else{if(n=t(),null===ol)throw Error(h(349));0!=(30&sy)||sM(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,sK(sF.bind(null,r,s,e),[e]),r.flags|=2048,sB(9,sj.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=sC(),t=ol.identifierPrefix;if(iT){var n=ib,r=iv;t=":"+t+"R"+(n=(r&~(1<<32-th(r)-1)).toString(32)+n),0<(n=sk++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=sS++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},at={readContext:iJ,useCallback:sZ,useContext:iJ,useEffect:sW,useImperativeHandle:sX,useInsertionEffect:sG,useLayoutEffect:sQ,useMemo:s0,useReducer:sR,useRef:s$,useState:function(){return sR(sD)},useDebugValue:sJ,useDeferredValue:function(e){return s1(sA(),sb.memoizedState,e)},useTransition:function(){return[sR(sD)[0],sA().memoizedState]},useMutableSource:sO,useSyncExternalStore:sL,useId:s4,unstable_isNewReconciler:!1},an={readContext:iJ,useCallback:sZ,useContext:iJ,useEffect:sW,useImperativeHandle:sX,useInsertionEffect:sG,useLayoutEffect:sQ,useMemo:s0,useReducer:sP,useRef:s$,useState:function(){return sP(sD)},useDebugValue:sJ,useDeferredValue:function(e){var t=sA();return null===sb?t.memoizedState=e:s1(t,sb.memoizedState,e)},useTransition:function(){return[sP(sD)[0],sA().memoizedState]},useMutableSource:sO,useSyncExternalStore:sL,useId:s4,unstable_isNewReconciler:!1};function ar(e,t){if(e&&e.defaultProps)for(var n in t=en({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}function ai(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:en({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var as={isMounted:function(e){return!!(e=e._reactInternals)&&e3(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=oP(),i=oO(e),s=i5(r,i);s.payload=t,null!=n&&(s.callback=n),null!==(t=i8(e,s,i))&&(oL(t,e,i,r),i9(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=oP(),i=oO(e),s=i5(r,i);s.tag=1,s.payload=t,null!=n&&(s.callback=n),null!==(t=i8(e,s,i))&&(oL(t,e,i,r),i9(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=oP(),r=oO(e),i=i5(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=i8(e,i,r))&&(oL(t,e,r,n),i9(t,e,r))}};function aa(e,t,n,r,i,s,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||!nY(n,r)||!nY(i,s)}function ao(e,t,n){var r=!1,i=r4,s=t.contextType;return"object"==typeof s&&null!==s?s=iJ(s):(i=r9(t)?r5:r3.current,s=(r=null!=(r=t.contextTypes))?r8(e,i):r4),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=as,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function al(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&as.enqueueReplaceState(t,t.state,null)}function au(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},i3(e);var s=t.contextType;"object"==typeof s&&null!==s?i.context=iJ(s):i.context=r8(e,s=r9(t)?r5:r3.current),i.state=e.memoizedState,"function"==typeof(s=t.getDerivedStateFromProps)&&(ai(e,t,s,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&as.enqueueReplaceState(i,i.state,null),se(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function ac(e,t){try{var n="",r=t;do n+=function(e){switch(e.tag){case 5:return er(e.type);case 16:return er("Lazy");case 13:return er("Suspense");case 19:return er("SuspenseList");case 0:case 2:case 15:return e=es(e.type,!1);case 11:return e=es(e.type.render,!1);case 1:return e=es(e.type,!0);default:return""}}(r),r=r.return;while(r)var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i,digest:null}}function ah(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ad(e,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var af="function"==typeof WeakMap?WeakMap:Map;function ap(e,t,n){(n=i5(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ok||(ok=!0,oS=r),ad(e,t)},n}function am(e,t,n){(n=i5(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ad(e,t)}}var s=e.stateNode;return null!==s&&"function"==typeof s.componentDidCatch&&(n.callback=function(){ad(e,t),"function"!=typeof r&&(null===o_?o_=new Set([this]):o_.add(this));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}function ag(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new af;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=o2.bind(null,e,t,n),t.then(e,e))}function ay(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e)return null}function av(e,t,n,r,i){return 0==(1&e.mode)?e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=i5(-1,1)).tag=2,i8(n,t,1))),n.lanes|=1):(e.flags|=65536,e.lanes=i),e}var ab=I.ReactCurrentOwner,aw=!1;function ax(e,t,n,r){t.child=null===e?i$(t,null,n,r):iB(t,e.child,n,r)}function aE(e,t,n,r,i){n=n.render;var s=t.ref;return(iX(t,i),r=sI(e,t,n,r,s,i),n=sN(),null===e||aw)?(iT&&n&&iE(t),t.flags|=1,ax(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,az(e,t,i))}function ak(e,t,n,r,i){if(null===e){var s=n.type;return"function"!=typeof s||o9(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=le(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,aS(e,t,s,r,i))}if(s=e.child,0==(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:nY)(a,r)&&e.ref===t.ref)return az(e,t,i)}return t.flags|=1,(e=o7(s,r)).ref=t.ref,e.return=t,t.child=e}function aS(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(nY(s,r)&&e.ref===t.ref)if(aw=!1,t.pendingProps=r=s,0==(e.lanes&i))return t.lanes=e.lanes,az(e,t,i);else 0!=(131072&e.flags)&&(aw=!0)}return aI(e,t,n,r,i)}function a_(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r2(od,oh),oh|=n;else{if(0==(0x40000000&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=0x40000000,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,r2(od,oh),oh|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,r2(od,oh),oh|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,r2(od,oh),oh|=r;return ax(e,t,i,n),t.child}function aT(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function aI(e,t,n,r,i){var s=r9(n)?r5:r3.current;return(s=r8(t,s),iX(t,i),n=sI(e,t,n,r,s,i),r=sN(),null===e||aw)?(iT&&r&&iE(t),t.flags|=1,ax(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,az(e,t,i))}function aN(e,t,n,r,i){if(r9(n)){var s=!0;ir(t)}else s=!1;if(iX(t,i),null===t.stateNode)aV(e,t),ao(t,n,r),au(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,u=n.contextType;u="object"==typeof u&&null!==u?iJ(u):r8(t,u=r9(n)?r5:r3.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==r||l!==u)&&al(t,a,r,u),i4=!1;var d=t.memoizedState;a.state=d,se(t,r,a,i),l=t.memoizedState,o!==r||d!==l||r6.current||i4?("function"==typeof c&&(ai(t,n,c,r),l=t.memoizedState),(o=i4||aa(t,n,o,r,d,l,u))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,i6(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:ar(t.type,o),a.props=u,h=t.pendingProps,d=a.context,l="object"==typeof(l=n.contextType)&&null!==l?iJ(l):r8(t,l=r9(n)?r5:r3.current);var f=n.getDerivedStateFromProps;(c="function"==typeof f||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==h||d!==l)&&al(t,a,r,l),i4=!1,d=t.memoizedState,a.state=d,se(t,r,a,i);var p=t.memoizedState;o!==h||d!==p||r6.current||i4?("function"==typeof f&&(ai(t,n,f,r),p=t.memoizedState),(u=i4||aa(t,n,u,r,d,p,l)||!1)?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=u):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return aC(e,t,n,r,s,i)}function aC(e,t,n,r,i,s){aT(e,t);var a=0!=(128&t.flags);if(!r&&!a)return i&&ii(t,n,!1),az(e,t,s);r=t.stateNode,ab.current=t;var o=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=iB(t,e.child,null,s),t.child=iB(t,null,o,s)):ax(e,t,o,s),t.memoizedState=r.state,i&&ii(t,n,!0),t.child}function aA(e){var t=e.stateNode;t.pendingContext?ie(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ie(e,t.context,!1),so(e,t.containerInfo)}function aD(e,t,n,r,i){return iL(),iM(i),t.flags|=256,ax(e,t,n,r),t.child}var aR={dehydrated:null,treeContext:null,retryLane:0};function aP(e){return{baseLanes:e,cachePool:null,transitions:null}}function aO(e,t,n){var r,i=t.pendingProps,s=sh.current,a=!1,o=0!=(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!=(2&s)),r?(a=!0,t.flags&=-129):(null===e||null!==e.memoizedState)&&(s|=1),r2(sh,1&s),null===e)return(iD(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated))?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=0x40000000,null):(o=i.children,e=i.fallback,a?(i=t.mode,a=t.child,o={mode:"hidden",children:o},0==(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=o):a=ln(o,i,0,null),e=lt(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=aP(n),t.memoizedState=aR,e):aL(t,o));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated)){var l=e,u=t,c=o,d=i,f=r,p=s,m=n;if(c)return 256&u.flags?(u.flags&=-257,aM(l,u,m,d=ah(Error(h(422))))):null!==u.memoizedState?(u.child=l.child,u.flags|=128,null):(p=d.fallback,f=u.mode,d=ln({mode:"visible",children:d.children},f,0,null),p=lt(p,f,m,null),p.flags|=2,d.return=u,p.return=u,d.sibling=p,u.child=d,0!=(1&u.mode)&&iB(u,l.child,null,m),u.child.memoizedState=aP(m),u.memoizedState=aR,p);if(0==(1&u.mode))return aM(l,u,m,null);if("$!"===f.data){if(d=f.nextSibling&&f.nextSibling.dataset)var g=d.dgst;return d=g,aM(l,u,m,d=ah(p=Error(h(419)),d,void 0))}if(g=0!=(m&l.childLanes),aw||g){if(null!==(d=ol)){switch(m&-m){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:f=32;break;case 0x20000000:f=0x10000000;break;default:f=0}0!==(f=0!=(f&(d.suspendedLanes|m))?0:f)&&f!==p.retryLane&&(p.retryLane=f,i2(l,f),oL(d,l,f,-1))}return oG(),aM(l,u,m,d=ah(Error(h(421))))}return"$?"===f.data?(u.flags|=128,u.child=l.child,u=o3.bind(null,l),f._reactRetry=u,null):(l=p.treeContext,i_=rU(f.nextSibling),iS=u,iT=!0,iI=null,null!==l&&(im[ig++]=iv,im[ig++]=ib,im[ig++]=iy,iv=l.id,ib=l.overflow,iy=u),u=aL(u,d.children),u.flags|=4096,u)}if(a){a=i.fallback,o=t.mode,r=(s=e.child).sibling;var y={mode:"hidden",children:i.children};return 0==(1&o)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=y,t.deletions=null):(i=o7(s,y)).subtreeFlags=0xe00000&s.subtreeFlags,null!==r?a=o7(r,a):(a=lt(a,o,n,null),a.flags|=2),a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,o=null===(o=e.child.memoizedState)?aP(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=aR,i}return e=(a=e.child).sibling,i=o7(a,{mode:"visible",children:i.children}),0==(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function aL(e,t){return(t=ln({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function aM(e,t,n,r){return null!==r&&iM(r),iB(t,e.child,null,n),e=aL(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function aj(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),iY(e.return,t,n)}function aF(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function aU(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(ax(e,t,r.children,n),0!=(2&(r=sh.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&aj(e,n,t);else if(19===e.tag)aj(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(r2(sh,r),0==(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(i=null,n=t.child;null!==n;)null!==(e=n.alternate)&&null===sd(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),aF(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===sd(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}aF(t,!0,n,null,s);break;case"together":aF(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function aV(e,t){0==(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function az(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),om|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(h(153));if(null!==t.child){for(n=o7(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=o7(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function aB(e,t){if(!iT)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function a$(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=0xe00000&i.subtreeFlags,r|=0xe00000&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}i=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},s=function(){},a=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,sa(sr.current);var s,a=null;switch(n){case"input":i=eh(e,i),r=eh(e,r),a=[];break;case"select":i=en({},i,{value:void 0}),r=en({},r,{value:void 0}),a=[];break;case"textarea":i=eb(e,i),r=eb(e,r),a=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=rC)}for(u in eO(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(f.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(o=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(null!=l||null!=o))if("style"===u)if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,o=o?o.__html:void 0,null!=l&&o!==l&&(a=a||[]).push(u,l)):"children"===u?"string"!=typeof l&&"number"!=typeof l||(a=a||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(f.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&rm("scroll",e),a||o===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},o=function(e,t,n,r){n!==r&&(t.flags|=4)};var aq=!1,aH=!1,aK="function"==typeof WeakSet?WeakSet:Set,aW=null;function aG(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){o1(e,t,n)}else n.current=null}function aQ(e,t,n){try{n()}catch(n){o1(e,t,n)}}var aY=!1;function aX(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&aQ(t,n,s)}i=i.next}while(i!==r)}}function aJ(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function aZ(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function a0(e){return 5===e.tag||3===e.tag||4===e.tag}function a1(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||a0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags||null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}var a2=null,a4=!1;function a3(e,t,n){for(n=n.child;null!==n;)a6(e,t,n),n=n.sibling}function a6(e,t,n){if(tc&&"function"==typeof tc.onCommitFiberUnmount)try{tc.onCommitFiberUnmount(tu,n)}catch(e){}switch(n.tag){case 5:aH||aG(n,t);case 6:var r=a2,i=a4;a2=null,a3(e,t,n),a2=r,a4=i,null!==a2&&(a4?(e=a2,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):a2.removeChild(n.stateNode));break;case 18:null!==a2&&(a4?(e=a2,n=n.stateNode,8===e.nodeType?rF(e.parentNode,n):1===e.nodeType&&rF(e,n),tK(e)):rF(a2,n.stateNode));break;case 4:r=a2,i=a4,a2=n.stateNode.containerInfo,a4=!0,a3(e,t,n),a2=r,a4=i;break;case 0:case 11:case 14:case 15:if(!aH&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!=(2&s)?aQ(n,t,a):0!=(4&s)&&aQ(n,t,a)),i=i.next}while(i!==r)}a3(e,t,n);break;case 1:if(!aH&&(aG(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){o1(n,t,e)}a3(e,t,n);break;case 21:default:a3(e,t,n);break;case 22:1&n.mode?(aH=(r=aH)||null!==n.memoizedState,a3(e,t,n),aH=r):a3(e,t,n)}}function a5(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new aK),t.forEach(function(t){var r=o6.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function a8(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=s;e:for(;null!==a;){switch(a.tag){case 5:a2=a.stateNode,a4=!1;break e;case 3:case 4:a2=a.stateNode.containerInfo,a4=!0;break e}a=a.return}if(null===a2)throw Error(h(160));a6(e,s,i),a2=null,a4=!1;var o=i.alternate;null!==o&&(o.return=null),i.return=null}catch(e){o1(i,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)a9(t,e),t=t.sibling}function a9(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(a8(t,e),a7(e),4&r){try{aX(3,e,e.return),aJ(3,e)}catch(t){o1(e,e.return,t)}try{aX(5,e,e.return)}catch(t){o1(e,e.return,t)}}break;case 1:a8(t,e),a7(e),512&r&&null!==n&&aG(n,n.return);break;case 5:if(a8(t,e),a7(e),512&r&&null!==n&&aG(n,n.return),32&e.flags){var i=e.stateNode;try{eN(i,"")}catch(t){o1(e,e.return,t)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,o=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===o&&"radio"===s.type&&null!=s.name&&ef(i,s),eL(o,a);var u=eL(o,s);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];"style"===c?eR(i,d):"dangerouslySetInnerHTML"===c?eI(i,d):"children"===c?eN(i,d):T(i,c,d,u)}switch(o){case"input":ep(i,s);break;case"textarea":ex(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ev(i,!!s.multiple,p,!1):!!s.multiple!==f&&(null!=s.defaultValue?ev(i,!!s.multiple,s.defaultValue,!0):ev(i,!!s.multiple,s.multiple?[]:"",!1))}i[r$]=s}catch(t){o1(e,e.return,t)}}break;case 6:if(a8(t,e),a7(e),4&r){if(null===e.stateNode)throw Error(h(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(t){o1(e,e.return,t)}}break;case 3:if(a8(t,e),a7(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{tK(t.containerInfo)}catch(t){o1(e,e.return,t)}break;case 4:default:a8(t,e),a7(e);break;case 13:a8(t,e),a7(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,s&&(null===i.alternate||null===i.alternate.memoizedState)&&(ow=tn())),4&r&&a5(e);break;case 22:if(c=null!==n&&null!==n.memoizedState,1&e.mode?(aH=(u=aH)||c,a8(t,e),aH=u):a8(t,e),a7(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!c&&0!=(1&e.mode))for(aW=e,c=e.child;null!==c;){for(d=aW=c;null!==aW;){switch(p=(f=aW).child,f.tag){case 0:case 11:case 14:case 15:aX(4,f,f.return);break;case 1:aG(f,f.return);var m=f.stateNode;if("function"==typeof m.componentWillUnmount){r=f,n=f.return;try{m.props=(t=r).memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(e){o1(r,n,e)}}break;case 5:aG(f,f.return);break;case 22:if(null!==f.memoizedState){ot(d);continue}}null!==p?(p.return=f,aW=p):ot(d)}c=c.sibling}e:for(c=null,d=e;;){if(5===d.tag){if(null===c){c=d;try{i=d.stateNode,u?(s=i.style,"function"==typeof s.setProperty?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,a=null!=(l=d.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null,o.style.display=eD("display",a))}catch(t){o1(e,e.return,t)}}}else if(6===d.tag){if(null===c)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(t){o1(e,e.return,t)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:a8(t,e),a7(e),4&r&&a5(e);case 21:}}function a7(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(a0(n)){var r=n;break e}n=n.return}throw Error(h(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(eN(i,""),r.flags&=-33);var s=a1(e);!function e(t,n,r){var i=t.tag;if(5===i||6===i)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=a1(e);!function e(t,n,r){var i=t.tag;if(5===i||6===i)t=t.stateNode,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!=(r=r._reactRootContainer)||null!==n.onclick||(n.onclick=rC));else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,o,a);break;default:throw Error(h(161))}}catch(t){o1(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function oe(e){for(;null!==aW;){var t=aW;if(0!=(8772&t.flags)){var n=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:aH||aJ(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!aH)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ar(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&st(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}st(t,a,n)}break;case 5:var o=t.stateNode;if(null===n&&4&t.flags){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var c=u.memoizedState;if(null!==c){var d=c.dehydrated;null!==d&&tK(d)}}}break;default:throw Error(h(163))}aH||512&t.flags&&aZ(t)}catch(e){o1(t,t.return,e)}}if(t===e){aW=null;break}if(null!==(n=t.sibling)){n.return=t.return,aW=n;break}aW=t.return}}function ot(e){for(;null!==aW;){var t=aW;if(t===e){aW=null;break}var n=t.sibling;if(null!==n){n.return=t.return,aW=n;break}aW=t.return}}function on(e){for(;null!==aW;){var t=aW;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{aJ(4,t)}catch(e){o1(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){o1(t,i,e)}}var s=t.return;try{aZ(t)}catch(e){o1(t,s,e)}break;case 5:var a=t.return;try{aZ(t)}catch(e){o1(t,a,e)}}}catch(e){o1(t,t.return,e)}if(t===e){aW=null;break}var o=t.sibling;if(null!==o){o.return=t.return,aW=o;break}aW=t.return}}var or=Math.ceil,oi=I.ReactCurrentDispatcher,os=I.ReactCurrentOwner,oa=I.ReactCurrentBatchConfig,oo=0,ol=null,ou=null,oc=0,oh=0,od=r0(0),of=0,op=null,om=0,og=0,oy=0,ov=null,ob=null,ow=0,ox=1/0,oE=null,ok=!1,oS=null,o_=null,oT=!1,oI=null,oN=0,oC=0,oA=null,oD=-1,oR=0;function oP(){return 0!=(6&oo)?tn():-1!==oD?oD:oD=tn()}function oO(e){return 0==(1&e.mode)?1:0!=(2&oo)&&0!==oc?oc&-oc:null!==ij.transition?(0===oR&&(oR=tb()),oR):0!==(e=tk)?e:e=void 0===(e=window.event)?16:t0(e.type)}function oL(e,t,n,r){if(50<oC)throw oC=0,oA=null,Error(h(185));tx(e,n,r),(0==(2&oo)||e!==ol)&&(e===ol&&(0==(2&oo)&&(og|=n),4===of&&oV(e,oc)),oM(e,r),1===n&&0===oo&&0==(1&t.mode)&&(ox=tn()+500,ia&&iu()))}function oM(e,t){var n,r=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-th(s),o=1<<a,l=i[a];-1===l?(0==(o&n)||0!=(o&r))&&(i[a]=function(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return -1}}(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var i=ty(e,e===ol?oc:0);if(0===i)null!==r&&e7(r),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=r&&e7(r),1===t)0===e.tag?(n=oz.bind(null,e),ia=!0,il(n)):il(oz.bind(null,e)),rM(function(){0==(6&oo)&&iu()}),r=null;else{switch(tS(i)){case 1:r=ti;break;case 4:r=ts;break;case 16:default:r=ta;break;case 0x20000000:r=tl}r=e9(r,oj.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function oj(e,t){if(oD=-1,oR=0,0!=(6&oo))throw Error(h(327));var n=e.callbackNode;if(oZ()&&e.callbackNode!==n)return null;var r=ty(e,e===ol?oc:0);if(0===r)return null;if(0!=(30&r)||0!=(r&e.expiredLanes)||t)t=oQ(e,r);else{t=r;var i=oo;oo|=2;var s=oW();for((ol!==e||oc!==t)&&(oE=null,ox=tn()+500,oH(e,t));;)try{for(;null!==ou&&!te();)oY(ou);break}catch(t){oK(e,t)}iG(),oi.current=s,oo=i,null!==ou?t=0:(ol=null,oc=0,t=of)}if(0!==t){if(2===t&&0!==(i=tv(e))&&(r=i,t=oF(e,i)),1===t)throw n=op,oH(e,0),oV(e,r),oM(e,tn()),n;if(6===t)oV(e,r);else{if(i=e.current.alternate,0==(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!nQ(s(),i))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=oQ(e,r))&&0!==(s=tv(e))&&(r=s,t=oF(e,s)),1===t))throw n=op,oH(e,0),oV(e,r),oM(e,tn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(h(345));case 2:case 5:oJ(e,ob,oE);break;case 3:if(oV(e,r),(0x7c00000&r)===r&&10<(t=ow+500-tn())){if(0!==ty(e,0))break;if(((i=e.suspendedLanes)&r)!==r){oP(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=rP(oJ.bind(null,e,ob,oE),t);break}oJ(e,ob,oE);break;case 4:if(oV(e,r),(4194240&r)===r)break;for(i=-1,t=e.eventTimes;0<r;){var a=31-th(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=tn()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*or(r/1960))-r)){e.timeoutHandle=rP(oJ.bind(null,e,ob,oE),r);break}oJ(e,ob,oE);break;default:throw Error(h(329))}}}return oM(e,tn()),e.callbackNode===n?oj.bind(null,e):null}function oF(e,t){var n=ov;return e.current.memoizedState.isDehydrated&&(oH(e,t).flags|=256),2!==(e=oQ(e,t))&&(t=ob,ob=n,null!==t&&oU(t)),e}function oU(e){null===ob?ob=e:ob.push.apply(ob,e)}function oV(e,t){for(t&=~oy,t&=~og,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-th(t),r=1<<n;e[n]=-1,t&=~r}}function oz(e){if(0!=(6&oo))throw Error(h(327));oZ();var t=ty(e,0);if(0==(1&t))return oM(e,tn()),null;var n=oQ(e,t);if(0!==e.tag&&2===n){var r=tv(e);0!==r&&(t=r,n=oF(e,r))}if(1===n)throw n=op,oH(e,0),oV(e,t),oM(e,tn()),n;if(6===n)throw Error(h(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,oJ(e,ob,oE),oM(e,tn()),null}function oB(e,t){var n=oo;oo|=1;try{return e(t)}finally{0===(oo=n)&&(ox=tn()+500,ia&&iu())}}function o$(e){null!==oI&&0===oI.tag&&0==(6&oo)&&oZ();var t=oo;oo|=1;var n=oa.transition,r=tk;try{if(oa.transition=null,tk=1,e)return e()}finally{tk=r,oa.transition=n,0==(6&(oo=t))&&iu()}}function oq(){oh=od.current,r1(od)}function oH(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rO(n)),null!==ou)for(n=ou.return;null!==n;){var r=n;switch(ik(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&r7();break;case 3:sl(),r1(r6),r1(r3),sp();break;case 5:sc(r);break;case 4:sl();break;case 13:case 19:r1(sh);break;case 10:iQ(r.type._context);break;case 22:case 23:oq()}n=n.return}if(ol=e,ou=e=o7(e.current,null),oc=oh=t,of=0,op=null,oy=og=om=0,ob=ov=null,null!==iZ){for(t=0;t<iZ.length;t++)if(null!==(r=(n=iZ[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}iZ=null}return e}function oK(e,t){for(;;){var n=ou;try{if(iG(),sm.current=s7,sx){for(var r=sv.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}sx=!1}if(sy=0,sw=sb=sv=null,sE=!1,sk=0,os.current=null,null===n||null===n.return){of=1,op=t,ou=null;break}e:{var s=e,a=n.return,o=n,l=t;if(t=oc,o.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l,c=o,d=c.tag;if(0==(1&c.mode)&&(0===d||11===d||15===d)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=ay(a);if(null!==p){p.flags&=-257,av(p,a,o,s,t),1&p.mode&&ag(s,u,t),t=p,l=u;var m=t.updateQueue;if(null===m){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}if(0==(1&t)){ag(s,u,t),oG();break e}l=Error(h(426))}else if(iT&&1&o.mode){var y=ay(a);if(null!==y){0==(65536&y.flags)&&(y.flags|=256),av(y,a,o,s,t),iM(ac(l,o));break e}}s=l=ac(l,o),4!==of&&(of=2),null===ov?ov=[s]:ov.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var v=ap(s,l,t);i7(s,v);break e;case 1:o=l;var b=s.type,w=s.stateNode;if(0==(128&s.flags)&&("function"==typeof b.getDerivedStateFromError||null!==w&&"function"==typeof w.componentDidCatch&&(null===o_||!o_.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var x=am(s,o,t);i7(s,x);break e}}s=s.return}while(null!==s)}oX(n)}catch(e){t=e,ou===n&&null!==n&&(ou=n=n.return);continue}break}}function oW(){var e=oi.current;return oi.current=s7,null===e?s7:e}function oG(){(0===of||3===of||2===of)&&(of=4),null===ol||0==(0xfffffff&om)&&0==(0xfffffff&og)||oV(ol,oc)}function oQ(e,t){var n=oo;oo|=2;var r=oW();for((ol!==e||oc!==t)&&(oE=null,oH(e,t));;)try{for(;null!==ou;)oY(ou);break}catch(t){oK(e,t)}if(iG(),oo=n,oi.current=r,null!==ou)throw Error(h(261));return ol=null,oc=0,of}function oY(e){var t=l(e.alternate,e,oh);e.memoizedProps=e.pendingProps,null===t?oX(e):ou=t,os.current=null}function oX(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(n=function(e,t,n){var r=t.pendingProps;switch(ik(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return a$(t),null;case 1:case 17:return r9(t.type)&&r7(),a$(t),null;case 3:return r=t.stateNode,sl(),r1(r6),r1(r3),sp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(null===e||null===e.child)&&(iP(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==iI&&(oU(iI),iI=null))),s(e,t),a$(t),null;case 5:sc(t);var l=sa(ss.current);if(n=t.type,null!==e&&null!=t.stateNode)a(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(h(166));return a$(t),null}if(e=sa(sr.current),iP(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[rB]=t,r[r$]=u,e=0!=(1&t.mode),n){case"dialog":rm("cancel",r),rm("close",r);break;case"iframe":case"object":case"embed":rm("load",r);break;case"video":case"audio":for(l=0;l<rh.length;l++)rm(rh[l],r);break;case"source":rm("error",r);break;case"img":case"image":case"link":rm("error",r),rm("load",r);break;case"details":rm("toggle",r);break;case"input":ed(r,u),rm("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},rm("invalid",r);break;case"textarea":ew(r,u),rm("invalid",r)}for(var c in eO(n,u),l=null,u)if(u.hasOwnProperty(c)){var d=u[c];"children"===c?"string"==typeof d?r.textContent!==d&&(!0!==u.suppressHydrationWarning&&rN(r.textContent,d,e),l=["children",d]):"number"==typeof d&&r.textContent!==""+d&&(!0!==u.suppressHydrationWarning&&rN(r.textContent,d,e),l=["children",""+d]):f.hasOwnProperty(c)&&null!=d&&"onScroll"===c&&rm("scroll",r)}switch(n){case"input":el(r),em(r,u,!0);break;case"textarea":el(r),eE(r);break;case"select":case"option":break;default:"function"==typeof u.onClick&&(r.onclick=rC)}r=l,t.updateQueue=r,null!==r&&(t.flags|=4)}else{c=9===l.nodeType?l:l.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ek(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[rB]=t,e[r$]=r,i(e,t,!1,!1),t.stateNode=e;e:{switch(c=eL(n,r),n){case"dialog":rm("cancel",e),rm("close",e),l=r;break;case"iframe":case"object":case"embed":rm("load",e),l=r;break;case"video":case"audio":for(l=0;l<rh.length;l++)rm(rh[l],e);l=r;break;case"source":rm("error",e),l=r;break;case"img":case"image":case"link":rm("error",e),rm("load",e),l=r;break;case"details":rm("toggle",e),l=r;break;case"input":ed(e,r),l=eh(e,r),rm("invalid",e);break;case"option":default:l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=en({},r,{value:void 0}),rm("invalid",e);break;case"textarea":ew(e,r),l=eb(e,r),rm("invalid",e)}for(u in eO(n,l),d=l)if(d.hasOwnProperty(u)){var p=d[u];"style"===u?eR(e,p):"dangerouslySetInnerHTML"===u?null!=(p=p?p.__html:void 0)&&eI(e,p):"children"===u?"string"==typeof p?("textarea"!==n||""!==p)&&eN(e,p):"number"==typeof p&&eN(e,""+p):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(f.hasOwnProperty(u)?null!=p&&"onScroll"===u&&rm("scroll",e):null!=p&&T(e,u,p,c))}switch(n){case"input":el(e),em(e,r,!1);break;case"textarea":el(e),eE(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ea(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?ev(e,!!r.multiple,u,!1):null!=r.defaultValue&&ev(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof l.onClick&&(e.onclick=rC)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return a$(t),null;case 6:if(e&&null!=t.stateNode)o(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(h(166));if(n=sa(ss.current),sa(sr.current),iP(t)){if(r=t.stateNode,n=t.memoizedProps,r[rB]=t,(u=r.nodeValue!==n)&&null!==(e=iS))switch(e.tag){case 3:rN(r.nodeValue,n,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&rN(r.nodeValue,n,0!=(1&e.mode))}u&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[rB]=t,t.stateNode=r}return a$(t),null;case 13:if(r1(sh),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(iT&&null!==i_&&0!=(1&t.mode)&&0==(128&t.flags))iO(),iL(),t.flags|=98560,u=!1;else if(u=iP(t),null!==r&&null!==r.dehydrated){if(null===e){if(!u)throw Error(h(318));if(!(u=null!==(u=t.memoizedState)?u.dehydrated:null))throw Error(h(317));u[rB]=t}else iL(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;a$(t),u=!1}else null!==iI&&(oU(iI),iI=null),u=!0;if(!u)return 65536&t.flags?t:null}if(0!=(128&t.flags))return t.lanes=n,t;return(r=null!==r)!=(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&sh.current)?0===of&&(of=3):oG())),null!==t.updateQueue&&(t.flags|=4),a$(t),null;case 4:return sl(),s(e,t),null===e&&rv(t.stateNode.containerInfo),a$(t),null;case 10:return iQ(t.type._context),a$(t),null;case 19:if(r1(sh),null===(u=t.memoizedState))return a$(t),null;if(r=0!=(128&t.flags),null===(c=u.rendering))if(r)aB(u,!1);else{if(0!==of||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=sd(e))){for(t.flags|=128,aB(u,!1),null!==(r=c.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)u=n,e=r,u.flags&=0xe00002,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return r2(sh,1&sh.current|2),t.child}e=e.sibling}null!==u.tail&&tn()>ox&&(t.flags|=128,r=!0,aB(u,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=sd(c))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),aB(u,!0),null===u.tail&&"hidden"===u.tailMode&&!c.alternate&&!iT)return a$(t),null}else 2*tn()-u.renderingStartTime>ox&&0x40000000!==n&&(t.flags|=128,r=!0,aB(u,!1),t.lanes=4194304);u.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=u.last)?n.sibling=c:t.child=c,u.last=c)}if(null!==u.tail)return t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=tn(),t.sibling=null,n=sh.current,r2(sh,r?1&n|2:1&n),t;return a$(t),null;case 22:case 23:return oq(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!=(1&t.mode)?0!=(0x40000000&oh)&&(a$(t),6&t.subtreeFlags&&(t.flags|=8192)):a$(t),null;case 24:case 25:return null}throw Error(h(156,t.tag))}(n,t,oh))){ou=n;return}}else{if(null!==(n=function(e,t){switch(ik(t),t.tag){case 1:return r9(t.type)&&r7(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return sl(),r1(r6),r1(r3),sp(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sc(t),null;case 13:if(r1(sh),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(h(340));iL()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return r1(sh),null;case 4:return sl(),null;case 10:return iQ(t.type._context),null;case 22:case 23:return oq(),null;default:return null}}(n,t))){n.flags&=32767,ou=n;return}if(null!==e)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{of=6,ou=null;return}}if(null!==(t=t.sibling)){ou=t;return}ou=t=e}while(null!==t)0===of&&(of=5)}function oJ(e,t,n){var r=tk,i=oa.transition;try{oa.transition=null,tk=1,function(e,t,n,r){do oZ();while(null!==oI)if(0!=(6&oo))throw Error(h(327));n=e.finishedWork;var i=e.finishedLanes;if(null!==n){if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(h(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes,a=e,o=s,l=a.pendingLanes&~o;a.pendingLanes=o,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=o,a.mutableReadLanes&=o,a.entangledLanes&=o,o=a.entanglements;var u=a.eventTimes;for(a=a.expirationTimes;0<l;){var c=31-th(l),d=1<<c;o[c]=0,u[c]=-1,a[c]=-1,l&=~d}if(e===ol&&(ou=ol=null,oc=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||oT||(oT=!0,function(e,t){e9(e,t)}(ta,function(){return oZ(),null})),s=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||s){s=oa.transition,oa.transition=null;var f,p,m,g=tk;tk=1;var y=oo;oo|=4,os.current=null,function(e,t){if(rA=tG,n0(e=nZ())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i,s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(e){n=null;break e}var o=0,l=-1,u=-1,c=0,d=0,f=e,p=null;t:for(;;){for(;f!==n||0!==s&&3!==f.nodeType||(l=o+s),f!==a||0!==r&&3!==f.nodeType||(u=o+r),3===f.nodeType&&(o+=f.nodeValue.length),null!==(i=f.firstChild);)p=f,f=i;for(;;){if(f===e)break t;if(p===n&&++c===s&&(l=o),p===a&&++d===r&&(u=o),null!==(i=f.nextSibling))break;p=(f=p).parentNode}f=i}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(rD={focusedElem:e,selectionRange:n},tG=!1,aW=t;null!==aW;)if(e=(t=aW).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,aW=e;else for(;null!==aW;){t=aW;try{var m=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:ar(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(h(163))}}catch(e){o1(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,aW=e;break}aW=t.return}m=aY,aY=!1}(e,n),a9(n,e),function(e){var t=nZ(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&function e(t,n){return!!t&&!!n&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(n.ownerDocument.documentElement,n)){if(null!==r&&n0(n)){if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=nJ(n,s);var a=nJ(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}(rD),tG=!!rA,rD=rA=null,e.current=n,f=n,p=e,m=i,aW=f,function e(t,n,r){for(var i=0!=(1&t.mode);null!==aW;){var s=aW,a=s.child;if(22===s.tag&&i){var o=null!==s.memoizedState||aq;if(!o){var l=s.alternate,u=null!==l&&null!==l.memoizedState||aH;l=aq;var c=aH;if(aq=o,(aH=u)&&!c)for(aW=s;null!==aW;)u=(o=aW).child,22===o.tag&&null!==o.memoizedState?on(s):null!==u?(u.return=o,aW=u):on(s);for(;null!==a;)aW=a,e(a,n,r),a=a.sibling;aW=s,aq=l,aH=c}oe(t,n,r)}else 0!=(8772&s.subtreeFlags)&&null!==a?(a.return=s,aW=a):oe(t,n,r)}}(f,p,m),tt(),oo=y,tk=g,oa.transition=s}else e.current=n;oT&&(oT=!1,oI=e,oN=i),0===(s=e.pendingLanes)&&(o_=null);var v=n.stateNode;if(tc&&"function"==typeof tc.onCommitFiberRoot)try{tc.onCommitFiberRoot(tu,v,void 0,128==(128&v.current.flags))}catch(e){}if(oM(e,tn()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(ok)throw ok=!1,e=oS,oS=null,e;0!=(1&oN)&&0!==e.tag&&oZ(),0!=(1&(s=e.pendingLanes))?e===oA?oC++:(oC=0,oA=e):oC=0,iu()}}(e,t,n,r)}finally{oa.transition=i,tk=r}return null}function oZ(){if(null!==oI){var e=tS(oN),t=oa.transition,n=tk;try{if(oa.transition=null,tk=16>e?16:e,null===oI)var r=!1;else{if(e=oI,oI=null,oN=0,0!=(6&oo))throw Error(h(331));var i=oo;for(oo|=4,aW=e.current;null!==aW;){var s=aW,a=s.child;if(0!=(16&aW.flags)){var o=s.deletions;if(null!==o){for(var l=0;l<o.length;l++){var u=o[l];for(aW=u;null!==aW;){var c=aW;switch(c.tag){case 0:case 11:case 15:aX(8,c,s)}var d=c.child;if(null!==d)d.return=c,aW=d;else for(;null!==aW;){var f=(c=aW).sibling,p=c.return;if(!function e(t){var n=t.alternate;null!==n&&(t.alternate=null,e(n)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&null!==(n=t.stateNode)&&(delete n[rB],delete n[r$],delete n[rH],delete n[rK],delete n[rW]),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}(c),c===u){aW=null;break}if(null!==f){f.return=p,aW=f;break}aW=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}aW=s}}if(0!=(2064&s.subtreeFlags)&&null!==a)a.return=s,aW=a;else for(;null!==aW;){if(s=aW,0!=(2048&s.flags))switch(s.tag){case 0:case 11:case 15:aX(9,s,s.return)}var v=s.sibling;if(null!==v){v.return=s.return,aW=v;break}aW=s.return}}var b=e.current;for(aW=b;null!==aW;){var w=(a=aW).child;if(0!=(2064&a.subtreeFlags)&&null!==w)w.return=a,aW=w;else for(a=b;null!==aW;){if(o=aW,0!=(2048&o.flags))try{switch(o.tag){case 0:case 11:case 15:aJ(9,o)}}catch(e){o1(o,o.return,e)}if(o===a){aW=null;break}var x=o.sibling;if(null!==x){x.return=o.return,aW=x;break}aW=o.return}}if(oo=i,iu(),tc&&"function"==typeof tc.onPostCommitFiberRoot)try{tc.onPostCommitFiberRoot(tu,e)}catch(e){}r=!0}return r}finally{tk=n,oa.transition=t}}return!1}function o0(e,t,n){t=ap(e,t=ac(n,t),1),e=i8(e,t,1),t=oP(),null!==e&&(tx(e,1,t),oM(e,t))}function o1(e,t,n){if(3===e.tag)o0(e,e,n);else for(;null!==t;){if(3===t.tag){o0(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===o_||!o_.has(r))){e=am(t,e=ac(n,e),1),t=i8(t,e,1),e=oP(),null!==t&&(tx(t,1,e),oM(t,e));break}}t=t.return}}function o2(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=oP(),e.pingedLanes|=e.suspendedLanes&n,ol===e&&(oc&n)===n&&(4===of||3===of&&(0x7c00000&oc)===oc&&500>tn()-ow?oH(e,0):oy|=n),oM(e,t)}function o4(e,t){0===t&&(0==(1&e.mode)?t=1:(t=tm,0==(0x7c00000&(tm<<=1))&&(tm=4194304)));var n=oP();null!==(e=i2(e,t))&&(tx(e,t,n),oM(e,n))}function o3(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),o4(e,n)}function o6(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(h(314))}null!==r&&r.delete(t),o4(e,n)}function o5(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function o8(e,t,n,r){return new o5(e,t,n,r)}function o9(e){return!(!(e=e.prototype)||!e.isReactComponent)}function o7(e,t){var n=e.alternate;return null===n?((n=o8(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=0xe00000&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function le(e,t,n,r,i,s){var a=2;if(r=e,"function"==typeof e)o9(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case A:return lt(n.children,i,s,t);case D:a=8,i|=8;break;case R:return(e=o8(12,n,t,2|i)).elementType=R,e.lanes=s,e;case M:return(e=o8(13,n,t,i)).elementType=M,e.lanes=s,e;case j:return(e=o8(19,n,t,i)).elementType=j,e.lanes=s,e;case V:return ln(n,i,s,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case P:a=10;break e;case O:a=9;break e;case L:a=11;break e;case F:a=14;break e;case U:a=16,r=null;break e}throw Error(h(130,null==e?e:typeof e,""))}return(t=o8(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function lt(e,t,n,r){return(e=o8(7,e,r,t)).lanes=n,e}function ln(e,t,n,r){return(e=o8(22,e,r,t)).elementType=V,e.lanes=n,e.stateNode={isHidden:!1},e}function lr(e,t,n){return(e=o8(6,e,null,t)).lanes=n,e}function li(e,t,n){return(t=o8(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ls(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tw(0),this.expirationTimes=tw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tw(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function la(e,t,n,r,i,s,a,o,l){return e=new ls(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=o8(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},i3(s),e}function lo(e){if(!e)return r4;e=e._reactInternals;e:{if(e3(e)!==e||1!==e.tag)throw Error(h(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(r9(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t)throw Error(h(171))}if(1===e.tag){var n=e.type;if(r9(n))return it(e,n,t)}return t}function ll(e,t,n,r,i,s,a,o,l){return(e=la(n,r,!0,e,i,s,a,o,l)).context=lo(null),n=e.current,(s=i5(r=oP(),i=oO(n))).callback=null!=t?t:null,i8(n,s,i),e.current.lanes=i,tx(e,i,r),oM(e,r),e}function lu(e,t,n,r){var i=t.current,s=oP(),a=oO(i);return n=lo(n),null===t.context?t.context=n:t.pendingContext=n,(t=i5(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=i8(i,t,a))&&(oL(e,i,a,s),i9(e,i,a)),a}function lc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function lh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ld(e,t){lh(e,t),(e=e.alternate)&&lh(e,t)}l=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||r6.current)aw=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return aw=!1,function(e,t,n){switch(t.tag){case 3:aA(t),iL();break;case 5:su(t);break;case 1:r9(t.type)&&ir(t);break;case 4:so(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;r2(iq,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState)){if(null!==r.dehydrated)return r2(sh,1&sh.current),t.flags|=128,null;if(0!=(n&t.child.childLanes))return aO(e,t,n);return r2(sh,1&sh.current),null!==(e=az(e,t,n))?e.sibling:null}r2(sh,1&sh.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(128&e.flags)){if(r)return aU(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),r2(sh,sh.current),!r)return null;break;case 22:case 23:return t.lanes=0,a_(e,t,n)}return az(e,t,n)}(e,t,n);aw=0!=(131072&e.flags)}else aw=!1,iT&&0!=(1048576&t.flags)&&ix(t,ip,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;aV(e,t),e=t.pendingProps;var i=r8(t,r3.current);iX(t,n),i=sI(null,t,r,e,i,n);var s=sN();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,r9(r)?(s=!0,ir(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i3(t),i.updater=as,t.stateNode=i,i._reactInternals=t,au(t,r,e,n),t=aC(null,t,r,!0,s,n)):(t.tag=0,iT&&s&&iE(t),ax(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(aV(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return+!!o9(e);if(null!=e){if((e=e.$$typeof)===L)return 11;if(e===F)return 14}return 2}(r),e=ar(r,e),i){case 0:t=aI(null,t,r,e,n);break e;case 1:t=aN(null,t,r,e,n);break e;case 11:t=aE(null,t,r,e,n);break e;case 14:t=ak(null,t,r,ar(r.type,e),n);break e}throw Error(h(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ar(r,i),aI(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ar(r,i),aN(e,t,r,i,n);case 3:e:{if(aA(t),null===e)throw Error(h(387));r=t.pendingProps,i=(s=t.memoizedState).element,i6(e,t),se(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){i=ac(Error(h(423)),t),t=aD(e,t,r,n,i);break e}else if(r!==i){i=ac(Error(h(424)),t),t=aD(e,t,r,n,i);break e}else for(i_=rU(t.stateNode.containerInfo.firstChild),iS=t,iT=!0,iI=null,n=i$(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling;else{if(iL(),r===i){t=az(e,t,n);break e}ax(e,t,r,n)}t=t.child}return t;case 5:return su(t),null===e&&iD(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,rR(r,i)?a=null:null!==s&&rR(r,s)&&(t.flags|=32),aT(e,t),ax(e,t,a,n),t.child;case 6:return null===e&&iD(t),null;case 13:return aO(e,t,n);case 4:return so(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=iB(t,null,r,n):ax(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ar(r,i),aE(e,t,r,i,n);case 7:return ax(e,t,t.pendingProps,n),t.child;case 8:case 12:return ax(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,r2(iq,r._currentValue),r._currentValue=a,null!==s)if(nQ(s.value,a)){if(s.children===i.children&&!r6.current){t=az(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var o=s.dependencies;if(null!==o){a=s.child;for(var l=o.firstContext;null!==l;){if(l.context===r){if(1===s.tag){(l=i5(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var c=(u=u.shared).pending;null===c?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),iY(s.return,n,t),o.lanes|=n;break}l=l.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(h(341));a.lanes|=n,null!==(o=a.alternate)&&(o.lanes|=n),iY(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}ax(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,iX(t,n),r=r(i=iJ(i)),t.flags|=1,ax(e,t,r,n),t.child;case 14:return i=ar(r=t.type,t.pendingProps),i=ar(r.type,i),ak(e,t,r,i,n);case 15:return aS(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ar(r,i),aV(e,t),t.tag=1,r9(r)?(e=!0,ir(t)):e=!1,iX(t,n),ao(t,r,i),au(t,r,i,n),aC(null,t,r,!0,e,n);case 19:return aU(e,t,n);case 22:return a_(e,t,n)}throw Error(h(156,t.tag))};var lf="function"==typeof reportError?reportError:function(e){console.error(e)};function lp(e){this._internalRoot=e}function lm(e){this._internalRoot=e}function lg(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function ly(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function lv(){}function lb(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"==typeof i){var o=i;i=function(){var e=lc(a);o.call(e)}}lu(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"==typeof r){var s=r;r=function(){var e=lc(a);s.call(e)}}var a=ll(t,r,e,0,null,!1,!1,"",lv);return e._reactRootContainer=a,e[rq]=a.current,rv(8===e.nodeType?e.parentNode:e),o$(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var o=r;r=function(){var e=lc(l);o.call(e)}}var l=la(e,0,!1,null,null,!1,!1,"",lv);return e._reactRootContainer=l,e[rq]=l.current,rv(8===e.nodeType?e.parentNode:e),o$(function(){lu(t,l,n,r)}),l}(n,t,e,i,r);return lc(a)}lm.prototype.render=lp.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(h(409));lu(e,t,null,null)},lm.prototype.unmount=lp.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;o$(function(){lu(null,e,null,null)}),t[rq]=null}},lm.prototype.unstable_scheduleHydration=function(e){if(e){var t=tN();e={blockedOn:null,target:e,priority:t};for(var n=0;n<tj.length&&0!==t&&t<tj[n].priority;n++);tj.splice(n,0,e),0===n&&tz(e)}},t_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=tg(t.pendingLanes);0!==n&&(tE(t,1|n),oM(t,tn()),0==(6&oo)&&(ox=tn()+500,iu()))}break;case 13:o$(function(){var t=i2(e,1);null!==t&&oL(t,e,1,oP())}),ld(e,1)}},tT=function(e){if(13===e.tag){var t=i2(e,0x8000000);null!==t&&oL(t,e,0x8000000,oP()),ld(e,0x8000000)}},tI=function(e){if(13===e.tag){var t=oO(e),n=i2(e,t);null!==n&&oL(n,e,t,oP()),ld(e,t)}},tN=function(){return tk},tC=function(e,t){var n=tk;try{return tk=e,t()}finally{tk=n}},eF=function(e,t,n){switch(t){case"input":if(ep(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=rX(r);if(!i)throw Error(h(90));eu(r),ep(r,i)}}}break;case"textarea":ex(e,n);break;case"select":null!=(t=n.value)&&ev(e,!!n.multiple,t,!1)}},eq=oB,eH=o$;var lw={findFiberByHostInstance:rG,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lx={bundleType:lw.bundleType,version:lw.version,rendererPackageName:lw.rendererPackageName,rendererConfig:lw.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=e8(e))?null:e.stateNode},findFiberByHostInstance:lw.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lE=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lE.isDisabled&&lE.supportsFiber)try{tu=lE.inject(lx),tc=lE}catch(e){}}$={usingClientEntryPoint:!1,Events:[rQ,rY,rX,eB,e$,oB]},q=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!lg(t))throw Error(h(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:C,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},H=function(e,t){if(!lg(e))throw Error(h(299));var n=!1,r="",i=lf;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=la(e,1,!1,null,null,n,!1,r,i),e[rq]=t.current,rv(8===e.nodeType?e.parentNode:e),new lp(t)},K=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(h(188));throw Error(h(268,e=Object.keys(e).join(",")))}return e=null===(e=e8(t))?null:e.stateNode},W=function(e){return o$(e)},G=function(e,t,n){if(!ly(t))throw Error(h(200));return lb(null,e,t,!0,n)},Q=function(e,t,n){if(!lg(e))throw Error(h(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=lf;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=ll(t,null,e,1,null!=n?n:null,i,!1,s,a),e[rq]=t.current,rv(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new lm(t)},Y=function(e,t,n){if(!ly(t))throw Error(h(200));return lb(null,e,t,!1,n)},X=function(e){if(!ly(e))throw Error(h(40));return!!e._reactRootContainer&&(o$(function(){lb(null,null,e,!1,function(){e._reactRootContainer=null,e[rq]=null})}),!0)},J=oB,Z=function(e,t,n,r){if(!ly(n))throw Error(h(200));if(null==e||void 0===e._reactInternals)throw Error(h(38));return lb(e,t,n,!1,r)},ee="18.3.1-next-f1338f8080-20240426"}),m("fO90s",function(e,t){e.exports=p("gcnCG")}),m("gcnCG",function(e,t){function n(e,t){var n=e.length;for(e.push(t);0<n;){var r=n-1>>>1,i=e[r];if(0<a(i,t))e[r]=t,e[n]=i,n=r;else break}}function i(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;for(var r=0,i=e.length,s=i>>>1;r<s;){var o=2*(r+1)-1,l=e[o],u=o+1,c=e[u];if(0>a(l,n))u<i&&0>a(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[o]=n,r=o);else if(u<i&&0>a(c,n))e[r]=c,e[u]=n,r=u;else break}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(r(e.exports,"unstable_now",()=>o,e=>o=e),r(e.exports,"unstable_IdlePriority",()=>l,e=>l=e),r(e.exports,"unstable_ImmediatePriority",()=>u,e=>u=e),r(e.exports,"unstable_LowPriority",()=>c,e=>c=e),r(e.exports,"unstable_NormalPriority",()=>h,e=>h=e),r(e.exports,"unstable_Profiling",()=>d,e=>d=e),r(e.exports,"unstable_UserBlockingPriority",()=>f,e=>f=e),r(e.exports,"unstable_cancelCallback",()=>p,e=>p=e),r(e.exports,"unstable_continueExecution",()=>m,e=>m=e),r(e.exports,"unstable_forceFrameRate",()=>g,e=>g=e),r(e.exports,"unstable_getCurrentPriorityLevel",()=>y,e=>y=e),r(e.exports,"unstable_getFirstCallbackNode",()=>v,e=>v=e),r(e.exports,"unstable_next",()=>b,e=>b=e),r(e.exports,"unstable_pauseExecution",()=>w,e=>w=e),r(e.exports,"unstable_requestPaint",()=>x,e=>x=e),r(e.exports,"unstable_runWithPriority",()=>E,e=>E=e),r(e.exports,"unstable_scheduleCallback",()=>k,e=>k=e),r(e.exports,"unstable_shouldYield",()=>S,e=>S=e),r(e.exports,"unstable_wrapCallback",()=>_,e=>_=e),"object"==typeof performance&&"function"==typeof performance.now){var o,l,u,c,h,d,f,p,m,g,y,v,b,w,x,E,k,S,_,T,I=performance;o=function(){return I.now()}}else{var N=Date,C=N.now();o=function(){return N.now()-C}}var A=[],D=[],R=1,P=null,O=3,L=!1,M=!1,j=!1,F="function"==typeof setTimeout?setTimeout:null,U="function"==typeof clearTimeout?clearTimeout:null,V="undefined"!=typeof setImmediate?setImmediate:null;function z(e){for(var t=i(D);null!==t;){if(null===t.callback)s(D);else if(t.startTime<=e)s(D),t.sortIndex=t.expirationTime,n(A,t);else break;t=i(D)}}function B(e){if(j=!1,z(e),!M)if(null!==i(A))M=!0,Z($);else{var t=i(D);null!==t&&ee(B,t.startTime-e)}}function $(e,t){M=!1,j&&(j=!1,U(K),K=-1),L=!0;var n=O;try{for(z(t),P=i(A);null!==P&&(!(P.expirationTime>t)||e&&!Q());){var r=P.callback;if("function"==typeof r){P.callback=null,O=P.priorityLevel;var a=r(P.expirationTime<=t);t=o(),"function"==typeof a?P.callback=a:P===i(A)&&s(A),z(t)}else s(A);P=i(A)}if(null!==P)var l=!0;else{var u=i(D);null!==u&&ee(B,u.startTime-t),l=!1}return l}finally{P=null,O=n,L=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var q=!1,H=null,K=-1,W=5,G=-1;function Q(){return!(o()-G<W)}function Y(){if(null!==H){var e=o();G=e;var t=!0;try{t=H(!0,e)}finally{t?T():(q=!1,H=null)}}else q=!1}if("function"==typeof V)T=function(){V(Y)};else if("undefined"!=typeof MessageChannel){var X=new MessageChannel,J=X.port2;X.port1.onmessage=Y,T=function(){J.postMessage(null)}}else T=function(){F(Y,0)};function Z(e){H=e,q||(q=!0,T())}function ee(e,t){K=F(function(){e(o())},t)}l=5,u=1,c=4,h=3,d=null,f=2,p=function(e){e.callback=null},m=function(){M||L||(M=!0,Z($))},g=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<e?Math.floor(1e3/e):5},y=function(){return O},v=function(){return i(A)},b=function(e){switch(O){case 1:case 2:case 3:var t=3;break;default:t=O}var n=O;O=t;try{return e()}finally{O=n}},w=function(){},x=function(){},E=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=O;O=e;try{return t()}finally{O=n}},k=function(e,t,r){var s=o();switch(r="object"==typeof r&&null!==r&&"number"==typeof(r=r.delay)&&0<r?s+r:s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=0x3fffffff;break;case 4:a=1e4;break;default:a=5e3}return a=r+a,e={id:R++,callback:t,priorityLevel:e,startTime:r,expirationTime:a,sortIndex:-1},r>s?(e.sortIndex=r,n(D,e),null===i(A)&&e===i(D)&&(j?(U(K),K=-1):j=!0,ee(B,r-s))):(e.sortIndex=a,n(A,e),M||L||(M=!0,Z($))),e},S=Q,_=function(e){var t=O;return function(){var n=O;O=t;try{return e.apply(this,arguments)}finally{O=n}}}});var g={};g=p("1b2ls");var y=p("acw62"),v={};r(v,"createRoot",()=>rl,e=>rl=e),r(v,"hydrateRoot",()=>ru,e=>ru=e);var b={};!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),rl=(b=p("Xw6Mv")).createRoot,ru=b.hydrateRoot;var y=p("acw62");const w=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:((64512&i)==55296&&r+1<e.length&&(64512&e.charCodeAt(r+1))==56320?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128):t[n++]=i>>12|224,t[n++]=i>>6&63|128),t[n++]=63&i|128)}return t},x=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){let s=e[n++],a=((7&i)<<18|(63&s)<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{let s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")},E={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){let i=e[t],s=t+1<e.length,a=s?e[t+1]:0,o=t+2<e.length,l=o?e[t+2]:0,u=i>>2,c=(3&i)<<4|a>>4,h=(15&a)<<2|l>>6,d=63&l;!o&&(d=64,s||(h=64)),r.push(n[u],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(w(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):x(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){let i=n[e.charAt(t++)],s=t<e.length?n[e.charAt(t)]:0,a=++t<e.length?n[e.charAt(t)]:64,o=++t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==s||null==a||null==o)throw new k;let l=i<<2|s>>4;if(r.push(l),64!==a){let e=s<<4&240|a>>2;if(r.push(e),64!==o){let e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class k extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const S=function(e){let t=w(e);return E.encodeByteArray(t,!0)},_=function(e){return S(e).replace(/\./g,"")},T=function(e){try{return E.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},I=()=>{try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==h)return h;throw Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{let e;if("undefined"==typeof document)return;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}let t=e&&T(e[1]);return t&&JSON.parse(t)})()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},N=e=>{var t,n;return null==(n=null==(t=I())?void 0:t.emulatorHosts)?void 0:n[e]},C=()=>{var e;return null==(e=I())?void 0:e.config},A=e=>{var t;return null==(t=I())?void 0:t[`_${e}`]};class D{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function R(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class P extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,P.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,O.prototype.create)}}class O{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){var n,r;let i=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],o=a?(n=a,r=i,n.replace(L,(e,t)=>{let n=r[t];return null!=n?String(n):`<${t}?>`})):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new P(s,l,i)}}const L=/\{\$([^}]+)}/g;function M(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);for(let i of n){if(!r.includes(i))return!1;let n=e[i],s=t[i];if(j(n)&&j(s)){if(!M(n,s))return!1}else if(n!==s)return!1}for(let e of r)if(!n.includes(e))return!1;return!0}function j(e){return null!==e&&"object"==typeof e}function F(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function U(e){let t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){let[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function V(e){let t=e.indexOf("?");if(!t)return"";let n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class z{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw Error("Missing Observer.");void 0===(r=!function(e,t){if("object"!=typeof e||null===e)return!1;for(let n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?{next:e,error:t,complete:n}:e).next&&(r.next=B),void 0===r.error&&(r.error=B),void 0===r.complete&&(r.complete=B);let i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function B(){}function $(e){return e&&e._delegate?e._delegate:e}class q{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const H="[DEFAULT]";class K{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new D;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!=(t=null==e?void 0:e.optional)&&t;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}if(r)return null;throw Error(`Service ${this.name} is not available`)}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:H})}catch(e){}for(let[e,t]of this.instancesDeferred.entries()){let n=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e=H){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=H){return this.instances.has(e)}getOptions(e=H){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(let[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){var n;let r=this.normalizeInstanceIdentifier(t),i=null!=(n=this.onInitCallbacks.get(r))?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);let s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){let n=this.onInitCallbacks.get(t);if(n)for(let r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){var n;let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e)===H?void 0:n,options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(e){}return r||null}normalizeInstanceIdentifier(e=H){return this.component?this.component.multipleInstances?e:H:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class W{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new K(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const G=[];(ra=rc||(rc={}))[ra.DEBUG=0]="DEBUG",ra[ra.VERBOSE=1]="VERBOSE",ra[ra.INFO=2]="INFO",ra[ra.WARN=3]="WARN",ra[ra.ERROR=4]="ERROR",ra[ra.SILENT=5]="SILENT";const Q={debug:rc.DEBUG,verbose:rc.VERBOSE,info:rc.INFO,warn:rc.WARN,error:rc.ERROR,silent:rc.SILENT},Y=rc.INFO,X={[rc.DEBUG]:"log",[rc.VERBOSE]:"log",[rc.INFO]:"info",[rc.WARN]:"warn",[rc.ERROR]:"error"},J=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=X[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Z{constructor(e){this.name=e,this._logLevel=Y,this._logHandler=J,this._userLogHandler=null,G.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rc))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Q[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rc.DEBUG,...e),this._logHandler(this,rc.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rc.VERBOSE,...e),this._logHandler(this,rc.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rc.INFO,...e),this._logHandler(this,rc.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rc.WARN,...e),this._logHandler(this,rc.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rc.ERROR,...e),this._logHandler(this,rc.ERROR,...e)}}const ee=new WeakMap,et=new WeakMap,en=new WeakMap,er=new WeakMap,ei=new WeakMap;let es={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return et.get(e);if("objectStoreNames"===t)return e.objectStoreNames||en.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ea(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function ea(n){if(n instanceof IDBRequest){let e=new Promise((e,t)=>{let r=()=>{n.removeEventListener("success",i),n.removeEventListener("error",s)},i=()=>{e(ea(n.result)),r()},s=()=>{t(n.error),r()};n.addEventListener("success",i),n.addEventListener("error",s)});return e.then(e=>{e instanceof IDBCursor&&ee.set(e,n)}).catch(()=>{}),ei.set(e,n),e}if(er.has(n))return er.get(n);let r=function(n){if("function"==typeof n)return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(t||(t=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(n)?function(...e){return n.apply(eo(this),e),ea(ee.get(this))}:function(...e){return ea(n.apply(eo(this),e))}:function(e,...t){let r=n.call(eo(this),e,...t);return en.set(r,e.sort?e.sort():[e]),ea(r)};return n instanceof IDBTransaction&&function(e){if(et.has(e))return;let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});et.set(e,t)}(n),(e||(e=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>n instanceof e)?new Proxy(n,es):n}(n);return r!==n&&(er.set(n,r),ei.set(r,n)),r}const eo=e=>ei.get(e),el=["get","getKey","getAll","getAllKeys","count"],eu=["put","add","delete","clear"],ec=new Map;function eh(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(ec.get(t))return ec.get(t);let n=t.replace(/FromIndex$/,""),r=t!==n,i=eu.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||el.includes(n)))return;let s=async function(e,...t){let s=this.transaction(e,i?"readwrite":"readonly"),a=s.store;return r&&(a=a.index(t.shift())),(await Promise.all([a[n](...t),i&&s.done]))[0]};return ec.set(t,s),s}es={...n=es,get:(e,t,r)=>eh(e,t)||n.get(e,t,r),has:(e,t)=>!!eh(e,t)||n.has(e,t)};class ed{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(!function(e){let t=e.getComponent();return(null==t?void 0:t.type)==="VERSION"}(e))return null;{let t=e.getImmediate();return`${t.library}/${t.version}`}}).filter(e=>e).join(" ")}}const ef="@firebase/app",ep="0.9.13",em=new Z("@firebase/app"),eg="[DEFAULT]",ey={[ef]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ev=new Map,eb=new Map;function ew(e){let t=e.name;if(eb.has(t))return em.debug(`There were multiple attempts to register component ${t}.`),!1;for(let n of(eb.set(t,e),ev.values()))try{n.container.addComponent(e)}catch(t){em.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}return!0}function ex(e,t){let n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const eE=new O("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ek{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new q("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw eE.create("app-deleted",{appName:this._name})}}const eS="9.23.0";function e_(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});let r=Object.assign({name:eg,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw eE.create("bad-app-name",{appName:String(i)});if(n||(n=C()),!n)throw eE.create("no-options");let s=ev.get(i);if(s)if(M(n,s.options)&&M(r,s.config))return s;else throw eE.create("duplicate-app",{appName:i});let a=new W(i);for(let e of eb.values())a.addComponent(e);let o=new ek(n,r,a);return ev.set(i,o),o}function eT(e=eg){let t=ev.get(e);if(!t&&e===eg&&C())return e_();if(!t)throw eE.create("no-app",{appName:e});return t}function eI(){return Array.from(ev.values())}function eN(e,t,n){var r;let i=null!=(r=ey[e])?r:e;n&&(i+=`-${n}`);let s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){let e=[`Unable to register library "${i}" with version "${t}":`];s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),em.warn(e.join(" "));return}ew(new q(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const eC="firebase-heartbeat-store";let eA=null;function eD(){return eA||(eA=(function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let a=indexedDB.open(e,1),o=ea(a);return r&&a.addEventListener("upgradeneeded",e=>{r(ea(a.result),e.oldVersion,e.newVersion,ea(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o})("firebase-heartbeat-database",0,{upgrade:(e,t)=>{0===t&&e.createObjectStore(eC)}}).catch(e=>{throw eE.create("idb-open",{originalErrorMessage:e.message})})),eA}async function eR(e){try{let t=await eD();return await t.transaction(eC).objectStore(eC).get(eO(e))}catch(e){if(e instanceof P)em.warn(e.message);else{let t=eE.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});em.warn(t.message)}}}async function eP(e,t){try{let n=(await eD()).transaction(eC,"readwrite"),r=n.objectStore(eC);await r.put(t,eO(e)),await n.done}catch(e){if(e instanceof P)em.warn(e.message);else{let t=eE.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});em.warn(t.message)}}}function eO(e){return`${e.name}!${e.options.appId}`}class eL{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new ej(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){let e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=eM();return(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate===t||this._heartbeatsCache.heartbeats.some(e=>e.date===t))?void 0:(this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{let t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache))}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";let e=eM(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){let n=[],r=e.slice();for(let i of e){let e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),eF(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),eF(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=_(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function eM(){return new Date().toISOString().substring(0,10)}class ej{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"==typeof indexedDB}catch(e){return!1}}()&&new Promise((e,t)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null==(e=i.error)?void 0:e.message)||"")}}catch(e){t(e)}}).then(()=>!0).catch(()=>!1)}async read(){return await this._canUseIndexedDBPromise&&await eR(this.app)||{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){let n=await this.read();return eP(this.app,{lastSentHeartbeatDate:null!=(t=e.lastSentHeartbeatDate)?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){let n=await this.read();return eP(this.app,{lastSentHeartbeatDate:null!=(t=e.lastSentHeartbeatDate)?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function eF(e){return _(JSON.stringify({version:2,heartbeats:e})).length}function eU(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function eV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}ew(new q("platform-logger",e=>new ed(e),"PRIVATE")),ew(new q("heartbeat",e=>new eL(e),"PRIVATE")),eN(ef,ep,""),eN(ef,ep,"esm2017"),eN("fire-js",""),eN("firebase","9.23.0","app"),"function"==typeof SuppressedError&&SuppressedError;const ez=new O("auth","Firebase",eV()),eB=new Z("@firebase/auth");function e$(e,...t){eB.logLevel<=rc.ERROR&&eB.error(`Auth (${eS}): ${e}`,...t)}function eq(e,...t){throw eK(e,...t)}function eH(e,...t){return eK(e,...t)}function eK(e,...t){if("string"!=typeof e){let n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return ez.create(e,...t)}function eW(e,t,...n){if(!e)throw eK(t,...n)}function eG(e){let t="INTERNAL ASSERTION FAILED: "+e;throw e$(t),Error(t)}function eQ(){var e;return"undefined"!=typeof self&&(null==(e=self.location)?void 0:e.href)||""}function eY(){var e;return"undefined"!=typeof self&&(null==(e=self.location)?void 0:e.protocol)||null}class eX{constructor(e,t){var n;this.shortDelay=e,this.longDelay=t,n="Short delay should be less than long delay!",t>e||eG(n),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(R())||"object"==typeof navigator&&"ReactNative"===navigator.product}get(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===eY()||"https:"===eY()||function(){let e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function eJ(e,t){var n,r;n=e.emulator,r="Emulator should always be set here",n||eG(r);let{url:i}=e.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class eZ{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void eG("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void eG("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void eG("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const e0={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},e1=new eX(3e4,6e4);function e2(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function e4(e,t,n,r,i={}){return e3(e,i,async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});let a=F(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode),eZ.fetch()(e5(e,e.config.apiHost,n,a),Object.assign({method:t,headers:o,referrerPolicy:"no-referrer"},i))})}async function e3(e,t,n){e._canInitEmulator=!1;let r=Object.assign(Object.assign({},e0),t);try{let t=new e8(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();let s=await i.json();if("needConfirmation"in s)throw e9(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{let[t,n]=(i.ok?s.errorMessage:s.error.message).split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===t)throw e9(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===t)throw e9(e,"email-already-in-use",s);if("USER_DISABLED"===t)throw e9(e,"user-disabled",s);let a=r[t]||t.toLowerCase().replace(/[_\s]+/g,"-");if(n)throw new O("auth","Firebase",Object.assign(Object.assign({},eV()),{[a]:n})).create(a,{appName:e.name});eq(e,a)}}catch(t){if(t instanceof P)throw t;eq(e,"network-request-failed",{message:String(t)})}}async function e6(e,t,n,r,i={}){let s=await e4(e,t,n,r,i);return"mfaPendingCredential"in s&&eq(e,"multi-factor-auth-required",{_serverResponse:s}),s}function e5(e,t,n,r){let i=`${t}${n}?${r}`;return e.config.emulator?eJ(e.config,i):`${e.config.apiScheme}://${i}`}class e8{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(eH(this.auth,"network-request-failed")),e1.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function e9(e,t,n){let r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=eH(e,t,r);return i.customData._tokenResponse=n,i}async function e7(e,t){return e4(e,"POST","/v1/accounts:delete",t)}async function te(e,t){return e4(e,"POST","/v1/accounts:lookup",t)}function tt(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}async function tn(e,t=!1){let n=$(e),r=await n.getIdToken(t),i=ti(r);eW(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s="object"==typeof i.firebase?i.firebase:void 0,a=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:tt(tr(i.auth_time)),issuedAtTime:tt(tr(i.iat)),expirationTime:tt(tr(i.exp)),signInProvider:a||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}function tr(e){return 1e3*Number(e)}function ti(e){let[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return e$("JWT malformed, contained fewer than 3 sections"),null;try{let e=T(n);if(!e)return e$("Failed to decode base64 JWT payload"),null;return JSON.parse(e)}catch(e){return e$("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}async function ts(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof P&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class ta{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(!e)return this.errorBackoff=3e4,Math.max(0,(null!=(t=this.user.stsTokenManager.expirationTime)?t:0)-Date.now()-3e5);{let e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(null==e?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class to{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=tt(this.lastLoginAt),this.creationTime=tt(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function tl(e){var t,n,r;let i=e.auth,s=await e.getIdToken(),a=await ts(e,te(i,{idToken:s}));eW(null==a?void 0:a.users.length,i,"internal-error");let o=a.users[0];e._notifyReloadListener(o);let l=(null==(t=o.providerUserInfo)?void 0:t.length)?o.providerUserInfo.map(e=>{var{providerId:t}=e,n=eU(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[],u=(n=e.providerData,r=l,[...n.filter(e=>!r.some(t=>t.providerId===e.providerId)),...r]),c=e.isAnonymous,h=!(e.email&&o.passwordHash)&&!(null==u?void 0:u.length);Object.assign(e,{uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new to(o.createdAt,o.lastLoginAt),isAnonymous:!!c&&h})}async function tu(e){let t=$(e);await tl(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}async function tc(e,t){let n=await e3(e,{},async()=>{let n=F({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=e5(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",eZ.fetch()(s,{method:"POST",headers:a,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}class th{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){eW(e.idToken,"internal-error"),eW(void 0!==e.idToken,"internal-error"),eW(void 0!==e.refreshToken,"internal-error");let t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){let t=ti(e);return eW(t,"internal-error"),eW(void 0!==t.exp,"internal-error"),eW(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return(eW(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired)?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:n,refreshToken:r,expiresIn:i}=await tc(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){let{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new th;return n&&(eW("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(eW("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(eW("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new th,this.toJSON())}_performRefresh(){return eG("not implemented")}}function td(e,t){eW("string"==typeof e||void 0===e,"internal-error",{appName:t})}class tf{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=eU(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ta(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new to(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){let t=await ts(this,this.stsTokenManager.getToken(this.auth,e));return eW(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return tn(this,e)}reload(){return tu(this)}_assign(e){this!==e&&(eW(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new tf(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){eW(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await tl(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){let e=await this.getIdToken();return await ts(this,e7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,u;let c=null!=(n=t.displayName)?n:void 0,h=null!=(r=t.email)?r:void 0,d=null!=(i=t.phoneNumber)?i:void 0,f=null!=(s=t.photoURL)?s:void 0,p=null!=(a=t.tenantId)?a:void 0,m=null!=(o=t._redirectEventId)?o:void 0,g=null!=(l=t.createdAt)?l:void 0,y=null!=(u=t.lastLoginAt)?u:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:E}=t;eW(v&&E,e,"internal-error");let k=th.fromJSON(this.name,E);eW("string"==typeof v,e,"internal-error"),td(c,e.name),td(h,e.name),eW("boolean"==typeof b,e,"internal-error"),eW("boolean"==typeof w,e,"internal-error"),td(d,e.name),td(f,e.name),td(p,e.name),td(m,e.name),td(g,e.name),td(y,e.name);let S=new tf({uid:v,auth:e,email:h,emailVerified:b,displayName:c,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:k,createdAt:g,lastLoginAt:y});return x&&Array.isArray(x)&&(S.providerData=x.map(e=>Object.assign({},e))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t,n=!1){let r=new th;r.updateFromServerResponse(t);let i=new tf({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await tl(i),i}}const tp=new Map;function tm(e){var t,n;t="Expected a class definition",e instanceof Function||eG(t);let r=tp.get(e);return r?(n="Instance stored in cache mismatched with class",r instanceof e||eG(n)):(r=new e,tp.set(e,r)),r}class tg{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){let t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}function ty(e,t,n){return`firebase:${e}:${t}:${n}`}tg.type="NONE";class tv{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;let{config:r,name:i}=this.auth;this.fullUserKey=ty(this.userKey,r.apiKey,i),this.fullPersistenceKey=ty("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);return e?tf._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new tv(tm(tg),e,n);let r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e),i=r[0]||tm(tg),s=ty(n,e.config.apiKey,e.name),a=null;for(let n of t)try{let t=await n._get(s);if(t){let r=tf._fromJSON(e,t);n!==i&&(a=r),i=n;break}}catch(e){}let o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length&&(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(e){}}))),new tv(i,e,n)}}function tb(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";{if(tk(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(tw(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(t_(t))return"Blackberry";if(tT(t))return"Webos";if(tx(t))return"Safari";if((t.includes("chrome/")||tE(t))&&!t.includes("edge/"))return"Chrome";if(tS(t))return"Android";let n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if((null==n?void 0:n.length)===2)return n[1]}return"Other"}function tw(e=R()){return/firefox\//i.test(e)}function tx(e=R()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function tE(e=R()){return/crios\//i.test(e)}function tk(e=R()){return/iemobile/i.test(e)}function tS(e=R()){return/android/i.test(e)}function t_(e=R()){return/blackberry/i.test(e)}function tT(e=R()){return/webos/i.test(e)}function tI(e=R()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function tN(e=R()){return tI(e)||tS(e)||tT(e)||t_(e)||/windows phone/i.test(e)||tk(e)}function tC(e,t=[]){let n;switch(e){case"Browser":n=tb(R());break;case"Worker":n=`${tb(R())}-${e}`;break;default:n=e}let r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${eS}/${r}`}async function tA(e,t){return e4(e,"GET","/v2/recaptchaConfig",e2(e,t))}function tD(e){return void 0!==e&&void 0!==e.enterprise}class tR{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState)}}function tP(e){return new Promise((t,n)=>{var r,i;let s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=e=>{let t=eH("internal-error");t.customData=e,n(t)},s.type="text/javascript",s.charset="UTF-8",(null!=(i=null==(r=document.getElementsByTagName("head"))?void 0:r[0])?i:document).appendChild(s)})}function tO(e){return`__${e}${Math.floor(1e6*Math.random())}`}class tL{constructor(e){this.type="recaptcha-enterprise",this.auth=$(e)}async verify(e="verify",t=!1){async function n(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{tA(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0===r.recaptchaKey)n(Error("recaptcha Enterprise site key undefined"));else{let n=new tR(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}}).catch(e=>{n(e)})})}function r(t,n,r){let i=window.grecaptcha;tD(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,i)=>{n(this.auth).then(n=>{if(!t&&tD(window.grecaptcha))r(n,e,i);else{if("undefined"==typeof window)return void i(Error("RecaptchaVerifier is only supported in browser"));tP("https://www.google.com/recaptcha/enterprise.js?render="+n).then(()=>{r(n,e,i)}).catch(e=>{i(e)})}}).catch(e=>{i(e)})})}}async function tM(e,t,n,r=!1){let i,s=new tL(e);try{i=await s.verify(n)}catch(e){i=await s.verify(n,!0)}let a=Object.assign({},t);return r?Object.assign(a,{captchaResp:i}):Object.assign(a,{captchaResponse:i}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}class tj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let n=t=>new Promise((n,r)=>{try{let r=e(t);n(r)}catch(e){r(e)}});n.onAbort=t,this.queue.push(n);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){for(let e of(t.reverse(),t))try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}}class tF{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tU(this),this.idTokenSubscription=new tU(this),this.beforeStateQueue=new tj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ez,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=tm(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted){if(this.persistenceManager=await tv.create(this,e),!this._deleted){if(null==(n=this._popupRedirectResolver)?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null==(r=this.currentUser)?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(this.currentUser||e){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var t;let n=await this.assertedPersistence.getCurrentUser(),r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let n=null==(t=this.redirectUser)?void 0:t._redirectEventId,s=null==r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);(!n||n===s)&&(null==a?void 0:a.user)&&(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(e){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return(eW(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId)?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await tl(e)}catch(e){if((null==e?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){let t=e?$(e):null;return t&&eW(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&eW(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(tm(e))})}async initializeRecaptchaConfig(){let e=new tR(await tA(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}));null==this.tenantId?this._agentRecaptchaConfig=e:this._tenantRecaptchaConfigs[this.tenantId]=e,e.emailPasswordEnabled&&new tL(this).verify()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new O("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null==(e=this._currentUser)?void 0:e.toJSON()}}async _setRedirectUser(e,t){let n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&tm(e)||this._popupRedirectResolver;eW(t,this,"argument-error"),this.redirectPersistenceManager=await tv.create(this,[tm(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return(this._isInitialized&&await this.queue(async()=>{}),(null==(t=this._currentUser)?void 0:t._redirectEventId)===e)?this._currentUser:(null==(n=this.redirectUser)?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let n=null!=(t=null==(e=this.currentUser)?void 0:e.uid)?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};let i="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return(eW(s,this,"internal-error"),s.then(()=>i(this.currentUser)),"function"==typeof t)?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return eW(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let n=await (null==(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);let r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;let t=await (null==(e=this.appCheckServiceProvider.getImmediate({optional:!0}))?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){eB.logLevel<=rc.WARN&&eB.warn(`Auth (${eS}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}class tU{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){let n=new z(e,void 0);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return eW(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function tV(e){let t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function tz(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}class tB{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return eG("not implemented")}_getIdTokenResponse(e){return eG("not implemented")}_linkToIdToken(e,t){return eG("not implemented")}_getReauthenticationResolver(e){return eG("not implemented")}}async function t$(e,t){return e4(e,"POST","/v1/accounts:update",t)}async function tq(e,t){return e6(e,"POST","/v1/accounts:signInWithPassword",e2(e,t))}async function tH(e,t){return e6(e,"POST","/v1/accounts:signInWithEmailLink",e2(e,t))}async function tK(e,t){return e6(e,"POST","/v1/accounts:signInWithEmailLink",e2(e,t))}class tW extends tB{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new tW(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new tW(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);else if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null==(t=e._getRecaptchaConfig())||!t.emailPasswordEnabled)return tq(e,n).catch(async t=>{if("auth/missing-recaptcha-token"!==t.code)return Promise.reject(t);{console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");let t=await tM(e,n,"signInWithPassword");return tq(e,t)}});{let t=await tM(e,n,"signInWithPassword");return tq(e,t)}case"emailLink":return tH(e,{email:this._email,oobCode:this._password});default:eq(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return t$(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return tK(e,{idToken:t,email:this._email,oobCode:this._password});default:eq(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function tG(e,t){return e6(e,"POST","/v1/accounts:signInWithIdp",e2(e,t))}class tQ extends tB{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new tQ(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):eq("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=eU(t,["providerId","signInMethod"]);if(!n||!r)return null;let s=new tQ(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return tG(e,this.buildRequest())}_linkToIdToken(e,t){let n=this.buildRequest();return n.idToken=t,tG(e,n)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,tG(e,t)}buildRequest(){let e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=F(t)}return e}}async function tY(e,t){return e4(e,"POST","/v1/accounts:sendVerificationCode",e2(e,t))}async function tX(e,t){return e6(e,"POST","/v1/accounts:signInWithPhoneNumber",e2(e,t))}async function tJ(e,t){let n=await e6(e,"POST","/v1/accounts:signInWithPhoneNumber",e2(e,t));if(n.temporaryProof)throw e9(e,"account-exists-with-different-credential",n);return n}const tZ={USER_NOT_FOUND:"user-not-found"};async function t0(e,t){return e6(e,"POST","/v1/accounts:signInWithPhoneNumber",e2(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),tZ)}class t1 extends tB{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new t1({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new t1({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return tX(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return tJ(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return t0(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));let{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new t1({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class t2{constructor(e){var t,n,r,i,s,a;let o=U(V(e)),l=null!=(t=o.apiKey)?t:null,u=null!=(n=o.oobCode)?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!=(r=o.mode)?r:null);eW(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!=(i=o.continueUrl)?i:null,this.languageCode=null!=(s=o.languageCode)?s:null,this.tenantId=null!=(a=o.tenantId)?a:null}static parseLink(e){let t=function(e){let t=U(V(e)).link,n=t?U(V(t)).deep_link_id:null,r=U(V(e)).deep_link_id;return(r?U(V(r)).link:null)||r||n||t||e}(e);try{return new t2(t)}catch(e){return null}}}class t4{constructor(){this.providerId=t4.PROVIDER_ID}static credential(e,t){return tW._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){let n=t2.parseLink(t);return eW(n,"argument-error"),tW._fromEmailAndCode(e,n.code,n.tenantId)}}t4.PROVIDER_ID="password",t4.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t4.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class t3{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class t6 extends t3{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class t5 extends t6{constructor(){super("facebook.com")}static credential(e){return tQ._fromParams({providerId:t5.PROVIDER_ID,signInMethod:t5.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return t5.credentialFromTaggedObject(e)}static credentialFromError(e){return t5.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return t5.credential(e.oauthAccessToken)}catch(e){return null}}}t5.FACEBOOK_SIGN_IN_METHOD="facebook.com",t5.PROVIDER_ID="facebook.com";class t8 extends t6{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return tQ._fromParams({providerId:t8.PROVIDER_ID,signInMethod:t8.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return t8.credentialFromTaggedObject(e)}static credentialFromError(e){return t8.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return t8.credential(t,n)}catch(e){return null}}}t8.GOOGLE_SIGN_IN_METHOD="google.com",t8.PROVIDER_ID="google.com";class t9 extends t6{constructor(){super("github.com")}static credential(e){return tQ._fromParams({providerId:t9.PROVIDER_ID,signInMethod:t9.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return t9.credentialFromTaggedObject(e)}static credentialFromError(e){return t9.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return t9.credential(e.oauthAccessToken)}catch(e){return null}}}t9.GITHUB_SIGN_IN_METHOD="github.com",t9.PROVIDER_ID="github.com";class t7 extends t6{constructor(){super("twitter.com")}static credential(e,t){return tQ._fromParams({providerId:t7.PROVIDER_ID,signInMethod:t7.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return t7.credentialFromTaggedObject(e)}static credentialFromError(e){return t7.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return t7.credential(t,n)}catch(e){return null}}}async function ne(e,t){return e6(e,"POST","/v1/accounts:signUp",e2(e,t))}t7.TWITTER_SIGN_IN_METHOD="twitter.com",t7.PROVIDER_ID="twitter.com";class nt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){return new nt({user:await tf._fromIdTokenResponse(e,n,r),providerId:nn(n),_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){return await e._updateTokensIfNecessary(n,!0),new nt({user:e,providerId:nn(n),_tokenResponse:n,operationType:t})}}function nn(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class nr extends P{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,nr.prototype),this.customData={appName:e.name,tenantId:null!=(i=e.tenantId)?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new nr(e,t,n,r)}}function ni(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw nr._fromErrorAndOperation(e,n,t,r);throw n})}async function ns(e,t,n=!1){let r=await ts(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return nt._forOperation(e,"link",r)}async function na(e,t,n=!1){let{auth:r}=e,i="reauthenticate";try{let s=await ts(e,ni(r,i,t,e),n);eW(s.idToken,r,"internal-error");let a=ti(s.idToken);eW(a,r,"internal-error");let{sub:o}=a;return eW(e.uid===o,r,"user-mismatch"),nt._forOperation(e,i,s)}catch(e){throw(null==e?void 0:e.code)==="auth/user-not-found"&&eq(r,"user-mismatch"),e}}async function no(e,t,n=!1){let r="signIn",i=await ni(e,r,t),s=await nt._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function nl(e,t){return no($(e),t)}async function nu(e,t,n){var r;let i,s=$(e),a={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};if(null==(r=s._getRecaptchaConfig())?void 0:r.emailPasswordEnabled){let e=await tM(s,a,"signUpPassword");i=ne(s,e)}else i=ne(s,a).catch(async e=>{if("auth/missing-recaptcha-token"!==e.code)return Promise.reject(e);{console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");let e=await tM(s,a,"signUpPassword");return ne(s,e)}});let o=await i.catch(e=>Promise.reject(e)),l=await nt._fromIdTokenResponse(s,"signIn",o);return await s._updateCurrentUser(l.user),l}function nc(e){return $(e).signOut()}new WeakMap;const nh="__sak";class nd{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{if(!this.storage)return Promise.resolve(!1);return this.storage.setItem(nh,"1"),this.storage.removeItem(nh),Promise.resolve(!0)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class nf extends nd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){let e=R();return tx(e)||tI(e)}()&&function(){try{return!!(window&&window!==window.top)}catch(e){return!1}}(),this.fallbackToPolling=tN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let t of Object.keys(this.listeners)){let n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});let n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}let r=()=>{let e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);(function(){let e=R();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0})()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){let t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}nf.type="LOCAL";class np extends nd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}np.type="SESSION";class nm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;let n=new nm(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let{eventId:t,eventType:n,data:r}=e.data,i=this.handlersMap[n];if(!(null==i?void 0:i.size))return;e.ports[0].postMessage({status:"ack",eventId:t,eventType:n});let s=Array.from(i).map(async t=>t(e.origin,r)),a=await Promise.all(s.map(async e=>{try{let t=await e;return{fulfilled:!0,value:t}}catch(e){return{fulfilled:!1,reason:e}}}));e.ports[0].postMessage({status:"done",eventId:t,eventType:n,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function ng(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}nm.receivers=[];class ny{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){let r,i,s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw Error("connection_unavailable");return new Promise((a,o)=>{let l=ng("",20);s.port1.start();let u=setTimeout(()=>{o(Error("unsupported_event"))},n);i={messageChannel:s,onMessage(e){if(e.data.eventId===l)switch(e.data.status){case"ack":clearTimeout(u),r=setTimeout(()=>{o(Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(e.data.response);break;default:clearTimeout(u),clearTimeout(r),o(Error("invalid_response"))}}},this.handlers.add(i),s.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[s.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}function nv(){return window}function nb(){return void 0!==nv().WorkerGlobalScope&&"function"==typeof nv().importScripts}async function nw(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}const nx="firebaseLocalStorageDb",nE="firebaseLocalStorage",nk="fbase_key";class nS{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function n_(e,t){return e.transaction([nE],t?"readwrite":"readonly").objectStore(nE)}function nT(){let e=indexedDB.open(nx,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{let t=e.result;try{t.createObjectStore(nE,{keyPath:nk})}catch(e){n(e)}}),e.addEventListener("success",async()=>{let n=e.result;n.objectStoreNames.contains(nE)?t(n):(n.close(),await new nS(indexedDB.deleteDatabase(nx)).toPromise(),t(await nT()))})})}async function nI(e,t,n){return new nS(n_(e,!0).put({[nk]:t,value:n})).toPromise()}async function nN(e,t){let n=n_(e,!1).get(t),r=await new nS(n).toPromise();return void 0===r?null:r.value}function nC(e,t){return new nS(n_(e,!0).delete(t)).toPromise()}class nA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await nT()),this.db}async _withRetries(e){let t=0;for(;;)try{let t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nm._getInstance(nb()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await nw(),!this.activeServiceWorker)return;this.sender=new ny(this.activeServiceWorker);let n=await this.sender._send("ping",{},800);n&&(null==(e=n[0])?void 0:e.fulfilled)&&(null==(t=n[0])?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null==(t=null==navigator?void 0:navigator.serviceWorker)?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await nT();return await nI(e,nh,"1"),await nC(e,nh),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>nI(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){let t=await this._withRetries(t=>nN(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>nC(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(e=>new nS(n_(e,!1).getAll()).toPromise());if(!e||0!==this.pendingWrites)return[];let t=[],n=new Set;for(let{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(let e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}async function nD(e,t,n){var r,i,s;let a=await n.verify();try{let o;if(eW("string"==typeof a,e,"argument-error"),eW("recaptcha"===n.type,e,"argument-error"),o="string"==typeof t?{phoneNumber:t}:t,"session"in o){let t=o.session;if("phoneNumber"in o)return eW("enroll"===t.type,e,"internal-error"),(await (i={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}},e4(e,"POST","/v2/accounts/mfaEnrollment:start",e2(e,i)))).phoneSessionInfo.sessionInfo;{eW("signin"===t.type,e,"internal-error");let n=(null==(r=o.multiFactorHint)?void 0:r.uid)||o.multiFactorUid;return eW(n,e,"missing-multi-factor-info"),(await (s={mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:a}},e4(e,"POST","/v2/accounts/mfaSignIn:start",e2(e,s)))).phoneResponseInfo.sessionInfo}}{let{sessionInfo:t}=await tY(e,{phoneNumber:o.phoneNumber,recaptchaToken:a});return t}}finally{n._reset()}}nA.type="LOCAL",tO("rcb"),new eX(3e4,6e4);class nR{constructor(e){this.providerId=nR.PROVIDER_ID,this.auth=$(e)}verifyPhoneNumber(e,t){return nD(this.auth,e,$(t))}static credential(e,t){return t1._fromVerification(e,t)}static credentialFromResult(e){return nR.credentialFromTaggedObject(e)}static credentialFromError(e){return nR.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{phoneNumber:t,temporaryProof:n}=e;return t&&n?t1._fromTokenResponse(t,n):null}}nR.PROVIDER_ID="phone",nR.PHONE_SIGN_IN_METHOD="phone";class nP extends tB{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tG(e,this._buildIdpRequest())}_linkToIdToken(e,t){return tG(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return tG(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function nO(e){return no(e.auth,new nP(e),e.bypassAuthState)}function nL(e){let{auth:t,user:n}=e;return eW(n,t,"internal-error"),na(n,new nP(e),e.bypassAuthState)}async function nM(e){let{auth:t,user:n}=e;return eW(n,t,"internal-error"),ns(n,new nP(e),e.bypassAuthState)}class nj{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);let o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nO;case"linkViaPopup":case"linkViaRedirect":return nM;case"reauthViaPopup":case"reauthViaRedirect":return nL;default:eq(this.auth,"internal-error")}}resolve(e){var t,n;t=this.pendingPromise,n="Pending promise was never set",t||eG(n),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){var t,n;t=this.pendingPromise,n="Pending promise was never set",t||eG(n),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const nF=new eX(2e3,1e4);class nU extends nj{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,nU.currentPopupAction&&nU.currentPopupAction.cancel(),nU.currentPopupAction=this}async executeNotNull(){let e=await this.execute();return eW(e,this.auth,"internal-error"),e}async onExecution(){var e,t;e=1===this.filter.length,t="Popup operations only handle one event",e||eG(t);let n=ng();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(eH(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null==(e=this.authWindow)?void 0:e.associatedEvent)||null}cancel(){this.reject(eH(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,nU.currentPopupAction=null}pollUserCancellation(){let e=()=>{var t,n;if(null==(n=null==(t=this.authWindow)?void 0:t.window)?void 0:n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(eH(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nF.get())};e()}}nU.currentPopupAction=null;const nV=new Map;class nz extends nj{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=nV.get(this.auth._key());if(!e){try{let t=await nB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}nV.set(this.auth._key(),e)}return this.bypassAuthState||nV.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"===e.type)return void this.resolve(null);if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nB(e,t){var n;let r=ty("pendingRedirect",(n=t).config.apiKey,n.name),i=tm(e._redirectPersistence);if(!await i._isAvailable())return!1;let s=await i._get(r)==="true";return await i._remove(r),s}function n$(e,t){nV.set(e._key(),t)}async function nq(e,t,n=!1){let r=$(e),i=t?tm(t):(eW(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver),s=new nz(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class nH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nW(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!nW(e)){let r=(null==(n=e.error.code)?void 0:n.split("auth/")[1])||"internal-error";t.onError(eH(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(nK(e))}saveEventToCache(e){this.cachedEventUids.add(nK(e)),this.lastProcessedEventTime=Date.now()}}function nK(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function nW({type:e,error:t}){return"unknown"===e&&(null==t?void 0:t.code)==="auth/no-auth-event"}async function nG(e,t={}){return e4(e,"GET","/v1/projects",t)}const nQ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nY=/^https?/;async function nX(e){if(e.config.emulator)return;let{authorizedDomains:t}=await nG(e);for(let e of t)try{if(function(e){let t=eQ(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){let i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!nY.test(n))return!1;if(nQ.test(e))return r===e;let i=e.replace(/\./g,"\\.");return RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}(e))return}catch(e){}eq(e,"unauthorized-domain")}const nJ=new eX(3e4,6e4);function nZ(){let e=nv().___jsl;if(null==e?void 0:e.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}}let n0=null;const n1=new eX(5e3,15e3),n2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},n4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);async function n3(e){let t=await (n0=n0||new Promise((t,n)=>{var r,i,s;function a(){nZ(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{nZ(),n(eH(e,"network-request-failed"))},timeout:nJ.get()})}if(null==(i=null==(r=nv().gapi)?void 0:r.iframes)?void 0:i.Iframe)t(gapi.iframes.getContext());else if(null==(s=nv().gapi)?void 0:s.load)a();else{let t=tO("iframefcb");return nv()[t]=()=>{gapi.load?a():n(eH(e,"network-request-failed"))},tP(`https://apis.google.com/js/api.js?onload=${t}`).catch(e=>n(e))}}).catch(e=>{throw n0=null,e})),n=nv().gapi;return eW(n,e,"internal-error"),t.open({where:document.body,url:function(e){let t=e.config;eW(t.authDomain,e,"auth-domain-config-required");let n=t.emulator?eJ(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:eS},i=n4.get(e.config.apiHost);i&&(r.eid=i);let s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${F(r).slice(1)}`}(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:n2,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});let i=eH(e,"network-request-failed"),s=nv().setTimeout(()=>{r(i)},n1.get());function a(){nv().clearTimeout(s),n(t)}t.ping(a).then(a,()=>{r(i)})}))}const n6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class n5{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}const n8=encodeURIComponent("fac");async function n9(e,t,n,r,i,s){eW(e.config.authDomain,e,"auth-domain-config-required"),eW(e.config.apiKey,e,"invalid-api-key");let a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:eS,eventId:i};if(t instanceof t3)for(let[n,r]of(t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",!function(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())&&(a.customParameters=JSON.stringify(t.getCustomParameters())),Object.entries(s||{})))a[n]=r;if(t instanceof t6){let e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}for(let t of(e.tenantId&&(a.tid=e.tenantId),Object.keys(a)))void 0===a[t]&&delete a[t];let o=await e._getAppCheckToken(),l=o?`#${n8}=${encodeURIComponent(o)}`:"";return`${function({config:e}){return e.emulator?eJ(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${F(a).slice(1)}${l}`}const n7="webStorageSupport",re=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=np,this._completeRedirectFn=nq,this._overrideRedirectResult=n$}async _openPopup(e,t,n,r){var i,s,a;s=null==(i=this.eventManagers[e._key()])?void 0:i.manager,a="_initialize() not called before _openPopup()",s||eG(a);let o=await n9(e,t,n,eQ(),r);return function(e,t,n,r=500,i=600){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString(),o="",l=Object.assign(Object.assign({},n6),{width:r.toString(),height:i.toString(),top:s,left:a}),u=R().toLowerCase();n&&(o=tE(u)?"_blank":n),tw(u)&&(t=t||"http://localhost",l.scrollbars="yes");let c=Object.entries(l).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=R()){var t;return tI(e)&&!!(null==(t=window.navigator)?void 0:t.standalone)}(u)&&"_self"!==o)return function(e,t){let n=document.createElement("a");n.href=e,n.target=t;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new n5(null);let h=window.open(t||"",o,c);eW(h,e,"popup-blocked");try{h.focus()}catch(e){}return new n5(h)}(e,o,ng())}async _openRedirect(e,t,n,r){var i;return await this._originValidation(e),i=await n9(e,t,n,eQ(),r),nv().location.href=i,new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){var n;let{manager:e,promise:r}=this.eventManagers[t];return e?Promise.resolve(e):(n="If manager is not set, promise should be",r||eG(n),r)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){let t=await n3(e),n=new nH(e);return t.register("authEvent",t=>(eW(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(n7,{type:n7},n=>{var r;let i=null==(r=null==n?void 0:n[0])?void 0:r[n7];void 0!==i&&t(!!i),eq(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=nX(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return tN()||tx()||tI()}};var rt="@firebase/auth",rn="0.23.2";class rr{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null==(e=this.auth.currentUser)?void 0:e.uid)||null}async getToken(e){return(this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser)?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){eW(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ri=A("authIdTokenMaxAge")||300;let rs=null;ro="Browser",ew(new q("auth",(e,{options:t})=>{let n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=n.options;eW(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});let o=new tF(n,r,i,{apiKey:s,authDomain:a,clientPlatform:ro,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tC(ro)}),l=(null==t?void 0:t.persistence)||[],u=(Array.isArray(l)?l:[l]).map(tm);return(null==t?void 0:t.errorMap)&&o._updateErrorMap(t.errorMap),o._initializeWithPersistence(u,null==t?void 0:t.popupRedirectResolver),o},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),ew(new q("auth-internal",e=>new rr($(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),eN(rt,rn,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(ro)),eN(rt,rn,"esm2017");var ra,ro,rl,ru,rc,rh,rd={},rf=rf||{},rp=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==h?h:"undefined"!=typeof self?self:{})||self;function rm(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function rg(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function ry(e,t,n){return e.call.apply(e.bind,arguments)}function rv(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function rb(e,t,n){return(rb=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ry:rv).apply(null,arguments)}function rw(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function rx(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function rE(){this.s=this.s,this.o=this.o}rE.prototype.s=!1,rE.prototype.sa=function(){this.s||(this.s=!0,this.N())},rE.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const rk=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return -1};function rS(e){let t=e.length;if(0<t){let n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function r_(e,t){for(let t=1;t<arguments.length;t++){let n=arguments[t];if(rm(n)){let t=e.length||0,r=n.length||0;e.length=t+r;for(let i=0;i<r;i++)e[t+i]=n[i]}else e.push(n)}}function rT(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}rT.prototype.h=function(){this.defaultPrevented=!0};var rI=function(){if(!rp.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{rp.addEventListener("test",()=>{},t),rp.removeEventListener("test",()=>{},t)}catch(e){}return e}();function rN(e){return/^[\s\xa0]*$/.test(e)}function rC(){var e=rp.navigator;return e&&(e=e.userAgent)?e:""}function rA(e){return -1!=rC().indexOf(e)}function rD(e){return rD[" "](e),e}rD[" "]=function(){};var rR=rA("Opera"),rP=rA("Trident")||rA("MSIE"),rO=rA("Edge"),rL=rO||rP,rM=rA("Gecko")&&!(-1!=rC().toLowerCase().indexOf("webkit")&&!rA("Edge"))&&!(rA("Trident")||rA("MSIE"))&&!rA("Edge"),rj=-1!=rC().toLowerCase().indexOf("webkit")&&!rA("Edge");function rF(){var e=rp.document;return e?e.documentMode:void 0}e:{var rU,rV="",rz=(rU=rC(),rM?/rv:([^\);]+)(\)|;)/.exec(rU):rO?/Edge\/([\d\.]+)/.exec(rU):rP?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(rU):rj?/WebKit\/(\S+)/.exec(rU):rR?/(?:Version)[ \/]?(\S+)/.exec(rU):void 0);if(rz&&(rV=rz?rz[1]:""),rP){var rB=rF();if(null!=rB&&rB>parseFloat(rV)){a=String(rB);break e}}a=rV}var r$=o=rp.document&&rP&&(rF()||parseInt(a,10))||void 0;function rq(e,t){if(rT.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(rM){e:{try{rD(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:rH[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&rq.$.h.call(this)}}rx(rq,rT);var rH={2:"touch",3:"pen",4:"mouse"};rq.prototype.h=function(){rq.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var rK="closure_listenable_"+(1e6*Math.random()|0),rW=0;function rG(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++rW,this.fa=this.ia=!1}function rQ(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function rY(e,t,n){for(let r in e)t.call(n,e[r],r,e)}function rX(e){let t={};for(let n in e)t[n]=e[n];return t}const rJ="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rZ(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t])e[n]=r[n];for(let t=0;t<rJ.length;t++)n=rJ[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function r0(e){this.src=e,this.g={},this.h=0}function r1(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=rk(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(rQ(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function r2(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&!!n==s.capture&&s.la==r)return i}return -1}r0.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=r2(e,t,r,i);return -1<a?(t=e[a],n||(t.ia=!1)):((t=new rG(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var r4="closure_lm_"+(1e6*Math.random()|0),r3={};function r6(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=rg(i)?!!i.capture:!!i,o=r7(e);if(o||(e[r4]=o=new r0(e)),(n=o.add(t,n,r,a,s)).proxy)return n;if(r=function e(t){return r9.call(e.src,e.listener,t)},n.proxy=r,r.src=e,r.listener=n,e.addEventListener)rI||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(r8(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function r5(e){if("number"!=typeof e&&e&&!e.fa){var t=e.src;if(t&&t[rK])r1(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(r8(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=r7(t))?(r1(n,e),0==n.h&&(n.src=null,t[r4]=null)):rQ(e)}}}function r8(e){return e in r3?r3[e]:r3[e]="on"+e}function r9(e,t){if(e.fa)e=!0;else{t=new rq(t,this);var n=e.listener,r=e.la||e.src;e.ia&&r5(e),e=n.call(r,t)}return e}function r7(e){return(e=e[r4])instanceof r0?e:null}var ie="__closure_events_fn_"+(1e9*Math.random()>>>0);function it(e){return"function"==typeof e?e:(e[ie]||(e[ie]=function(t){return e.handleEvent(t)}),e[ie])}function ir(){rE.call(this),this.i=new r0(this),this.S=this,this.J=null}function ii(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"==typeof t)t=new rT(t,e);else if(t instanceof rT)t.target=t.target||e;else{var i=t;rZ(t=new rT(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=is(a,r,!0,t)&&i}if(i=is(a=t.g=e,r,!0,t)&&i,i=is(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=is(a=t.g=n[s],r,!1,t)&&i}function is(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.fa&&a.capture==n){var o=a.listener,l=a.la||a.src;a.ia&&r1(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}rx(ir,rE),ir.prototype[rK]=!0,ir.prototype.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,s){if(Array.isArray(n))for(var a=0;a<n.length;a++)e(t,n[a],r,i,s);else(i=rg(i)?!!i.capture:!!i,r=it(r),t&&t[rK])?(t=t.i,(n=String(n).toString())in t.g&&-1<(r=r2(a=t.g[n],r,i,s))&&(rQ(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete t.g[n],t.h--))):t&&(t=r7(t))&&(n=t.g[n.toString()],t=-1,n&&(t=r2(n,r,i,s)),(r=-1<t?n[t]:null)&&r5(r))}(this,e,t,n,r)},ir.prototype.N=function(){if(ir.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)rQ(n[r]);delete t.g[e],t.h--}}this.J=null},ir.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ir.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ia=rp.JSON.stringify,io=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new il,e=>e.reset());class il{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let iu,ic=!1,ih=new class{constructor(){this.h=this.g=null}add(e,t){let n=io.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},id=()=>{let e=rp.Promise.resolve(void 0);iu=()=>{e.then(ip)}};var ip=()=>{let e;for(var t;e=null,ih.g&&(e=ih.g,ih.g=ih.g.next,ih.g||(ih.h=null),e.next=null),t=e;){try{t.h.call(t.g)}catch(e){!function(e){rp.setTimeout(()=>{throw e},0)}(e)}io.j(t),100>io.h&&(io.h++,t.next=io.g,io.g=t)}ic=!1};function im(e,t){ir.call(this),this.h=e||1,this.g=t||rp,this.j=rb(this.qb,this),this.l=Date.now()}function ig(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function iy(e,t,n){if("function"==typeof e)n&&(e=rb(e,n));else if(e&&"function"==typeof e.handleEvent)e=rb(e.handleEvent,e);else throw Error("Invalid listener argument");return 0x7fffffff<Number(t)?-1:rp.setTimeout(e,t||0)}rx(im,ir),(rh=im.prototype).ga=!1,rh.T=null,rh.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ii(this,"tick"),this.ga&&(ig(this),this.start()))}},rh.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},rh.N=function(){im.$.N.call(this),ig(this),delete this.g};class iv extends rE{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:function e(t){t.g=iy(()=>{t.g=null,t.i&&(t.i=!1,e(t))},t.j);let n=t.h;t.h=null,t.m.apply(null,n)}(this)}N(){super.N(),this.g&&(rp.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ib(e){rE.call(this),this.h=e,this.g={}}rx(ib,rE);var iw=[];function ix(e,t,n,r){Array.isArray(n)||(n&&(iw[0]=n.toString()),n=iw);for(var i=0;i<n.length;i++){var s=function e(t,n,r,i,s){if(i&&i.once)return function e(t,n,r,i,s){if(Array.isArray(n)){for(var a=0;a<n.length;a++)e(t,n[a],r,i,s);return null}return r=it(r),t&&t[rK]?t.P(n,r,rg(i)?!!i.capture:!!i,s):r6(t,n,r,!0,i,s)}(t,n,r,i,s);if(Array.isArray(n)){for(var a=0;a<n.length;a++)e(t,n[a],r,i,s);return null}return r=it(r),t&&t[rK]?t.O(n,r,rg(i)?!!i.capture:!!i,s):r6(t,n,r,!1,i,s)}(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function iE(e){rY(e.g,function(e,t){this.g.hasOwnProperty(t)&&r5(e)},e),e.g={}}function ik(){this.g=!0}function iS(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}}return ia(n)}catch(e){return t}}(e,n)+(r?" "+r:"")})}ib.prototype.N=function(){ib.$.N.call(this),iE(this)},ib.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ik.prototype.Ea=function(){this.g=!1},ik.prototype.info=function(){};var i_={},iT=null;function iI(){return iT=iT||new ir}function iN(e){rT.call(this,i_.Ta,e)}function iC(e){let t=iI();ii(t,new iN(t))}function iA(e,t){rT.call(this,i_.STAT_EVENT,e),this.stat=t}function iD(e){let t=iI();ii(t,new iA(t,e))}function iR(e,t){rT.call(this,i_.Ua,e),this.size=t}function iP(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return rp.setTimeout(function(){e()},t)}i_.Ta="serverreachability",rx(iN,rT),i_.STAT_EVENT="statevent",rx(iA,rT),i_.Ua="timingevent",rx(iR,rT);var iO={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},iL={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function iM(){}function ij(e){return e.h||(e.h=e.i())}function iF(){}iM.prototype.h=null;var iU={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function iV(){rT.call(this,"d")}function iz(){rT.call(this,"c")}function iB(){}function i$(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new ib(this),this.P=iH,e=rL?125:void 0,this.V=new im(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new iq}function iq(){this.i=null,this.g="",this.h=!1}rx(iV,rT),rx(iz,rT),rx(iB,iM),iB.prototype.g=function(){return new XMLHttpRequest},iB.prototype.i=function(){return{}},l=new iB;var iH=45e3,iK={},iW={};function iG(e,t,n){e.L=1,e.v=sn(i8(t)),e.s=n,e.S=!0,iQ(e,null)}function iQ(e,t){e.G=Date.now(),iJ(e),e.A=i8(e.v);var n,r,i,s,a,o,l=e.A,u=e.W;Array.isArray(u)||(u=[String(u)]),sm(l.i,"t",u),e.C=0,l=e.l.J,e.h=new iq,e.g=ai(e.l,l?t:null,!e.s),0<e.O&&(e.M=new iv(rb(e.Pa,e,e.g),e.O)),ix(e.U,e.g,"readystatechange",e.nb),t=e.I?rX(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),iC(),n=e.j,r=e.u,i=e.A,s=e.m,a=e.W,o=e.s,n.info(function(){if(n.g)if(o)for(var e="",t=o.split("&"),l=0;l<t.length;l++){var u=t[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");e=2<=h.length&&"type"==h[1]?e+(c+"=")+u+"&":e+(c+"=redacted&")}}else e=null;else e=o;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+r+"\n"+i+"\n"+e})}function iY(e){return!!e.g&&"GET"==e.u&&2!=e.L&&e.l.Ha}function iX(e,t,n){let r=!0,i;for(;!e.J&&e.C<n.length;)if((i=function(e,t){var n=e.C,r=t.indexOf("\n",n);return -1==r?iW:isNaN(n=Number(t.substring(n,r)))?iK:(r+=1)+n>t.length?iW:(t=t.slice(r,r+n),e.C=r+n,t)}(e,n))==iW){4==t&&(e.o=4,iD(14),r=!1),iS(e.j,e.m,null,"[Incomplete Response]");break}else if(i==iK){e.o=4,iD(15),iS(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else iS(e.j,e.m,i,null),i4(e,i);iY(e)&&i!=iW&&i!=iK&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,iD(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),s5(t),t.M=!0,iD(11))):(iS(e.j,e.m,n,"[Invalid Chunked Response]"),i2(e),i1(e))}function iJ(e){e.Y=Date.now()+e.P,iZ(e,e.P)}function iZ(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=iP(rb(e.lb,e),t)}function i0(e){e.B&&(rp.clearTimeout(e.B),e.B=null)}function i1(e){0==e.l.H||e.J||s7(e.l,e)}function i2(e){i0(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,ig(e.V),iE(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function i4(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||sE(n.i,e))){if(!e.K&&sE(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)s9(n),sJ(n);else break e;s6(n),iD(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=iP(rb(n.ib,n),6e3));if(1>=sx(n.i)&&n.oa){try{n.oa()}catch(e){}n.oa=void 0}}else at(n,11)}else if((e.K||n.g==e)&&s9(n),!rN(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let o=i[t];if(n.V=o[0],o=o[1],2==n.H)if("c"==o[0]){n.K=o[1],n.pa=o[2];let t=o[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));let i=o[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));let l=o[5];null!=l&&"number"==typeof l&&0<l&&(n.L=r=1.5*l,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let u=e.g;if(u){let e=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(sk(s,s.h),s.h=null))}if(r.F){let e=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,st(r.I,r.F,e))}}if(n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),(r=n).wa=ar(r,r.J?r.pa:null,r.Y),e.K){sS(r.i,e);var a=r.L;a&&e.setTimeout(a),e.B&&(i0(e),iJ(e)),r.g=e}else s3(r);0<n.j.length&&s0(n)}else"stop"!=o[0]&&"close"!=o[0]||at(n,7);else 3==n.H&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?at(n,7):sX(n):"noop"!=o[0]&&n.h&&n.h.Aa(o),n.A=0)}}iC(4)}catch(e){}}function i3(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(rm(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(rm(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(let r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(rm(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(rh=i$.prototype).setTimeout=function(e){this.P=e},rh.nb=function(e){e=e.target;let t=this.M;t&&3==sH(e)?t.l():this.Pa(e)},rh.Pa=function(e){try{if(e==this.g)e:{let g=sH(this.g);var t=this.g.Ia();let y=this.g.da();if(!(3>g)&&(3!=g||rL||this.g&&(this.h.h||this.g.ja()||sK(this.g)))){this.J||4!=g||7==t||(8==t||0>=y?iC(3):iC(2)),i0(this);var n=this.g.da();this.ca=n;t:if(iY(this)){var r=sK(this.g);e="";var i=r.length,s=4==sH(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){i2(this),i1(this);var a="";break t}this.h.i=new rp.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,o=this.j,l=this.u,u=this.A,c=this.m,h=this.W,d=n,o.info(function(){return"XMLHTTP RESP ("+c+") [ attempt "+h+"]: "+l+"\n"+u+"\n"+g+" "+d}),this.i){if(this.aa&&!this.K){t:{if(this.g){var o,l,u,c,h,d,f,p=this.g;if((f=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rN(f)){var m=f;break t}}m=null}if(n=m)iS(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,i4(this,n);else{this.i=!1,this.o=3,iD(12),i2(this),i1(this);break e}}this.S?(iX(this,g,a),rL&&this.i&&3==g&&(ix(this.U,this.V,"tick",this.mb),this.V.start())):(iS(this.j,this.m,a,null),i4(this,a)),4==g&&i2(this),this.i&&!this.J&&(4==g?s7(this.l,this):(this.i=!1,iJ(this)))}else(function(e){let t={};e=(e.g&&2<=sH(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(rN(e[r]))continue;var n=function(e){var t=1;e=e.split(":");let n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}(e[r]);let i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();let s=t[i]||[];t[i]=s,s.push(n)}var r=function(e){return e.join(", ")};for(let e in t)r.call(void 0,t[e],e,t)})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.o=3,iD(12)):(this.o=0,iD(13)),i2(this),i1(this)}}}catch(e){}finally{}},rh.mb=function(){if(this.g){var e=sH(this.g),t=this.g.ja();this.C<t.length&&(i0(this),iX(this,e,t),this.i&&4!=e&&iJ(this))}},rh.cancel=function(){this.J=!0,i2(this)},rh.lb=function(){var e,t;this.B=null;let n=Date.now();0<=n-this.Y?(e=this.j,t=this.A,e.info(function(){return"TIMEOUT: "+t}),2!=this.L&&(iC(),iD(17)),i2(this),this.o=2,i1(this)):iZ(this,this.Y-n)};var i6=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function i5(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof i5){this.h=e.h,i9(this,e.j),this.s=e.s,this.g=e.g,i7(this,e.m),this.l=e.l;var t=e.i,n=new sh;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),se(this,n),this.o=e.o}else e&&(t=String(e).match(i6))?(this.h=!1,i9(this,t[1]||"",!0),this.s=sr(t[2]||""),this.g=sr(t[3]||"",!0),i7(this,t[4]),this.l=sr(t[5]||"",!0),se(this,t[6]||"",!0),this.o=sr(t[7]||"")):(this.h=!1,this.i=new sh(null,this.h))}function i8(e){return new i5(e)}function i9(e,t,n){e.j=n?sr(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function i7(e,t){if(t){if(isNaN(t=Number(t))||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function se(e,t,n){var r,i;t instanceof sh?(e.i=t,r=e.i,(i=e.h)&&!r.j&&(sd(r),r.i=null,r.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(sf(this,t),sm(this,n,e))},r)),r.j=i):(n||(t=si(t,su)),e.i=new sh(t,e.h))}function st(e,t,n){e.i.set(t,n)}function sn(e){return st(e,"zx",Math.floor(0x80000000*Math.random()).toString(36)+Math.abs(Math.floor(0x80000000*Math.random())^Date.now()).toString(36)),e}function sr(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function si(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,ss),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ss(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}i5.prototype.toString=function(){var e=[],t=this.j;t&&e.push(si(t,sa,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(si(t,sa,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(si(n,"/"==n.charAt(0)?sl:so,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",si(n,sc)),e.join("")};var sa=/[#\/\?@]/g,so=/[#\?:]/g,sl=/[#\?]/g,su=/[#\?@]/g,sc=/#/g;function sh(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function sd(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function sf(e,t){sd(e),t=sg(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function sp(e,t){return sd(e),t=sg(e,t),e.g.has(t)}function sm(e,t,n){sf(e,t),0<n.length&&(e.i=null,e.g.set(sg(e,t),rS(n)),e.h+=n.length)}function sg(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(rh=sh.prototype).add=function(e,t){sd(this),this.i=null,e=sg(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},rh.forEach=function(e,t){sd(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},rh.ta=function(){sd(this);let e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){let i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},rh.Z=function(e){sd(this);let t=[];if("string"==typeof e)sp(this,e)&&(t=t.concat(this.g.get(sg(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},rh.set=function(e,t){return sd(this),this.i=null,sp(this,e=sg(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},rh.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},rh.toString=function(){if(this.i)return this.i;if(!this.g)return"";let e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];let s=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")};var sy=class{constructor(e,t){this.g=e,this.map=t}};function sv(e){this.l=e||sb,e=rp.PerformanceNavigationTiming?0<(e=rp.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(rp.g&&rp.g.Ka&&rp.g.Ka()&&rp.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var sb=10;function sw(e){return!!e.h||!!e.g&&e.g.size>=e.j}function sx(e){return e.h?1:e.g?e.g.size:0}function sE(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function sk(e,t){e.g?e.g.add(t):e.h=t}function sS(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function s_(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(let n of e.g.values())t=t.concat(n.F);return t}return rS(e.i)}sv.prototype.cancel=function(){if(this.i=s_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(let e of this.g.values())e.cancel();this.g.clear()}};var sT=class{stringify(e){return rp.JSON.stringify(e,void 0)}parse(e){return rp.JSON.parse(e,void 0)}};function sI(){this.g=new sT}function sN(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function sC(e){this.l=e.fc||null,this.j=e.ob||!1}function sA(e,t){ir.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=sD,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rx(sC,iM),sC.prototype.g=function(){return new sA(this.l,this.j)},sC.prototype.i=(s={},function(){return s}),rx(sA,ir);var sD=0;function sR(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function sP(e){e.readyState=4,e.l=null,e.j=null,e.A=null,sO(e)}function sO(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(rh=sA.prototype).open=function(e,t){if(this.readyState!=sD)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,sO(this)},rh.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;let t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||rp).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},rh.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,sP(this)),this.readyState=sD},rh.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,sO(this)),this.g&&(this.readyState=3,sO(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(void 0!==rp.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;sR(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},rh.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?sP(this):sO(this),3==this.readyState&&sR(this)}},rh.Za=function(e){this.g&&(this.response=this.responseText=e,sP(this))},rh.Ya=function(e){this.g&&(this.response=e,sP(this))},rh.ka=function(){this.g&&sP(this)},rh.setRequestHeader=function(e,t){this.v.append(e,t)},rh.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},rh.getAllResponseHeaders=function(){if(!this.h)return"";let e=[],t=this.h.entries();for(var n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(sA.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var sL=rp.JSON.parse;function sM(e){ir.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=sj,this.L=this.M=!1}rx(sM,ir);var sj="",sF=/^https?$/i,sU=["POST","PUT"];function sV(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,sz(e),s$(e)}function sz(e){e.F||(e.F=!0,ii(e,"complete"),ii(e,"error"))}function sB(e){if(e.h&&void 0!==rf&&(!e.C[1]||4!=sH(e)||2!=e.da())){if(e.v&&4==sH(e))iy(e.La,0,e);else if(ii(e,"readystatechange"),4==sH(e)){e.h=!1;try{let a=e.da();switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t,n,r=!0;break;default:r=!1}if(!(t=r)){if(n=0===a){var i=String(e.I).match(i6)[1]||null;!i&&rp.self&&rp.self.location&&(i=rp.self.location.protocol.slice(0,-1)),n=!sF.test(i?i.toLowerCase():"")}t=n}if(t)ii(e,"complete"),ii(e,"success");else{e.m=6;try{var s=2<sH(e)?e.g.statusText:""}catch(e){s=""}e.j=s+" ["+e.da()+"]",sz(e)}}finally{s$(e)}}}}function s$(e,t){if(e.g){sq(e);let n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||ii(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function sq(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(rp.clearTimeout(e.A),e.A=null)}function sH(e){return e.g?e.g.readyState:0}function sK(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case sj:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function sW(e){let t="";return rY(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function sG(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=sW(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):st(e,t,n))}function sQ(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function sY(e){this.Ga=0,this.j=[],this.l=new ik,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=sQ("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=sQ("baseRetryDelayMs",5e3,e),this.hb=sQ("retryDelaySeedMs",1e4,e),this.eb=sQ("forwardChannelMaxRetries",2,e),this.xa=sQ("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new sv(e&&e.concurrentRequestLimit),this.Ja=new sI,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function sX(e){if(sZ(e),3==e.H){var t=e.W++,n=i8(e.I);if(st(n,"SID",e.K),st(n,"RID",t),st(n,"TYPE","terminate"),s2(e,n),(t=new i$(e,e.l,t)).L=2,t.v=sn(i8(n)),n=!1,rp.navigator&&rp.navigator.sendBeacon)try{n=rp.navigator.sendBeacon(t.v.toString(),"")}catch(e){}!n&&rp.Image&&((new Image).src=t.v,n=!0),n||(t.g=ai(t.l,null),t.g.ha(t.v)),t.G=Date.now(),iJ(t)}an(e)}function sJ(e){e.g&&(s5(e),e.g.cancel(),e.g=null)}function sZ(e){sJ(e),e.u&&(rp.clearTimeout(e.u),e.u=null),s9(e),e.i.cancel(),e.m&&("number"==typeof e.m&&rp.clearTimeout(e.m),e.m=null)}function s0(e){if(!sw(e.i)&&!e.m){e.m=!0;var t=e.Na;iu||id(),ic||(iu(),ic=!0),ih.add(t,e),e.C=0}}function s1(e,t){var n;n=t?t.m:e.W++;let r=i8(e.I);st(r,"SID",e.K),st(r,"RID",n),st(r,"AID",e.V),s2(e,r),e.o&&e.s&&sG(r,e.o,e.s),n=new i$(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=s4(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),sk(e.i,n),iG(n,r,t)}function s2(e,t){e.na&&rY(e.na,function(e,n){st(t,n,e)}),e.h&&i3({},function(e,n){st(t,n,e)})}function s4(e,t,n){n=Math.min(e.j.length,n);var r=e.h?rb(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){let e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g,o=i[a].map;if(0>(n-=t))t=Math.max(0,i[a].g-100),s=!1;else try{!function(e,t,n){let r=n||"";try{i3(e,function(e,n){let i=e;rg(e)&&(i=ia(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}(o,e,"req"+n+"_")}catch(e){r&&r(o)}}if(s){r=e.join("&");break e}}}return t.F=e=e.j.splice(0,n),r}function s3(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;iu||id(),ic||(iu(),ic=!0),ih.add(t,e),e.A=0}}function s6(e){return!e.g&&!e.u&&!(3<=e.A)&&(e.ba++,e.u=iP(rb(e.Ma,e),ae(e,e.A)),e.A++,!0)}function s5(e){null!=e.B&&(rp.clearTimeout(e.B),e.B=null)}function s8(e){e.g=new i$(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=i8(e.wa);st(t,"RID","rpc"),st(t,"SID",e.K),st(t,"AID",e.V),st(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&st(t,"TO",e.qa),st(t,"TYPE","xmlhttp"),s2(e,t),e.o&&e.s&&sG(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=sn(i8(t)),n.s=null,n.S=!0,iQ(n,e)}function s9(e){null!=e.v&&(rp.clearTimeout(e.v),e.v=null)}function s7(e,t){var n,r=null;if(e.g==t){s9(e),s5(e),e.g=null;var i=2}else{if(!sE(e.i,t))return;r=t.F,sS(e.i,t),i=1}if(0!=e.H){if(t.i)if(1==i){r=t.s?t.s.length:0,t=Date.now()-t.G;var s=e.C;ii(i=iI(),new iR(i,r)),s0(e)}else s3(e);else if(3==(s=t.o)||0==s&&0<t.ca||!(1==i&&(n=t,!(sx(e.i)>=e.i.j-!!e.m)&&(e.m?(e.j=n.F.concat(e.j),!0):1!=e.H&&2!=e.H&&!(e.C>=(e.cb?0:e.eb))&&(e.m=iP(rb(e.Na,e,n),ae(e,e.C)),e.C++,!0)))||2==i&&s6(e)))switch(r&&0<r.length&&((t=e.i).i=t.i.concat(r)),s){case 1:at(e,5);break;case 4:at(e,10);break;case 3:at(e,6);break;default:at(e,2)}}}function ae(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function at(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=rb(e.pb,e);n||(n=new i5("//www.google.com/images/cleardot.gif"),rp.location&&"http"==rp.location.protocol||i9(n,"https"),sn(n));var i=n.toString();let t=new ik;if(rp.Image){let e=new Image;e.onload=rw(sN,t,e,"TestLoadImage: loaded",!0,r),e.onerror=rw(sN,t,e,"TestLoadImage: error",!1,r),e.onabort=rw(sN,t,e,"TestLoadImage: abort",!1,r),e.ontimeout=rw(sN,t,e,"TestLoadImage: timeout",!1,r),rp.setTimeout(function(){e.ontimeout&&e.ontimeout()},1e4),e.src=i}else r(!1)}else iD(2);e.H=0,e.h&&e.h.za(t),an(e),sZ(e)}function an(e){if(e.H=0,e.ma=[],e.h){let t=s_(e.i);(0!=t.length||0!=e.j.length)&&(r_(e.ma,t),r_(e.ma,e.j),e.i.i.length=0,rS(e.j),e.j.length=0),e.h.ya()}}function ar(e,t,n){var r=n instanceof i5?i8(n):new i5(n);if(""!=r.g)t&&(r.g=t+"."+r.g),i7(r,r.m);else{var i=rp.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new i5(null);r&&i9(s,r),t&&(s.g=t),i&&i7(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&st(r,n,t),st(r,"VER",e.ra),s2(e,r),r}function ai(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new sM(n&&e.Ha&&!e.va?new sC({ob:!0}):e.va)).Oa(e.J),t}function as(){}function aa(){if(rP&&!(10<=Number(r$)))throw Error("Environmental error: no available transport.")}function ao(e,t){ir.call(this),this.g=new sY(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!rN(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!rN(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new ac(this)}function al(e){iV.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(let n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function au(){iz.call(this),this.status=1}function ac(e){this.g=e}function ah(){this.blockSize=-1,this.blockSize=64,this.g=[,,,,],this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ad(e,t,n){n||(n=0);var r=Array(16);if("string"==typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+0xd76aa478|0;a=s+(i^(t=n+(a<<7|a>>>25))&(n^i))+r[1]+0xe8c7b756|0,a=i+(n^(s=t+(a<<12|a>>>20))&(t^n))+r[2]+0x242070db|0,a=n+(t^(i=s+(a<<17|a>>>15))&(s^t))+r[3]+0xc1bdceee|0,a=t+(s^(n=i+(a<<22|a>>>10))&(i^s))+r[4]+0xf57c0faf|0,a=s+(i^(t=n+(a<<7|a>>>25))&(n^i))+r[5]+0x4787c62a|0,a=i+(n^(s=t+(a<<12|a>>>20))&(t^n))+r[6]+0xa8304613|0,a=n+(t^(i=s+(a<<17|a>>>15))&(s^t))+r[7]+0xfd469501|0,a=t+(s^(n=i+(a<<22|a>>>10))&(i^s))+r[8]+0x698098d8|0,a=s+(i^(t=n+(a<<7|a>>>25))&(n^i))+r[9]+0x8b44f7af|0,a=i+(n^(s=t+(a<<12|a>>>20))&(t^n))+r[10]+0xffff5bb1|0,a=n+(t^(i=s+(a<<17|a>>>15))&(s^t))+r[11]+0x895cd7be|0,a=t+(s^(n=i+(a<<22|a>>>10))&(i^s))+r[12]+0x6b901122|0,a=s+(i^(t=n+(a<<7|a>>>25))&(n^i))+r[13]+0xfd987193|0,a=i+(n^(s=t+(a<<12|a>>>20))&(t^n))+r[14]+0xa679438e|0,a=n+(t^(i=s+(a<<17|a>>>15))&(s^t))+r[15]+0x49b40821|0,n=i+(a<<22|a>>>10),a=t+(i^s&(n^i))+r[1]+0xf61e2562|0,t=n+(a<<5|a>>>27),a=s+(n^i&(t^n))+r[6]+0xc040b340|0,s=t+(a<<9|a>>>23),a=i+(t^n&(s^t))+r[11]+0x265e5a51|0,i=s+(a<<14|a>>>18),a=n+(s^t&(i^s))+r[0]+0xe9b6c7aa|0,n=i+(a<<20|a>>>12),a=t+(i^s&(n^i))+r[5]+0xd62f105d|0,t=n+(a<<5|a>>>27),a=s+(n^i&(t^n))+r[10]+0x2441453|0,s=t+(a<<9|a>>>23),a=i+(t^n&(s^t))+r[15]+0xd8a1e681|0,i=s+(a<<14|a>>>18),a=n+(s^t&(i^s))+r[4]+0xe7d3fbc8|0,n=i+(a<<20|a>>>12),a=t+(i^s&(n^i))+r[9]+0x21e1cde6|0,t=n+(a<<5|a>>>27),a=s+(n^i&(t^n))+r[14]+0xc33707d6|0,s=t+(a<<9|a>>>23),a=i+(t^n&(s^t))+r[3]+0xf4d50d87|0,i=s+(a<<14|a>>>18),a=n+(s^t&(i^s))+r[8]+0x455a14ed|0,n=i+(a<<20|a>>>12),a=t+(i^s&(n^i))+r[13]+0xa9e3e905|0,t=n+(a<<5|a>>>27),a=s+(n^i&(t^n))+r[2]+0xfcefa3f8|0,s=t+(a<<9|a>>>23),a=i+(t^n&(s^t))+r[7]+0x676f02d9|0,i=s+(a<<14|a>>>18),a=n+(s^t&(i^s))+r[12]+0x8d2a4c8a|0,a=t+((n=i+(a<<20|a>>>12))^i^s)+r[5]+0xfffa3942|0,a=s+((t=n+(a<<4|a>>>28))^n^i)+r[8]+0x8771f681|0,a=i+((s=t+(a<<11|a>>>21))^t^n)+r[11]+0x6d9d6122|0,a=n+((i=s+(a<<16|a>>>16))^s^t)+r[14]+0xfde5380c|0,a=t+((n=i+(a<<23|a>>>9))^i^s)+r[1]+0xa4beea44|0,a=s+((t=n+(a<<4|a>>>28))^n^i)+r[4]+0x4bdecfa9|0,a=i+((s=t+(a<<11|a>>>21))^t^n)+r[7]+0xf6bb4b60|0,a=n+((i=s+(a<<16|a>>>16))^s^t)+r[10]+0xbebfbc70|0,a=t+((n=i+(a<<23|a>>>9))^i^s)+r[13]+0x289b7ec6|0,a=s+((t=n+(a<<4|a>>>28))^n^i)+r[0]+0xeaa127fa|0,a=i+((s=t+(a<<11|a>>>21))^t^n)+r[3]+0xd4ef3085|0,a=n+((i=s+(a<<16|a>>>16))^s^t)+r[6]+0x4881d05|0,a=t+((n=i+(a<<23|a>>>9))^i^s)+r[9]+0xd9d4d039|0,a=s+((t=n+(a<<4|a>>>28))^n^i)+r[12]+0xe6db99e5|0,a=i+((s=t+(a<<11|a>>>21))^t^n)+r[15]+0x1fa27cf8|0,a=n+((i=s+(a<<16|a>>>16))^s^t)+r[2]+0xc4ac5665|0,n=i+(a<<23|a>>>9),a=t+(i^(n|~s))+r[0]+0xf4292244|0,t=n+(a<<6|a>>>26),a=s+(n^(t|~i))+r[7]+0x432aff97|0,s=t+(a<<10|a>>>22),a=i+(t^(s|~n))+r[14]+0xab9423a7|0,i=s+(a<<15|a>>>17),a=n+(s^(i|~t))+r[5]+0xfc93a039|0,n=i+(a<<21|a>>>11),a=t+(i^(n|~s))+r[12]+0x655b59c3|0,t=n+(a<<6|a>>>26),a=s+(n^(t|~i))+r[3]+0x8f0ccc92|0,s=t+(a<<10|a>>>22),a=i+(t^(s|~n))+r[10]+0xffeff47d|0,i=s+(a<<15|a>>>17),a=n+(s^(i|~t))+r[1]+0x85845dd1|0,n=i+(a<<21|a>>>11),a=t+(i^(n|~s))+r[8]+0x6fa87e4f|0,t=n+(a<<6|a>>>26),a=s+(n^(t|~i))+r[15]+0xfe2ce6e0|0,s=t+(a<<10|a>>>22),a=i+(t^(s|~n))+r[6]+0xa3014314|0,i=s+(a<<15|a>>>17),a=n+(s^(i|~t))+r[13]+0x4e0811a1|0,n=i+(a<<21|a>>>11),a=t+(i^(n|~s))+r[4]+0xf7537e82|0,t=n+(a<<6|a>>>26),a=s+(n^(t|~i))+r[11]+0xbd3af235|0,s=t+(a<<10|a>>>22),a=i+(t^(s|~n))+r[2]+0x2ad7d2bb|0,i=s+(a<<15|a>>>17),a=n+(s^(i|~t))+r[9]+0xeb86d391|0,e.g[0]=e.g[0]+t|0,e.g[1]=e.g[1]+(i+(a<<21|a>>>11))|0,e.g[2]=e.g[2]+i|0,e.g[3]=e.g[3]+s|0}function af(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(rh=sM.prototype).Oa=function(e){this.M=e},rh.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():l.g(),this.C=this.u?ij(this.u):ij(l),this.g.onreadystatechange=rb(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(e){sV(this,e);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if("function"==typeof r.keys&&"function"==typeof r.get)for(let e of r.keys())n.set(e,r.get(e));else throw Error("Unknown input type for opt_headers: "+String(r));for(let[s,a]of(r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=rp.FormData&&e instanceof rp.FormData,!(0<=rk(sU,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),n))this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{var s;sq(this),0<this.B&&((this.L=(s=this.g,rP&&"number"==typeof s.timeout&&void 0!==s.ontimeout))?(this.g.timeout=this.B,this.g.ontimeout=rb(this.ua,this)):this.A=iy(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){sV(this,e)}},rh.ua=function(){void 0!==rf&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ii(this,"timeout"),this.abort(8))},rh.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ii(this,"complete"),ii(this,"abort"),s$(this))},rh.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),s$(this,!0)),sM.$.N.call(this)},rh.La=function(){this.s||(this.G||this.v||this.l?sB(this):this.kb())},rh.kb=function(){sB(this)},rh.isActive=function(){return!!this.g},rh.da=function(){try{return 2<sH(this)?this.g.status:-1}catch(e){return -1}},rh.ja=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},rh.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),sL(t)}},rh.Ia=function(){return this.m},rh.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(rh=sY.prototype).ra=8,rh.H=1,rh.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;let i=new i$(this,this.l,e),s=this.s;if(this.U&&(s?rZ(s=rX(s),this.U):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&"string"==typeof(r=r.map.__data__)){r=r.length;break t}r=void 0}if(void 0===r)break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=s4(this,i,t),st(n=i8(this.I),"RID",e),st(n,"CVER",22),this.F&&st(n,"X-HTTP-Session-Id",this.F),s2(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(sW(s)))+"&"+t:this.o&&sG(n,this.o,s)),sk(this.i,i),this.bb&&st(n,"TYPE","init"),this.P?(st(n,"$req",t),st(n,"SID","null"),i.aa=!0,iG(i,n,null)):iG(i,n,t),this.H=2}}else 3==this.H&&(e?s1(this,e):0==this.j.length||sw(this.i)||s1(this))},rh.Ma=function(){if(this.u=null,s8(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=iP(rb(this.jb,this),e)}},rh.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,iD(10),sJ(this),s8(this))},rh.ib=function(){null!=this.v&&(this.v=null,sJ(this),s6(this),iD(19))},rh.pb=function(e){e?(this.l.info("Successfully pinged google.com"),iD(2)):(this.l.info("Failed to ping google.com"),iD(1))},rh.isActive=function(){return!!this.h&&this.h.isActive(this)},(rh=as.prototype).Ba=function(){},rh.Aa=function(){},rh.za=function(){},rh.ya=function(){},rh.isActive=function(){return!0},rh.Va=function(){},aa.prototype.g=function(e,t){return new ao(e,t)},rx(ao,ir),ao.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;iD(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=ar(e,null,e.Y),s0(e)},ao.prototype.close=function(){sX(this.g)},ao.prototype.u=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ia(e),e=n);t.j.push(new sy(t.fb++,e)),3==t.H&&s0(t)},ao.prototype.N=function(){this.g.h=null,delete this.j,sX(this.g),delete this.g,ao.$.N.call(this)},rx(al,iV),rx(au,iz),rx(ac,as),ac.prototype.Ba=function(){ii(this.g,"a")},ac.prototype.Aa=function(e){ii(this.g,new al(e))},ac.prototype.za=function(e){ii(this.g,new au)},ac.prototype.ya=function(){ii(this.g,"b")},rx(ah,function(){this.blockSize=-1}),ah.prototype.reset=function(){this.g[0]=0x67452301,this.g[1]=0xefcdab89,this.g[2]=0x98badcfe,this.g[3]=0x10325476,this.i=this.h=0},ah.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)ad(this,e,s),s+=this.blockSize;if("string"==typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){ad(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){ad(this,r),i=0;break}}this.h=i,this.i+=t},ah.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var ap={};function am(e){var t;return -128<=e&&128>e?(t=function(e){return new af([0|e],0>e?-1:0)},Object.prototype.hasOwnProperty.call(ap,e)?ap[e]:ap[e]=t(e)):new af([0|e],0>e?-1:0)}function ag(e){if(isNaN(e)||!isFinite(e))return av;if(0>e)return ak(ag(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=ay;return new af(t,0)}var ay=0x100000000,av=am(0),ab=am(1),aw=am(0x1000000);function ax(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function aE(e){return -1==e.h}function ak(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new af(n,~e.h).add(ab)}function aS(e,t){return e.add(ak(t))}function a_(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function aT(e,t){this.g=e,this.h=t}function aI(e,t){if(ax(t))throw Error("division by zero");if(ax(e))return new aT(av,av);if(aE(e))return t=aI(ak(e),t),new aT(ak(t.g),ak(t.h));if(aE(t))return t=aI(e,ak(t)),new aT(ak(t.g),t.h);if(30<e.g.length){if(aE(e)||aE(t))throw Error("slowDivide_ only works with positive integers.");for(var n=ab,r=t;0>=r.X(e);)n=aN(n),r=aN(r);var i=aC(n,1),s=aC(r,1);for(r=aC(r,2),n=aC(n,2);!ax(r);){var a=s.add(r);0>=a.X(e)&&(i=i.add(n),s=a),r=aC(r,1),n=aC(n,1)}return t=aS(e,i.R(t)),new aT(i,t)}for(i=av;0<=e.X(t);){for(r=48>=(r=Math.ceil(Math.log(n=Math.max(1,Math.floor(e.ea()/t.ea())))/Math.LN2))?1:Math.pow(2,r-48),a=(s=ag(n)).R(t);aE(a)||0<a.X(e);)n-=r,a=(s=ag(n)).R(t);ax(s)&&(s=ab),i=i.add(s),e=aS(e,a)}return new aT(i,e)}function aN(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new af(n,e.h)}function aC(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new af(i,e.h)}(rh=af.prototype).ea=function(){if(aE(this))return-ak(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:ay+r)*t,t*=ay}return e},rh.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(ax(this))return"0";if(aE(this))return"-"+ak(this).toString(e);for(var t=ag(Math.pow(e,6)),n=this,r="";;){var i=aI(n,t).g,s=((0<(n=aS(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(ax(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},rh.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},rh.X=function(e){return aE(e=aS(this,e))?-1:+!ax(e)},rh.abs=function(){return aE(this)?ak(this):this},rh.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),a=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=a>>>16,s&=65535,a&=65535,n[i]=a<<16|s}return new af(n,-0x80000000&n[n.length-1]?-1:0)},rh.R=function(e){if(ax(this)||ax(e))return av;if(aE(this))return aE(e)?ak(this).R(ak(e)):ak(ak(this).R(e));if(aE(e))return ak(this.R(ak(e)));if(0>this.X(aw)&&0>e.X(aw))return ag(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,a=65535&this.D(r),o=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=a*l,a_(n,2*r+2*i),n[2*r+2*i+1]+=s*l,a_(n,2*r+2*i+1),n[2*r+2*i+1]+=a*o,a_(n,2*r+2*i+1),n[2*r+2*i+2]+=s*o,a_(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new af(n,0)},rh.gb=function(e){return aI(this,e).h},rh.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new af(n,this.h&e.h)},rh.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new af(n,this.h|e.h)},rh.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new af(n,this.h^e.h)},aa.prototype.createWebChannel=aa.prototype.g,ao.prototype.send=ao.prototype.u,ao.prototype.open=ao.prototype.m,ao.prototype.close=ao.prototype.close,iO.NO_ERROR=0,iO.TIMEOUT=8,iO.HTTP_ERROR=6,iL.COMPLETE="complete",iF.EventType=iU,iU.OPEN="a",iU.CLOSE="b",iU.ERROR="c",iU.MESSAGE="d",ir.prototype.listen=ir.prototype.O,sM.prototype.listenOnce=sM.prototype.P,sM.prototype.getLastError=sM.prototype.Sa,sM.prototype.getLastErrorCode=sM.prototype.Ia,sM.prototype.getStatus=sM.prototype.da,sM.prototype.getResponseJson=sM.prototype.Wa,sM.prototype.getResponseText=sM.prototype.ja,sM.prototype.send=sM.prototype.ha,sM.prototype.setWithCredentials=sM.prototype.Oa,ah.prototype.digest=ah.prototype.l,ah.prototype.reset=ah.prototype.reset,ah.prototype.update=ah.prototype.j,af.prototype.add=af.prototype.add,af.prototype.multiply=af.prototype.R,af.prototype.modulo=af.prototype.gb,af.prototype.compare=af.prototype.X,af.prototype.toNumber=af.prototype.ea,af.prototype.toString=af.prototype.toString,af.prototype.getBits=af.prototype.D,af.fromNumber=ag,af.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return ak(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=ag(Math.pow(n,8)),i=av,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+a),n);8>a?(a=ag(Math.pow(n,a)),i=i.R(a).add(ag(o))):i=(i=i.R(r)).add(ag(o))}return i};var aA=rd.createWebChannelTransport=function(){return new aa},aD=rd.getStatEventTarget=function(){return iI()},aR=rd.ErrorCode=iO,aP=rd.EventType=iL,aO=rd.Event=i_,aL=rd.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},aM=rd.FetchXmlHttpFactory=sC,aj=rd.WebChannel=iF,aF=rd.XhrIo=sM,aU=rd.Md5=ah,aV=rd.Integer=af;const az="@firebase/firestore";class aB{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}aB.UNAUTHENTICATED=new aB(null),aB.GOOGLE_CREDENTIALS=new aB("google-credentials-uid"),aB.FIRST_PARTY=new aB("first-party-uid"),aB.MOCK_USER=new aB("mock-user");let a$="9.23.0";const aq=new Z("@firebase/firestore");function aH(){return aq.logLevel}function aK(e,...t){if(aq.logLevel<=rc.DEBUG){let n=t.map(aQ);aq.debug(`Firestore (${a$}): ${e}`,...n)}}function aW(e,...t){if(aq.logLevel<=rc.ERROR){let n=t.map(aQ);aq.error(`Firestore (${a$}): ${e}`,...n)}}function aG(e,...t){if(aq.logLevel<=rc.WARN){let n=t.map(aQ);aq.warn(`Firestore (${a$}): ${e}`,...n)}}function aQ(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function aY(e="Unexpected state"){let t=`FIRESTORE (${a$}) INTERNAL ASSERTION FAILED: `+e;throw aW(t),Error(t)}const aX={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class aJ extends P{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class aZ{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class a0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class a1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(aB.UNAUTHENTICATED))}shutdown(){}}class a2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class a4{constructor(e){this.t=e,this.currentUser=aB.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i,r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve(),i=new aZ;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new aZ,e.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{aK("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){let e=this.t.getImmediate({optional:!0});e?a(e):(aK("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new aZ)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(aK("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?("string"==typeof t.accessToken||aY(),new a0(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return null===e||"string"==typeof e||aY(),new aB(e)}}class a3{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=aB.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);let e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class a6{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new a3(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(aB.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class a5{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class a8{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){this.o=n=>{e.enqueueRetryable(()=>(e=>{null!=e.error&&aK("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);let n=e.token!==this.T;return this.T=e.token,aK("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()})(n))};let n=e=>{aK("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit(e=>n(e)),setTimeout(()=>{if(!this.appCheck){let e=this.I.getImmediate({optional:!0});e?n(e):aK("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?("string"==typeof e.token||aY(),this.T=e.token,new a5(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class a9{static A(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";for(;n.length<20;){let r=function(e){let t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(40);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let e=0;e<40;e++)n[e]=Math.floor(256*Math.random());return n}(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function a7(e,t){return e<t?-1:+(e>t)}function oe(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}class ot{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0||t>=1e9)throw new aJ(aX.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-0xe7791f700||e>=0x3afff44180)throw new aJ(aX.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new ot(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?a7(this.nanoseconds,e.nanoseconds):a7(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -0xe7791f700).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class on{constructor(e){this.timestamp=e}static fromTimestamp(e){return new on(e)}static min(){return new on(new ot(0,0))}static max(){return new on(new ot(0x3afff4417f,0x3b9ac9ff))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class or{constructor(e,t,n){void 0===t?t=0:t>e.length&&aY(),void 0===n?n=e.length-t:n>e.length-t&&aY(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===or.comparator(this,e)}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof or?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let n=Math.min(e.length,t.length);for(let r=0;r<n;r++){let n=e.get(r),i=t.get(r);if(n<i)return -1;if(n>i)return 1}return e.length<t.length?-1:+(e.length>t.length)}}class oi extends or{construct(e,t,n){return new oi(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){let t=[];for(let n of e){if(n.indexOf("//")>=0)throw new aJ(aX.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new oi(t)}static emptyPath(){return new oi([])}}const os=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class oa extends or{construct(e,t,n){return new oa(e,t,n)}static isValidIdentifier(e){return os.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),oa.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new oa(["__name__"])}static fromServerFormat(e){let t=[],n="",r=0,i=()=>{if(0===n.length)throw new aJ(aX.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""},s=!1;for(;r<e.length;){let t=e[r];if("\\"===t){if(r+1===e.length)throw new aJ(aX.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new aJ(aX.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?s=!s:"."!==t||s?n+=t:i(),r++}if(i(),s)throw new aJ(aX.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new oa(t)}static emptyPath(){return new oa([])}}class oo{constructor(e){this.path=e}static fromPath(e){return new oo(oi.fromString(e))}static fromName(e){return new oo(oi.fromString(e).popFirst(5))}static empty(){return new oo(oi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===oi.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return oi.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oo(new oi(e.slice()))}}class ol{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ol(on.min(),oo.empty(),-1)}static max(){return new ol(on.max(),oo.empty(),-1)}}class ou{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function oc(e){if(e.code!==aX.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==e.message)throw e;aK("LocalStore","Unexpectedly lost primary lease")}class oh{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&aY(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new oh((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof oh?t:oh.resolve(t)}catch(e){return oh.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):oh.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):oh.reject(t)}static resolve(e){return new oh((t,n)=>{t(e)})}static reject(e){return new oh((t,n)=>{n(e)})}static waitFor(e){return new oh((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=oh.resolve(!1);for(let n of e)t=t.next(e=>e?oh.resolve(e):n());return t}static forEach(e,t){let n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new oh((n,r)=>{let i=e.length,s=Array(i),a=0;for(let o=0;o<i;o++){let l=o;t(e[l]).next(e=>{s[l]=e,++a===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new oh((n,r)=>{let i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function od(e){return"IndexedDbTransactionError"===e.name}class of{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.ut&&this.ut(e),e}}function op(e){return 0===e&&1/e==-1/0}function om(e){let t=0;for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function og(e,t){for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function oy(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}of.ct=-1;class ov{constructor(e,t){this.comparator=e,this.root=t||ow.EMPTY}insert(e,t){return new ov(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ow.BLACK,null,null))}remove(e){return new ov(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ow.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return -1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){let e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ob(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ob(this.root,e,this.comparator,!1)}getReverseIterator(){return new ob(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ob(this.root,e,this.comparator,!0)}}class ob{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ow{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ow.RED,this.left=null!=r?r:ow.EMPTY,this.right=null!=i?i:ow.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new ow(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}removeMin(){if(this.left.isEmpty())return ow.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()}remove(e,t){let n,r=this;if(0>t(e,r.key))r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ow.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}rotateLeft(){let e=this.copy(null,null,ow.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,ow.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){return Math.pow(2,this.check())<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw aY();let e=this.left.check();if(e!==this.right.check())throw aY();return e+ +!this.isRed()}}ow.EMPTY=null,ow.RED=!0,ow.BLACK=!1,ow.EMPTY=new class{constructor(){this.size=0}get key(){throw aY()}get value(){throw aY()}get color(){throw aY()}get left(){throw aY()}get right(){throw aY()}copy(e,t,n,r,i){return this}insert(e,t,n){return new ow(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ox{constructor(e){this.comparator=e,this.data=new ov(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){let n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){let r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new oE(this.data.getIterator())}getIteratorFrom(e){return new oE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof ox)||this.size!==e.size)return!1;let t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){let e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new ox(this.comparator);return t.data=e,t}}class oE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ok{constructor(e){this.fields=e,e.sort(oa.comparator)}static empty(){return new ok([])}unionWith(e){let t=new ox(oa.comparator);for(let e of this.fields)t=t.add(e);for(let n of e)t=t.add(n);return new ok(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return oe(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class oS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class o_{constructor(e){this.binaryString=e}static fromBase64String(e){return new o_(function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new oS("Invalid base64 string: "+e):e}}(e))}static fromUint8Array(e){return new o_(function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e))}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){var e=this.binaryString;let t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return a7(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}o_.EMPTY_BYTE_STRING=new o_("");const oT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oI(e){if(e||aY(),"string"==typeof e){let t=0,n=oT.exec(e);if(n||aY(),n[1]){let e=n[1];t=Number(e=(e+"000000000").substr(0,9))}return{seconds:Math.floor(new Date(e).getTime()/1e3),nanos:t}}return{seconds:oN(e.seconds),nanos:oN(e.nanos)}}function oN(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function oC(e){return"string"==typeof e?o_.fromBase64String(e):o_.fromUint8Array(e)}function oA(e){var t,n;return"server_timestamp"===(null==(n=((null==(t=null==e?void 0:e.mapValue)?void 0:t.fields)||{}).__type__)?void 0:n.stringValue)}function oD(e){let t=e.mapValue.fields.__previous_value__;return oA(t)?oD(t):t}function oR(e){let t=oI(e.mapValue.fields.__local_write_time__.timestampValue);return new ot(t.seconds,t.nanos)}class oP{constructor(e,t,n,r,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class oO{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new oO("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof oO&&e.projectId===this.projectId&&e.database===this.database}}const oL={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function oM(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?oA(e)?4:oQ(e)?0x1fffffffffffff:10:aY()}function oj(e,t){if(e===t)return!0;let n=oM(e);if(n!==oM(t))return!1;switch(n){case 0:case 0x1fffffffffffff:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return oR(e).isEqual(oR(t));case 3:if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;let r=oI(e.timestampValue),i=oI(t.timestampValue);return r.seconds===i.seconds&&r.nanos===i.nanos;case 5:return e.stringValue===t.stringValue;case 6:return oC(e.bytesValue).isEqual(oC(t.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return oN(e.geoPointValue.latitude)===oN(t.geoPointValue.latitude)&&oN(e.geoPointValue.longitude)===oN(t.geoPointValue.longitude);case 2:if("integerValue"in e&&"integerValue"in t)return oN(e.integerValue)===oN(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){let n=oN(e.doubleValue),r=oN(t.doubleValue);return n===r?op(n)===op(r):isNaN(n)&&isNaN(r)}return!1;case 9:return oe(e.arrayValue.values||[],t.arrayValue.values||[],oj);case 10:let s=e.mapValue.fields||{},a=t.mapValue.fields||{};if(om(s)!==om(a))return!1;for(let e in s)if(s.hasOwnProperty(e)&&(void 0===a[e]||!oj(s[e],a[e])))return!1;return!0;default:return aY()}}function oF(e,t){return void 0!==(e.values||[]).find(e=>oj(e,t))}function oU(e,t){if(e===t)return 0;let n=oM(e),r=oM(t);if(n!==r)return a7(n,r);switch(n){case 0:case 0x1fffffffffffff:return 0;case 1:return a7(e.booleanValue,t.booleanValue);case 2:let i=oN(e.integerValue||e.doubleValue),s=oN(t.integerValue||t.doubleValue);return i<s?-1:i>s?1:i===s?0:isNaN(i)?isNaN(s)?0:-1:1;case 3:return oV(e.timestampValue,t.timestampValue);case 4:return oV(oR(e),oR(t));case 5:return a7(e.stringValue,t.stringValue);case 6:return function(e,t){let n=oC(e),r=oC(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){let n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){let t=a7(n[e],r[e]);if(0!==t)return t}return a7(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){let n=a7(oN(e.latitude),oN(t.latitude));return 0!==n?n:a7(oN(e.longitude),oN(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){let n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){let t=oU(n[e],r[e]);if(t)return t}return a7(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===oL.mapValue&&t===oL.mapValue)return 0;if(e===oL.mapValue)return 1;if(t===oL.mapValue)return -1;let n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let e=0;e<r.length&&e<s.length;++e){let t=a7(r[e],s[e]);if(0!==t)return t;let a=oU(n[r[e]],i[s[e]]);if(0!==a)return a}return a7(r.length,s.length)}(e.mapValue,t.mapValue);default:throw aY()}}function oV(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return a7(e,t);let n=oI(e),r=oI(t),i=a7(n.seconds,r.seconds);return 0!==i?i:a7(n.nanos,r.nanos)}function oz(e){var t,n;return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){let t=oI(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?oC(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,oo.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(let r of e.values||[])n?n=!1:t+=",",t+=oz(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){let t=Object.keys(e.fields||{}).sort(),n="{",r=!0;for(let i of t)r?r=!1:n+=",",n+=`${i}:${oz(e.fields[i])}`;return n+"}"}(e.mapValue):aY()}function oB(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function o$(e){return!!e&&"integerValue"in e}function oq(e){return!!e&&"arrayValue"in e}function oH(e){return!!e&&"nullValue"in e}function oK(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function oW(e){return!!e&&"mapValue"in e}function oG(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){let t={mapValue:{fields:{}}};return og(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=oG(n)),t}if(e.arrayValue){let t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=oG(e.arrayValue.values[n]);return t}return Object.assign({},e)}function oQ(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class oY{constructor(e){this.value=e}static empty(){return new oY({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(!oW(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=oG(t)}setAll(e){let t=oa.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){let e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=oG(e):r.push(i.lastSegment())});let i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){let t=this.field(e.popLast());oW(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return oj(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];oW(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){for(let r of(og(t,(t,n)=>e[t]=n),n))delete e[r]}clone(){return new oY(oG(this.value))}}class oX{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new oX(e,0,on.min(),on.min(),on.min(),oY.empty(),0)}static newFoundDocument(e,t,n,r){return new oX(e,1,t,on.min(),n,r,0)}static newNoDocument(e,t){return new oX(e,2,t,on.min(),on.min(),oY.empty(),0)}static newUnknownDocument(e,t){return new oX(e,3,t,on.min(),on.min(),oY.empty(),2)}convertToFoundDocument(e,t){return this.createTime.isEqual(on.min())&&(2===this.documentType||0===this.documentType)&&(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=oY.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=oY.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=on.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof oX&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new oX(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class oJ{constructor(e,t){this.position=e,this.inclusive=t}}function oZ(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){let s=t[i],a=e.position[i];if(r=s.field.isKeyField()?oo.comparator(oo.fromName(a.referenceValue),n.key):oU(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function o0(e,t){if(null===e)return null===t;if(null===t||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!oj(e.position[n],t.position[n]))return!1;return!0}class o1{constructor(e,t="asc"){this.field=e,this.dir=t}}class o2{}class o4 extends o2{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new o8(e,t,n):"array-contains"===t?new lt(e,n):"in"===t?new ln(e,n):"not-in"===t?new lr(e,n):"array-contains-any"===t?new li(e,n):new o4(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new o9(e,n):new o7(e,n)}matches(e){let t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(oU(t,this.value)):null!==t&&oM(this.value)===oM(t)&&this.matchesComparison(oU(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return aY()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class o3 extends o2{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new o3(e,t)}matches(e){return o6(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){let e=this.ft(e=>e.isInequality());return null!==e?e.field:null}ft(e){for(let t of this.getFlattenedFilters())if(e(t))return t;return null}}function o6(e){return"and"===e.op}function o5(e){for(let t of e.filters)if(t instanceof o3)return!1;return!0}class o8 extends o4{constructor(e,t,n){super(e,t,n),this.key=oo.fromName(n.referenceValue)}matches(e){let t=oo.comparator(e.key,this.key);return this.matchesComparison(t)}}class o9 extends o4{constructor(e,t){super(e,"in",t),this.keys=le("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class o7 extends o4{constructor(e,t){super(e,"not-in",t),this.keys=le("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function le(e,t){var n;return((null==(n=t.arrayValue)?void 0:n.values)||[]).map(e=>oo.fromName(e.referenceValue))}class lt extends o4{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return oq(t)&&oF(t.arrayValue,this.value)}}class ln extends o4{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return null!==t&&oF(this.value.arrayValue,t)}}class lr extends o4{constructor(e,t){super(e,"not-in",t)}matches(e){if(oF(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return null!==t&&!oF(this.value.arrayValue,t)}}class li extends o4{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!oq(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>oF(this.value.arrayValue,e))}}class ls{constructor(e,t=null,n=[],r=[],i=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.dt=null}}function la(e,t=null,n=[],r=[],i=null,s=null,a=null){return new ls(e,t,n,r,i,s,a)}function lo(e){if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(e=>(function e(t){if(t instanceof o4)return t.field.canonicalString()+t.op.toString()+oz(t.value);if(o5(t)&&o6(t))return t.filters.map(t=>e(t)).join(",");{let n=t.filters.map(t=>e(t)).join(",");return`${t.op}(${n})`}})(e)).join(","),t+="|ob:",t+=e.orderBy.map(e=>e.field.canonicalString()+e.dir).join(","),null==e.limit||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>oz(e)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>oz(e)).join(",")),e.dt=t}return e.dt}function ll(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++){var n,r;if(n=e.orderBy[i],r=t.orderBy[i],!(n.dir===r.dir&&n.field.isEqual(r.field)))return!1}if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!function e(t,n){return t instanceof o4?n instanceof o4&&t.op===n.op&&t.field.isEqual(n.field)&&oj(t.value,n.value):t instanceof o3?n instanceof o3&&t.op===n.op&&t.filters.length===n.filters.length&&t.filters.reduce((t,r,i)=>t&&e(r,n.filters[i]),!0):void aY()}(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!o0(e.startAt,t.startAt)&&o0(e.endAt,t.endAt)}function lu(e){return oo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class lc{constructor(e,t=null,n=[],r=[],i=null,s="F",a=null,o=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.wt=null,this._t=null,this.startAt,this.endAt}}function lh(e){return new lc(e)}function ld(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function lf(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function lp(e){for(let t of e.filters){let e=t.getFirstInequalityField();if(null!==e)return e}return null}function lm(e){return null!==e.collectionGroup}function lg(e){if(null===e.wt){e.wt=[];let t=lp(e),n=lf(e);if(null!==t&&null===n)t.isKeyField()||e.wt.push(new o1(t)),e.wt.push(new o1(oa.keyField(),"asc"));else{let t=!1;for(let n of e.explicitOrderBy)e.wt.push(n),n.field.isKeyField()&&(t=!0);if(!t){let t=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new o1(oa.keyField(),t))}}}return e.wt}function ly(e){if(!e._t)if("F"===e.limitType)e._t=la(e.path,e.collectionGroup,lg(e),e.filters,e.limit,e.startAt,e.endAt);else{let t=[];for(let n of lg(e)){let e="desc"===n.dir?"asc":"desc";t.push(new o1(n.field,e))}let n=e.endAt?new oJ(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new oJ(e.startAt.position,e.startAt.inclusive):null;e._t=la(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}return e._t}function lv(e,t){t.getFirstInequalityField(),lp(e);let n=e.filters.concat([t]);return new lc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function lb(e,t,n){return new lc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function lw(e,t){return ll(ly(e),ly(t))&&e.limitType===t.limitType}function lx(e){return`${lo(ly(e))}|lt:${e.limitType}`}function lE(e){var t;let n;return`Query(target=${n=(t=ly(e)).path.canonicalString(),null!==t.collectionGroup&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(e=>(function e(t){return t instanceof o4?`${t.field.canonicalString()} ${t.op} ${oz(t.value)}`:t instanceof o3?t.op.toString()+" {"+t.getFilters().map(e).join(" ,")+"}":"Filter"})(e)).join(", ")}]`),null==t.limit||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(e=>`${e.field.canonicalString()} (${e.dir})`).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(e=>oz(e)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(e=>oz(e)).join(",")),`Target(${n})`}; limitType=${e.limitType})`}function lk(e,t){return t.isFoundDocument()&&function(e,t){let n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):oo.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(let n of lg(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(let n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&(!e.startAt||!!function(e,t,n){let r=oZ(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,lg(e),t))&&(!e.endAt||!!function(e,t,n){let r=oZ(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,lg(e),t))}function lS(e){return(t,n)=>{let r=!1;for(let i of lg(e)){let e=function(e,t,n){let r=e.field.isKeyField()?oo.comparator(t.key,n.key):function(e,t,n){let r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?oU(r,i):aY()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return -1*r;default:return aY()}}(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}class l_{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){for(let[t,r]of n)if(this.equalsFn(t,e))return r}}has(e){return void 0!==this.get(e)}set(e,t){let n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){og(this.inner,(t,n)=>{for(let[t,r]of n)e(t,r)})}isEmpty(){return oy(this.inner)}size(){return this.innerSize}}const lT=new ov(oo.comparator),lI=new ov(oo.comparator);function lN(...e){let t=lI;for(let n of e)t=t.insert(n.key,n);return t}function lC(e){let t=lI;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function lA(){return new l_(e=>e.toString(),(e,t)=>e.isEqual(t))}const lD=new ov(oo.comparator),lR=new ox(oo.comparator);function lP(...e){let t=lR;for(let n of e)t=t.add(n);return t}const lO=new ox(a7);function lL(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:op(t)?"-0":t}}function lM(e){return{integerValue:""+e}}class lj{constructor(){this._=void 0}}function lF(e,t){return e instanceof lq?o$(t)||t&&"doubleValue"in t?t:{integerValue:0}:null}class lU extends lj{}class lV extends lj{constructor(e){super(),this.elements=e}}function lz(e,t){let n=lK(t);for(let t of e.elements)n.some(e=>oj(e,t))||n.push(t);return{arrayValue:{values:n}}}class lB extends lj{constructor(e){super(),this.elements=e}}function l$(e,t){let n=lK(t);for(let t of e.elements)n=n.filter(e=>!oj(e,t));return{arrayValue:{values:n}}}class lq extends lj{constructor(e,t){super(),this.serializer=e,this.gt=t}}function lH(e){return oN(e.integerValue||e.doubleValue)}function lK(e){return oq(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class lW{constructor(e,t){this.field=e,this.transform=t}}class lG{constructor(e,t){this.version=e,this.transformResults=t}}class lQ{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new lQ}static exists(e){return new lQ(void 0,e)}static updateTime(e){return new lQ(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lY(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class lX{}function lJ(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new l5(e.key,lQ.none()):new l1(e.key,e.data,lQ.none());{let n=e.data,r=oY.empty(),i=new ox(oa.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new l2(e.key,r,new ok(i.toArray()),lQ.none())}}function lZ(e,t,n,r){return e instanceof l1?function(e,t,n,r){if(!lY(e.precondition,t))return n;let i=e.value.clone(),s=l6(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof l2?function(e,t,n,r){if(!lY(e.precondition,t))return n;let i=l6(e.fieldTransforms,r,t),s=t.data;return(s.setAll(l4(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n)?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):lY(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}function l0(e,t){var n,r;return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,r=t.fieldTransforms,!!(void 0===n&&void 0===r||!(!n||!r)&&oe(n,r,(e,t)=>{var n,r;return e.field.isEqual(t.field)&&(n=e.transform,r=t.transform,n instanceof lV&&r instanceof lV||n instanceof lB&&r instanceof lB?oe(n.elements,r.elements,oj):n instanceof lq&&r instanceof lq?oj(n.gt,r.gt):n instanceof lU&&r instanceof lU)})))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class l1 extends lX{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class l2 extends lX{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function l4(e){let t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=e.data.field(n);t.set(n,r)}}),t}function l3(e,t,n){var r;let i=new Map;e.length===n.length||aY();for(let s=0;s<n.length;s++){let a=e[s],o=a.transform,l=t.data.field(a.field);i.set(a.field,(r=n[s],o instanceof lV?lz(o,l):o instanceof lB?l$(o,l):r))}return i}function l6(e,t,n){let r=new Map;for(let i of e){let e=i.transform,s=n.data.field(i.field);r.set(i.field,e instanceof lU?function(e,t){let n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&oA(t)&&(t=oD(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(t,s):e instanceof lV?lz(e,s):e instanceof lB?l$(e,s):function(e,t){let n=lF(e,t),r=lH(n)+lH(e.gt);return o$(n)&&o$(e.gt)?lM(r):lL(e.serializer,r)}(e,s))}return r}class l5 extends lX{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class l8 extends lX{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class l9{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){let n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){let r=this.mutations[t];r.key.isEqual(e.key)&&function(e,t,n){e instanceof l1?function(e,t,n){let r=e.value.clone(),i=l3(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof l2?function(e,t,n){if(!lY(e.precondition,t))return t.convertToUnknownDocument(n.version);let r=l3(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(l4(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):t.convertToNoDocument(n.version).setHasCommittedMutations()}(r,e,n[t])}}applyToLocalView(e,t){for(let n of this.baseMutations)n.key.isEqual(e.key)&&(t=lZ(n,e,t,this.localWriteTime));for(let n of this.mutations)n.key.isEqual(e.key)&&(t=lZ(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let n=lA();return this.mutations.forEach(r=>{let i=e.get(r.key),s=i.overlayedDocument,a=this.applyToLocalView(s,i.mutatedFields),o=lJ(s,a=t.has(r.key)?null:a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(on.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),lP())}isEqual(e){return this.batchId===e.batchId&&oe(this.mutations,e.mutations,(e,t)=>l0(e,t))&&oe(this.baseMutations,e.baseMutations,(e,t)=>l0(e,t))}}class l7{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){e.mutations.length===n.length||aY();let r=lD,i=e.mutations;for(let e=0;e<i.length;e++)r=r.insert(i[e].key,n[e].version);return new l7(e,t,n,r)}}class ue{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class ut{constructor(e,t){this.count=e,this.unchangedNames=t}}function un(e){if(void 0===e)return aW("GRPC error has no .code"),aX.UNKNOWN;switch(e){case u.OK:return aX.OK;case u.CANCELLED:return aX.CANCELLED;case u.UNKNOWN:return aX.UNKNOWN;case u.DEADLINE_EXCEEDED:return aX.DEADLINE_EXCEEDED;case u.RESOURCE_EXHAUSTED:return aX.RESOURCE_EXHAUSTED;case u.INTERNAL:return aX.INTERNAL;case u.UNAVAILABLE:return aX.UNAVAILABLE;case u.UNAUTHENTICATED:return aX.UNAUTHENTICATED;case u.INVALID_ARGUMENT:return aX.INVALID_ARGUMENT;case u.NOT_FOUND:return aX.NOT_FOUND;case u.ALREADY_EXISTS:return aX.ALREADY_EXISTS;case u.PERMISSION_DENIED:return aX.PERMISSION_DENIED;case u.FAILED_PRECONDITION:return aX.FAILED_PRECONDITION;case u.ABORTED:return aX.ABORTED;case u.OUT_OF_RANGE:return aX.OUT_OF_RANGE;case u.UNIMPLEMENTED:return aX.UNIMPLEMENTED;case u.DATA_LOSS:return aX.DATA_LOSS;default:return aY()}}(c=u||(u={}))[c.OK=0]="OK",c[c.CANCELLED=1]="CANCELLED",c[c.UNKNOWN=2]="UNKNOWN",c[c.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",c[c.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",c[c.NOT_FOUND=5]="NOT_FOUND",c[c.ALREADY_EXISTS=6]="ALREADY_EXISTS",c[c.PERMISSION_DENIED=7]="PERMISSION_DENIED",c[c.UNAUTHENTICATED=16]="UNAUTHENTICATED",c[c.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",c[c.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",c[c.ABORTED=10]="ABORTED",c[c.OUT_OF_RANGE=11]="OUT_OF_RANGE",c[c.UNIMPLEMENTED=12]="UNIMPLEMENTED",c[c.INTERNAL=13]="INTERNAL",c[c.UNAVAILABLE=14]="UNAVAILABLE",c[c.DATA_LOSS=15]="DATA_LOSS";class ur{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return ui}static getOrCreateInstance(){return null===ui&&(ui=new ur),ui}onExistenceFilterMismatch(e){let t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let ui=null;const us=new aV([0xffffffff,0xffffffff],0);function ua(e){let t=(new TextEncoder).encode(e),n=new aU;return n.update(t),new Uint8Array(n.digest())}function uo(e){let t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new aV([n,r],0),new aV([i,s],0)]}class ul{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new uu(`Invalid padding: ${t}`);if(n<0||e.length>0&&0===this.hashCount)throw new uu(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new uu(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=aV.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(aV.fromNumber(n)));return 1===r.compare(us)&&(r=new aV([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;let[t,n]=uo(ua(e));for(let e=0;e<this.hashCount;e++){let r=this.Et(t,n,e);if(!this.At(r))return!1}return!0}static create(e,t,n){let r=new ul(new Uint8Array(Math.ceil(e/8)),e%8==0?0:8-e%8,t);return n.forEach(e=>r.insert(e)),r}insert(e){if(0===this.It)return;let[t,n]=uo(ua(e));for(let e=0;e<this.hashCount;e++){let r=this.Et(t,n,e);this.Rt(r)}}Rt(e){let t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class uu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class uc{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){let r=new Map;return r.set(e,uh.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new uc(on.min(),r,new ov(a7),lT,lP())}}class uh{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new uh(n,t,lP(),lP(),lP())}}class ud{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class uf{constructor(e,t){this.targetId=e,this.Vt=t}}class up{constructor(e,t,n=o_.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class um{constructor(){this.St=0,this.Dt=uv(),this.Ct=o_.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=lP(),t=lP(),n=lP();return this.Dt.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:aY()}}),new uh(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=uv()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class ug{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=lT,this.zt=uy(),this.Wt=new ov(a7)}Ht(e){for(let t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(let t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{let n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:aY()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((e,n)=>{this.te(n)&&t(n)})}ne(e){var t;let n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){let s=i.target;if(lu(s))if(0===r){let e=new oo(s.path);this.Yt(n,e,oX.newNoDocument(e,on.min()))}else 1===r||aY();else{let i=this.ie(n);if(i!==r){let r=this.re(e,i);0!==r&&(this.ee(n),this.Wt=this.Wt.insert(n,2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null==(t=ur.instance)||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,s,a,o,l;let u={localCacheCount:t,existenceFilterCount:n.count},c=n.unchangedNames;return c&&(u.bloomFilter={applied:0===e,hashCount:null!=(r=null==c?void 0:c.hashCount)?r:0,bitmapLength:null!=(a=null==(s=null==(i=null==c?void 0:c.bits)?void 0:i.bitmap)?void 0:s.length)?a:0,padding:null!=(l=null==(o=null==c?void 0:c.bits)?void 0:o.padding)?l:0}),u}(r,i,e.Vt))}}}}re(e,t){let n,r,{unchangedNames:i,count:s}=e.Vt;if(!i||!i.bits)return 1;let{bits:{bitmap:a="",padding:o=0},hashCount:l=0}=i;try{n=oC(a).toUint8Array()}catch(e){if(e instanceof oS)return aG("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{r=new ul(n,o,l)}catch(e){return aG(e instanceof uu?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===r.It?1:2*(s!==t-this.oe(e.targetId,r))}oe(e,t){let n=this.Gt.getRemoteKeysForTarget(e),r=0;return n.forEach(n=>{let i=this.Gt.ue(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;t.vt(s)||(this.Yt(e,n,null),r++)}),r}ce(e){let t=new Map;this.Qt.forEach((n,r)=>{let i=this.se(r);if(i){if(n.current&&lu(i.target)){let t=new oo(i.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,oX.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}});let n=lP();this.zt.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{let t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.jt.forEach((t,n)=>n.setReadTime(e));let r=new uc(e,t,this.Wt,this.jt,n);return this.jt=lT,this.zt=uy(),this.Wt=new ov(a7),r}Jt(e,t){if(!this.te(e))return;let n=2*!!this.ae(e,t.key);this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;let r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){let t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new um,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new ox(a7),this.zt=this.zt.insert(e,t)),t}te(e){let t=null!==this.se(e);return t||aK("WatchChangeAggregator","Detected inactive target",e),t}se(e){let t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new um),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function uy(){return new ov(oo.comparator)}function uv(){return new ov(oo.comparator)}const ub={asc:"ASCENDING",desc:"DESCENDING"},uw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ux={and:"AND",or:"OR"};class uE{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function uk(e,t){return e.useProto3Json||null==t?t:{value:t}}function uS(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function u_(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function uT(e){return e||aY(),on.fromTimestamp(function(e){let t=oI(e);return new ot(t.seconds,t.nanos)}(e))}function uI(e,t){return new oi(["projects",e.projectId,"databases",e.database]).child("documents").child(t).canonicalString()}function uN(e){let t=oi.fromString(e);return uj(t)||aY(),t}function uC(e,t){return uI(e.databaseId,t.path)}function uA(e,t){let n=uN(t);if(n.get(1)!==e.databaseId.projectId)throw new aJ(aX.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new aJ(aX.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new oo(uP(n))}function uD(e,t){return uI(e.databaseId,t)}function uR(e){return new oi(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function uP(e){return e.length>4&&"documents"===e.get(4)||aY(),e.popFirst(5)}function uO(e,t,n){return{name:uC(e,t),fields:n.value.mapValue.fields}}function uL(e){return{fieldPath:e.canonicalString()}}function uM(e){return oa.fromServerFormat(e.fieldPath)}function uj(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class uF{constructor(e,t,n,r,i=on.min(),s=on.min(),a=o_.EMPTY_BYTE_STRING,o=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new uF(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new uF(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new uF(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new uF(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class uU{constructor(e){this.fe=e}}class uV{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(+!!e.booleanValue);else if("integerValue"in e)this.ye(t,15),t.pe(oN(e.integerValue));else if("doubleValue"in e){let n=oN(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),op(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){let n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie(`${n.seconds||""}`),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(oC(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){let n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?oQ(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):aY()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){let n=e.fields||{};for(let e of(this.ye(t,55),Object.keys(n)))this.Te(e,t),this.me(n[e],t)}Pe(e,t){let n=e.values||[];for(let e of(this.ye(t,50),n))this.me(e,t)}ve(e,t){this.ye(t,37),oo.fromName(e).path.forEach(e=>{this.ye(t,60),this.be(e,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}uV.Ve=new uV;class uz{constructor(){this.rn=new uB}addToCollectionParentIndex(e,t){return this.rn.add(t),oh.resolve()}getCollectionParents(e,t){return oh.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return oh.resolve()}deleteFieldIndex(e,t){return oh.resolve()}getDocumentsMatchingTarget(e,t){return oh.resolve(null)}getIndexType(e,t){return oh.resolve(0)}getFieldIndexes(e,t){return oh.resolve([])}getNextCollectionGroupToUpdate(e){return oh.resolve(null)}getMinOffset(e,t){return oh.resolve(ol.min())}getMinOffsetFromCollectionGroup(e,t){return oh.resolve(ol.min())}updateCollectionGroup(e,t,n){return oh.resolve()}updateIndexEntries(e,t){return oh.resolve()}}class uB{constructor(){this.index={}}add(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ox(oi.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ox(oi.comparator)).toArray()}}new Uint8Array(0);class u${constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new u$(e,u$.DEFAULT_COLLECTION_PERCENTILE,u$.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}u$.DEFAULT_COLLECTION_PERCENTILE=10,u$.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,u$.DEFAULT=new u$(0x2800000,u$.DEFAULT_COLLECTION_PERCENTILE,u$.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),u$.DISABLED=new u$(-1,0,0);class uq{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new uq(0)}static Mn(){return new uq(-1)}}class uH{constructor(){this.changes=new l_(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,oX.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let n=this.changes.get(t);return void 0!==n?oh.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class uK{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class uW{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&lZ(n.mutation,e,ok.empty(),ot.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,lP()).next(()=>t))}getLocalViewOfDocuments(e,t,n=lP()){let r=lA();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=lN();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){let n=lA();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,lP()))}populateOverlays(e,t,n){let r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=lT,s=lA(),a=lA();return t.forEach((e,t)=>{let a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof l2)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),lZ(a.mutation,t,a.mutation.getFieldMask(),ot.now())):s.set(t.key,ok.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new uK(t,null!=(n=s.get(e))?n:null))}),a))}recalculateAndSaveOverlays(e,t){let n=lA(),r=new ov((e,t)=>e-t),i=lP();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(let i of e)i.keys().forEach(e=>{let s=t.get(e);if(null===s)return;let a=n.get(e)||ok.empty();a=i.applyToLocalView(s,a),n.set(e,a);let o=(r.get(i.batchId)||lP()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{let s=[],a=r.getReverseIterator();for(;a.hasNext();){let r=a.getNext(),o=r.key,l=r.value,u=lA();l.forEach(e=>{if(!i.has(e)){let r=lJ(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,u))}return oh.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n){return oo.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):lm(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{let s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):oh.resolve(lA()),a=-1,o=i;return s.next(t=>oh.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?oh.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,lP())).next(e=>({batchId:a,changes:lC(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new oo(t)).next(e=>{let t=lN();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n){let r=t.collectionGroup,i=lN();return this.indexManager.getCollectionParents(e,r).next(s=>oh.forEach(s,s=>{let a=new lc(s.child(r),null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt);return this.getDocumentsMatchingCollectionQuery(e,a,n).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r))).next(e=>{r.forEach((t,n)=>{let r=n.getKey();null===e.get(r)&&(e=e.insert(r,oX.newInvalidDocument(r)))});let n=lN();return e.forEach((e,i)=>{let s=r.get(e);void 0!==s&&lZ(s.mutation,i,ok.empty(),ot.now()),lk(t,i)&&(n=n.insert(e,i))}),n})}}class uG{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return oh.resolve(this.cs.get(t))}saveBundleMetadata(e,t){return this.cs.set(t.id,{id:t.id,version:t.version,createTime:uT(t.createTime)}),oh.resolve()}getNamedQuery(e,t){return oh.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:t.name,query:function(e){let t=function(e){var t;let n,r=function(e){let t=uN(e);return 4===t.length?oi.emptyPath():uP(t)}(e.parent),i=e.structuredQuery,s=i.from?i.from.length:0,a=null;if(s>0){1===s||aY();let e=i.from[0];e.allDescendants?a=e.collectionId:r=r.child(e.collectionId)}let o=[];i.where&&(o=function(e){var t;let n=function e(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":let t=uM(e.unaryFilter.field);return o4.create(t,"==",{doubleValue:NaN});case"IS_NULL":let n=uM(e.unaryFilter.field);return o4.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let r=uM(e.unaryFilter.field);return o4.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let i=uM(e.unaryFilter.field);return o4.create(i,"!=",{nullValue:"NULL_VALUE"});default:return aY()}}(t):void 0!==t.fieldFilter?o4.create(uM(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return aY()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==t.compositeFilter?o3.create(t.compositeFilter.filters.map(t=>e(t)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return aY()}}(t.compositeFilter.op)):aY()}(e);return n instanceof o3&&o5(t=n)&&o6(t)?n.getFilters():[n]}(i.where));let l=[];i.orderBy&&(l=i.orderBy.map(e=>new o1(uM(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))));let u=null;i.limit&&(u=null==(n="object"==typeof(t=i.limit)?t.value:t)?null:n);let c=null;i.startAt&&(c=function(e){let t=!!e.before;return new oJ(e.values||[],t)}(i.startAt));let h=null;return i.endAt&&(h=function(e){let t=!e.before;return new oJ(e.values||[],t)}(i.endAt)),new lc(r,a,l,o,u,"F",c,h)}({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?lb(t,t.limit,"L"):t}(t.bundledQuery),readTime:uT(t.readTime)}),oh.resolve()}}class uQ{constructor(){this.overlays=new ov(oo.comparator),this.ls=new Map}getOverlay(e,t){return oh.resolve(this.overlays.get(t))}getOverlays(e,t){let n=lA();return oh.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.we(e,t,r)}),oh.resolve()}removeOverlaysForBatchId(e,t,n){let r=this.ls.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.ls.delete(n)),oh.resolve()}getOverlaysForCollection(e,t,n){let r=lA(),i=t.length+1,s=new oo(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return oh.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new ov((e,t)=>e-t),s=this.overlays.getIterator();for(;s.hasNext();){let e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=lA(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}let a=lA(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return oh.resolve(a)}we(e,t,n){let r=this.overlays.get(n.key);if(null!==r){let e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new ue(t,n));let i=this.ls.get(t);void 0===i&&(i=lP(),this.ls.set(t,i)),this.ls.set(t,i.add(n.key))}}class uY{constructor(){this.fs=new ox(uX.ds),this.ws=new ox(uX._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){let n=new uX(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.ys(new uX(e,t))}ps(e,t){e.forEach(e=>this.removeReference(e,t))}Is(e){let t=new oo(new oi([])),n=new uX(t,e),r=new uX(t,e+1),i=[];return this.ws.forEachInRange([n,r],e=>{this.ys(e),i.push(e.key)}),i}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){let t=new oo(new oi([])),n=new uX(t,e),r=new uX(t,e+1),i=lP();return this.ws.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){let t=new uX(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class uX{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return oo.comparator(e.key,t.key)||a7(e.As,t.As)}static _s(e,t){return a7(e.As,t.As)||oo.comparator(e.key,t.key)}}class uJ{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new ox(uX.ds)}checkEmpty(e){return oh.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){let i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new l9(i,t,n,r);for(let t of(this.mutationQueue.push(s),r))this.Rs=this.Rs.add(new uX(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return oh.resolve(s)}lookupMutationBatch(e,t){return oh.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){let n=this.bs(t+1),r=n<0?0:n;return oh.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return oh.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return oh.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let n=new uX(t,0),r=new uX(t,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],e=>{let t=this.Ps(e.As);i.push(t)}),oh.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ox(a7);return t.forEach(e=>{let t=new uX(e,0),r=new uX(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],e=>{n=n.add(e.As)})}),oh.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){let n=t.path,r=n.length+1,i=n;oo.isDocumentKey(i)||(i=i.child(""));let s=new uX(new oo(i),0),a=new ox(a7);return this.Rs.forEachWhile(e=>{let t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.As)),!0)},s),oh.resolve(this.Vs(a))}Vs(e){let t=[];return e.forEach(e=>{let n=this.Ps(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){0===this.Ss(t.batchId,"removed")||aY(),this.mutationQueue.shift();let n=this.Rs;return oh.forEach(t.mutations,r=>{let i=new uX(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=n})}Cn(e){}containsKey(e,t){let n=new uX(t,0),r=this.Rs.firstAfterOrEqual(n);return oh.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,oh.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){let t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class uZ{constructor(e){this.Ds=e,this.docs=new ov(oo.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let n=this.docs.get(t);return oh.resolve(n?n.document.mutableCopy():oX.newInvalidDocument(t))}getEntries(e,t){let n=lT;return t.forEach(e=>{let t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():oX.newInvalidDocument(e))}),oh.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=lT,s=t.path,a=new oo(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){let{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||0>=function(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n||0!==(n=oo.comparator(e.documentKey,t.documentKey))?n:a7(e.largestBatchId,t.largestBatchId)}(new ol(a.readTime,a.key,-1),n)||(r.has(a.key)||lk(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return oh.resolve(i)}getAllFromCollectionGroup(e,t,n,r){aY()}Cs(e,t){return oh.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new u0(this)}getSize(e){return oh.resolve(this.size)}}class u0 extends uH{constructor(e){super(),this.os=e}applyChanges(e){let t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)}),oh.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class u1{constructor(e){this.persistence=e,this.xs=new l_(e=>lo(e),ll),this.lastRemoteSnapshotVersion=on.min(),this.highestTargetId=0,this.Ns=0,this.ks=new uY,this.targetCount=0,this.Ms=uq.kn()}forEachTarget(e,t){return this.xs.forEach((e,n)=>t(n)),oh.resolve()}getLastRemoteSnapshotVersion(e){return oh.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oh.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),oh.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),oh.resolve()}Fn(e){this.xs.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.Ms=new uq(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,oh.resolve()}updateTargetData(e,t){return this.Fn(t),oh.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,oh.resolve()}removeTargets(e,t,n){let r=0,i=[];return this.xs.forEach((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.xs.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),oh.waitFor(i).next(()=>r)}getTargetCount(e){return oh.resolve(this.targetCount)}getTargetData(e,t){let n=this.xs.get(t)||null;return oh.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),oh.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);let r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),oh.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),oh.resolve()}getMatchingKeysForTargetId(e,t){let n=this.ks.Es(t);return oh.resolve(n)}containsKey(e,t){return oh.resolve(this.ks.containsKey(t))}}class u2{constructor(e,t){this.$s={},this.overlays={},this.Os=new of(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new u1(this),this.indexManager=new uz,this.remoteDocumentCache=new uZ(e=>this.referenceDelegate.Ls(e)),this.serializer=new uU(t),this.qs=new uG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new uQ,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new uJ(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){aK("MemoryPersistence","Starting transaction:",e);let r=new u4(this.Os.next());return this.referenceDelegate.Us(),n(r).next(e=>this.referenceDelegate.Ks(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Gs(e,t){return oh.or(Object.values(this.$s).map(n=>()=>n.containsKey(e,t)))}}class u4 extends ou{constructor(e){super(),this.currentSequenceNumber=e}}class u3{constructor(e){this.persistence=e,this.Qs=new uY,this.js=null}static zs(e){return new u3(e)}get Ws(){if(this.js)return this.js;throw aY()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),oh.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),oh.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),oh.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(e=>this.Ws.add(e.toString()));let n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Ws.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oh.forEach(this.Ws,n=>{let r=oo.fromPath(n);return this.Hs(e,r).next(e=>{e||t.removeEntry(r,on.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return oh.or([()=>oh.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class u6{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=lP(),r=lP();for(let e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new u6(e,t.fromCache,n,r)}}class u5{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next(i=>i||this.Gi(e,t,r,n)).next(n=>n||this.Qi(e,t))}Ki(e,t){if(ld(t))return oh.resolve(null);let n=ly(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(n=ly(t=lb(t,null,"F"))),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{let i=lP(...r);return this.Ui.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{let s=this.ji(t,r);return this.zi(t,s,i,n.readTime)?this.Ki(e,lb(t,null,"F")):this.Wi(e,s,t,n)}))})))}Gi(e,t,n,r){return ld(t)||r.isEqual(on.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next(i=>{let s=this.ji(t,i);return this.zi(t,s,n,r)?this.Qi(e,t):(aH()<=rc.DEBUG&&aK("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),lE(t)),this.Wi(e,s,t,function(e,t){let n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1;return new ol(on.fromTimestamp(1e9===r?new ot(n+1,0):new ot(n,r)),oo.empty(),-1)}(r,0)))})}ji(e,t){let n=new ox(lS(e));return t.forEach((t,r)=>{lk(e,r)&&(n=n.add(r))}),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;let i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,t){return aH()<=rc.DEBUG&&aK("QueryEngine","Using full collection scan to execute query:",lE(t)),this.Ui.getDocumentsMatchingQuery(e,t,ol.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class u8{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new ov(a7),this.Yi=new l_(e=>lo(e),ll),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uW(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}async function u9(e,t){return await e.persistence.runTransaction("Handle user change","readonly",n=>{let r;return e.mutationQueue.getAllMutationBatches(n).next(i=>(r=i,e.tr(t),e.mutationQueue.getAllMutationBatches(n))).next(t=>{let i=[],s=[],a=lP();for(let e of r)for(let t of(i.push(e.batchId),e.mutations))a=a.add(t.key);for(let e of t)for(let t of(s.push(e.batchId),e.mutations))a=a.add(t.key);return e.localDocuments.getDocuments(n,a).next(e=>({er:e,removedBatchIds:i,addedBatchIds:s}))})})}function u7(e){return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}async function ce(e,t,n){let r=e.Ji.get(t);try{n||await e.persistence.runTransaction("Release target",n?"readwrite":"readwrite-primary",t=>e.persistence.referenceDelegate.removeTarget(t,r))}catch(e){if(!od(e))throw e;aK("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}e.Ji=e.Ji.remove(t),e.Yi.delete(r.target)}function ct(e,t,n){let r=on.min(),i=lP();return e.persistence.runTransaction("Execute query","readonly",s=>(function(e,t,n){let r=e.Yi.get(n);return void 0!==r?oh.resolve(e.Ji.get(r)):e.Bs.getTargetData(t,n)})(e,s,ly(t)).next(t=>{if(t)return r=t.lastLimboFreeSnapshotVersion,e.Bs.getMatchingKeysForTargetId(s,t.targetId).next(e=>{i=e})}).next(()=>e.Hi.getDocumentsMatchingQuery(s,t,n?r:on.min(),n?i:lP())).next(n=>{var r,s,a;let o;return r=e,s=t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2)),a=n,o=r.Xi.get(s)||on.min(),a.forEach((e,t)=>{t.readTime.compareTo(o)>0&&(o=t.readTime)}),r.Xi.set(s,o),{documents:n,ir:i}}))}class cn{constructor(){this.activeTargetIds=lO}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){return JSON.stringify({activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()})}}class cr{constructor(){this.Hr=new cn,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new cn,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ci{Yr(e){}shutdown(){}}class cs{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){for(let e of(aK("ConnectivityMonitor","Network connectivity changed: AVAILABLE"),this.so))e(0)}no(){for(let e of(aK("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE"),this.so))e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ca=null;function co(){return null===ca?ca=0x10000000+Math.round(0x80000000*Math.random()):ca++,"0x"+ca.toString(16)}const cl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cu{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const cc="WebChannelConnection";class ch extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,i){let s=co(),a=this.To(e,t);aK("RestConnection",`Sending RPC '${e}' ${s}:`,a,n);let o={};return this.Eo(o,r,i),this.Ao(e,a,o,n).then(t=>(aK("RestConnection",`Received RPC '${e}' ${s}: `,t),t),t=>{throw aG("RestConnection",`RPC '${e}' ${s} failed with error: `,t,"url: ",a,"request:",n),t})}vo(e,t,n,r,i,s){return this.Io(e,t,n,r,i)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+a$,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}To(e,t){let n=cl[e];return`${this.mo}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){let i=co();return new Promise((s,a)=>{let o=new aF;o.setWithCredentials(!0),o.listenOnce(aP.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case aR.NO_ERROR:let t=o.getResponseJson();aK(cc,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case aR.TIMEOUT:aK(cc,`RPC '${e}' ${i} timed out`),a(new aJ(aX.DEADLINE_EXCEEDED,"Request time out"));break;case aR.HTTP_ERROR:let n=o.getStatus();if(aK(cc,`RPC '${e}' ${i} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);let t=null==e?void 0:e.error;if(t&&t.status&&t.message){let e=function(e){let t=e.toLowerCase().replace(/_/g,"-");return Object.values(aX).indexOf(t)>=0?t:aX.UNKNOWN}(t.status);a(new aJ(e,t.message))}else a(new aJ(aX.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new aJ(aX.UNAVAILABLE,"Connection failed."));break;default:aY()}}finally{aK(cc,`RPC '${e}' ${i} completed.`)}});let l=JSON.stringify(r);aK(cc,`RPC '${e}' ${i} sending request:`,r),o.send(t,"POST",l,n,15)})}Ro(e,t,n){let r=co(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=aA(),a=aD(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.xmlHttpFactory=new aM({})),this.Eo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;let c=i.join("");aK(cc,`Creating RPC '${e}' stream ${r}: ${c}`,o);let h=s.createWebChannel(c,o),d=!1,f=!1,p=new cu({ro:t=>{f?aK(cc,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(aK(cc,`Opening RPC '${e}' stream ${r} transport.`),h.open(),d=!0),aK(cc,`RPC '${e}' stream ${r} sending:`,t),h.send(t))},oo:()=>h.close()}),m=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return m(h,aj.EventType.OPEN,()=>{f||aK(cc,`RPC '${e}' stream ${r} transport opened.`)}),m(h,aj.EventType.CLOSE,()=>{f||(f=!0,aK(cc,`RPC '${e}' stream ${r} transport closed`),p.wo())}),m(h,aj.EventType.ERROR,t=>{f||(f=!0,aG(cc,`RPC '${e}' stream ${r} transport errored:`,t),p.wo(new aJ(aX.UNAVAILABLE,"The operation could not be completed")))}),m(h,aj.EventType.MESSAGE,t=>{var n;if(!f){let i=t.data[0];i||aY();let s=i.error||(null==(n=i[0])?void 0:n.error);if(s){aK(cc,`RPC '${e}' stream ${r} received error:`,s);let t=s.status,n=function(e){let t=u[e];if(void 0!==t)return un(t)}(t),i=s.message;void 0===n&&(n=aX.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),f=!0,p.wo(new aJ(n,i)),h.close()}else aK(cc,`RPC '${e}' stream ${r} received:`,i),p._o(i)}}),m(a,aO.STAT_EVENT,t=>{t.stat===aL.PROXY?aK(cc,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===aL.NOPROXY&&aK(cc,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function cd(){return"undefined"!=typeof document?document:null}function cf(e){return new uE(e,!0)}class cp{constructor(e,t,n=1e3,r=1.5,i=6e4){this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();let t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&aK("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class cm{constructor(e,t,n,r,i,s,a,o){this.ii=e,this.$o=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new cp(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===aX.RESOURCE_EXHAUSTED?(aW(t.toString()),aW("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===aX.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;let e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,n])=>{this.Fo===t&&this.Zo(e,n)},t=>{e(()=>{let e=new aJ(aX.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)})})}Zo(e,t){let n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{n(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(e=>{n(()=>this.tu(e))}),this.stream.onMessage(e=>{n(()=>this.onMessage(e))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return aK("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(aK("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cg extends cm{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();let t=function(e,t){let n;if("targetChange"in t){var r,i;t.targetChange;let s="NO_CHANGE"===(r=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:aY(),a=t.targetChange.targetIds||[],o=(i=t.targetChange.resumeToken,e.useProto3Json?(void 0===i||"string"==typeof i||aY(),o_.fromBase64String(i||"")):(void 0===i||i instanceof Uint8Array||aY(),o_.fromUint8Array(i||new Uint8Array))),l=t.targetChange.cause;n=new up(s,a,o,l&&new aJ(void 0===l.code?aX.UNKNOWN:un(l.code),l.message||"")||null)}else if("documentChange"in t){t.documentChange;let r=t.documentChange;r.document,r.document.name,r.document.updateTime;let i=uA(e,r.document.name),s=uT(r.document.updateTime),a=r.document.createTime?uT(r.document.createTime):on.min(),o=new oY({mapValue:{fields:r.document.fields}}),l=oX.newFoundDocument(i,s,a,o);n=new ud(r.targetIds||[],r.removedTargetIds||[],l.key,l)}else if("documentDelete"in t){t.documentDelete;let r=t.documentDelete;r.document;let i=uA(e,r.document),s=r.readTime?uT(r.readTime):on.min(),a=oX.newNoDocument(i,s);n=new ud([],r.removedTargetIds||[],a.key,a)}else if("documentRemove"in t){t.documentRemove;let r=t.documentRemove;r.document;let i=uA(e,r.document);n=new ud([],r.removedTargetIds||[],i,null)}else{if(!("filter"in t))return aY();{t.filter;let e=t.filter;e.targetId;let{count:r=0,unchangedNames:i}=e,s=new ut(r,i);n=new uf(e.targetId,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return on.min();let t=e.targetChange;return t.targetIds&&t.targetIds.length?on.min():t.readTime?uT(t.readTime):on.min()}(e);return this.listener.nu(t,n)}su(e){let t={};t.database=uR(this.serializer),t.addTarget=function(e,t){let n,r=t.target;if((n=lu(r)?{documents:{documents:[uD(e,r.path)]}}:{query:function(e,t){var n,r;let i={structuredQuery:{}},s=t.path;null!==t.collectionGroup?(i.parent=uD(e,s),i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i.parent=uD(e,s.popLast()),i.structuredQuery.from=[{collectionId:s.lastSegment()}]);let a=function(e){if(0!==e.length)return function e(t){return t instanceof o4?function(e){if("=="===e.op){if(oK(e.value))return{unaryFilter:{field:uL(e.field),op:"IS_NAN"}};if(oH(e.value))return{unaryFilter:{field:uL(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(oK(e.value))return{unaryFilter:{field:uL(e.field),op:"IS_NOT_NAN"}};if(oH(e.value))return{unaryFilter:{field:uL(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uL(e.field),op:uw[e.op],value:e.value}}}(t):t instanceof o3?function(t){let n=t.getFilters().map(t=>e(t));return 1===n.length?n[0]:{compositeFilter:{op:ux[t.op],filters:n}}}(t):aY()}(o3.create(e,"and"))}(t.filters);a&&(i.structuredQuery.where=a);let o=function(e){if(0!==e.length)return e.map(e=>({field:uL(e.field),direction:ub[e.dir]}))}(t.orderBy);o&&(i.structuredQuery.orderBy=o);let l=uk(e,t.limit);return null!==l&&(i.structuredQuery.limit=l),t.startAt&&(i.structuredQuery.startAt={before:(n=t.startAt).inclusive,values:n.position}),t.endAt&&(i.structuredQuery.endAt={before:!(r=t.endAt).inclusive,values:r.position}),i}(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=u_(e,t.resumeToken);let r=uk(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(on.min())>0){n.readTime=uS(e,t.snapshotVersion.toTimestamp());let r=uk(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);let n=function(e,t){let n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return aY()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){let t={};t.database=uR(this.serializer),t.removeTarget=e,this.Wo(t)}}class cy extends cm{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){var t,n;if(e.streamToken||aY(),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();let r=(t=e.writeResults,n=e.commitTime,t&&t.length>0?(void 0!==n||aY(),t.map(e=>{let t;return(t=e.updateTime?uT(e.updateTime):uT(n)).isEqual(on.min())&&(t=uT(n)),new lG(t,e.transformResults||[])})):[]),i=uT(e.commitTime);return this.listener.cu(i,r)}return e.writeResults&&0!==e.writeResults.length&&aY(),this.ru=!0,this.listener.au()}hu(){let e={};e.database=uR(this.serializer),this.Wo(e)}uu(e){let t={streamToken:this.lastStreamToken,writes:e.map(e=>(function(e,t){var n;let r;if(t instanceof l1)r={update:uO(e,t.key,t.value)};else if(t instanceof l5)r={delete:uC(e,t.key)};else if(t instanceof l2)r={update:uO(e,t.key,t.data),updateMask:function(e){let t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}(t.fieldMask)};else{if(!(t instanceof l8))return aY();r={verify:uC(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(e=>(function(e,t){let n=t.transform;if(n instanceof lU)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof lV)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof lB)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof lq)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw aY()})(0,e))),t.precondition.isNone||(r.currentDocument=void 0!==(n=t.precondition).updateTime?{updateTime:uS(e,n.updateTime.toTimestamp())}:void 0!==n.exists?{exists:n.exists}:aY()),r})(this.serializer,e))};this.Wo(t)}}class cv extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new aJ(aX.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,i])=>this.connection.Io(e,t,n,r,i)).catch(e=>{throw"FirebaseError"===e.name?(e.code===aX.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new aJ(aX.UNKNOWN,e.toString())})}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.vo(e,t,n,i,s,r)).catch(e=>{throw"FirebaseError"===e.name?(e.code===aX.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new aJ(aX.UNKNOWN,e.toString())})}terminate(){this.lu=!0}}class cb{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(aW(t),this.mu=!1):aK("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class cw{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr(e=>{n.enqueueAndForget(async()=>{cC(this)&&(aK("RemoteStore","Restarting streams for network reachability change."),await async function(e){e.vu.add(4),await cE(e),e.bu.set("Unknown"),e.vu.delete(4),await cx(e)}(this))})}),this.bu=new cb(n,r)}}async function cx(e){if(cC(e))for(let t of e.Ru)await t(!0)}async function cE(e){for(let t of e.Ru)await t(!1)}function ck(e,t){e.Au.has(t.targetId)||(e.Au.set(t.targetId,t),cN(e)?cI(e):cq(e).Ko()&&c_(e,t))}function cS(e,t){let n=cq(e);e.Au.delete(t),n.Ko()&&cT(e,t),0===e.Au.size&&(n.Ko()?n.jo():cC(e)&&e.bu.set("Unknown"))}function c_(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(on.min())>0){let n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}cq(e).su(t)}function cT(e,t){e.Vu.qt(t),cq(e).iu(t)}function cI(e){e.Vu=new ug({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),cq(e).start(),e.bu.gu()}function cN(e){return cC(e)&&!cq(e).Uo()&&e.Au.size>0}function cC(e){return 0===e.vu.size}async function cA(e){e.Au.forEach((t,n)=>{c_(e,t)})}async function cD(e,t){e.Vu=void 0,cN(e)?(e.bu.Iu(t),cI(e)):e.bu.set("Unknown")}async function cR(e,t,n){if(e.bu.set("Online"),t instanceof up&&2===t.state&&t.cause)try{await async function(e,t){let n=t.cause;for(let r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){aK("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await cP(e,n)}else if(t instanceof ud?e.Vu.Ht(t):t instanceof uf?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(on.min()))try{let t=await u7(e.localStore);n.compareTo(t)>=0&&await function(e,t){let n=e.Vu.ce(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){let i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{let r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(o_.EMPTY_BYTE_STRING,r.snapshotVersion)),cT(e,t);let i=new uF(r.target,t,n,r.sequenceNumber);c_(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){aK("RemoteStore","Failed to raise snapshot:",t),await cP(e,t)}}async function cP(e,t,n){if(!od(t))throw t;e.vu.add(1),await cE(e),e.bu.set("Offline"),n||(n=()=>u7(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{aK("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await cx(e)})}function cO(e,t){return t().catch(n=>cP(e,n,t))}async function cL(e){var t;let n=cH(e),r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;cC(t=e)&&t.Eu.length<10;)try{let t=await function(e,t){return e.persistence.runTransaction("Get next mutation batch","readonly",n=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}(e.localStore,r);if(null===t){0===e.Eu.length&&n.jo();break}r=t.batchId,function(e,t){e.Eu.push(t);let n=cH(e);n.Ko()&&n.ou&&n.uu(t.mutations)}(e,t)}catch(t){await cP(e,t)}cM(e)&&cj(e)}function cM(e){return cC(e)&&!cH(e).Uo()&&e.Eu.length>0}function cj(e){cH(e).start()}async function cF(e){cH(e).hu()}async function cU(e){let t=cH(e);for(let n of e.Eu)t.uu(n.mutations)}async function cV(e,t,n){let r=e.Eu.shift(),i=l7.from(r,t,n);await cO(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await cL(e)}async function cz(e,t){t&&cH(e).ou&&await async function(e,t){var n;if(function(e){switch(e){default:return aY();case aX.CANCELLED:case aX.UNKNOWN:case aX.DEADLINE_EXCEEDED:case aX.RESOURCE_EXHAUSTED:case aX.INTERNAL:case aX.UNAVAILABLE:case aX.UNAUTHENTICATED:return!1;case aX.INVALID_ARGUMENT:case aX.NOT_FOUND:case aX.ALREADY_EXISTS:case aX.PERMISSION_DENIED:case aX.FAILED_PRECONDITION:case aX.ABORTED:case aX.OUT_OF_RANGE:case aX.UNIMPLEMENTED:case aX.DATA_LOSS:return!0}}(n=t.code)&&n!==aX.ABORTED){let n=e.Eu.shift();cH(e).Qo(),await cO(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await cL(e)}}(e,t),cM(e)&&cj(e)}async function cB(e,t){e.asyncQueue.verifyOperationInProgress(),aK("RemoteStore","RemoteStore received new credentials");let n=cC(e);e.vu.add(3),await cE(e),n&&e.bu.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.vu.delete(3),await cx(e)}async function c$(e,t){t?(e.vu.delete(2),await cx(e)):t||(e.vu.add(2),await cE(e),e.bu.set("Unknown"))}function cq(e){var t,n,r;return e.Su||(t=e.datastore,n=e.asyncQueue,r={uo:cA.bind(null,e),ao:cD.bind(null,e),nu:cR.bind(null,e)},t.fu(),e.Su=new cg(n,t.connection,t.authCredentials,t.appCheckCredentials,t.serializer,r),e.Ru.push(async t=>{t?(e.Su.Qo(),cN(e)?cI(e):e.bu.set("Unknown")):(await e.Su.stop(),e.Vu=void 0)})),e.Su}function cH(e){var t,n,r;return e.Du||(t=e.datastore,n=e.asyncQueue,r={uo:cF.bind(null,e),ao:cz.bind(null,e),au:cU.bind(null,e),cu:cV.bind(null,e)},t.fu(),e.Du=new cy(n,t.connection,t.authCredentials,t.appCheckCredentials,t.serializer,r),e.Ru.push(async t=>{t?(e.Du.Qo(),await cL(e)):(await e.Du.stop(),e.Eu.length>0&&(aK("RemoteStore",`Stopping write stream with ${e.Eu.length} pending writes`),e.Eu=[]))})),e.Du}class cK{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new aZ,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,i){let s=new cK(e,t,Date.now()+n,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new aJ(aX.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cW(e,t){if(aW("AsyncQueue",`${t}: ${e}`),od(e))return new aJ(aX.UNAVAILABLE,`${t}: ${e}`);throw e}class cG{constructor(e){this.comparator=e?(t,n)=>e(t,n)||oo.comparator(t.key,n.key):(e,t)=>oo.comparator(e.key,t.key),this.keyedMap=lN(),this.sortedSet=new ov(this.comparator)}static emptySet(e){return new cG(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof cG)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){let e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){let n=new cG;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class cQ{constructor(){this.Cu=new ov(oo.comparator)}track(e){let t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):aY():this.Cu=this.Cu.insert(t,e)}xu(){let e=[];return this.Cu.inorderTraversal((t,n)=>{e.push(n)}),e}}class cY{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){let s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new cY(e,t,cG.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class cX{constructor(){this.Nu=void 0,this.listeners=[]}}class cJ{constructor(){this.queries=new l_(e=>lx(e),lw),this.onlineState="Unknown",this.ku=new Set}}async function cZ(e,t){let n=t.query,r=!1,i=e.queries.get(n);if(i||(r=!0,i=new cX),r)try{i.Nu=await e.onListen(n)}catch(n){let e=cW(n,`Initialization of query '${lE(t.query)}' failed`);return void t.onError(e)}e.queries.set(n,i),i.listeners.push(t),t.Mu(e.onlineState),i.Nu&&t.$u(i.Nu)&&c4(e)}async function c0(e,t){let n=t.query,r=!1,i=e.queries.get(n);if(i){let e=i.listeners.indexOf(t);e>=0&&(i.listeners.splice(e,1),r=0===i.listeners.length)}if(r)return e.queries.delete(n),e.onUnlisten(n)}function c1(e,t){let n=!1;for(let r of t){let t=r.query,i=e.queries.get(t);if(i){for(let e of i.listeners)e.$u(r)&&(n=!0);i.Nu=r}}n&&c4(e)}function c2(e,t,n){let r=e.queries.get(t);if(r)for(let e of r.listeners)e.onError(n);e.queries.delete(t)}function c4(e){e.ku.forEach(e=>{e.next()})}class c3{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){let t=[];for(let n of e.docChanges)3!==n.type&&t.push(n);e=new cY(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||"Offline"===t)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;let t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=cY.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class c6{constructor(e){this.key=e}}class c5{constructor(e){this.key=e}}class c8{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=lP(),this.mutatedKeys=lP(),this.tc=lS(e),this.ec=new cG(this.tc)}get nc(){return this.Yu}sc(e,t){let n=t?t.ic:new cQ,r=t?t.ec:this.ec,i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1,o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{let u=r.get(e),c=lk(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations),f=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),f=!0):this.rc(u,c)||(n.track({type:2,doc:c}),f=!0,(o&&this.tc(c,o)>0||l&&0>this.tc(c,l))&&(a=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(o||l)&&(a=!0)),f&&(c?(s=s.add(c),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){let e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ec:s,ic:n,zi:a,mutatedKeys:i}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){let r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;let i=e.ic.xu();i.sort((e,t)=>(function(e,t){let n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return aY()}};return n(e)-n(t)})(e.type,t.type)||this.tc(e.doc,t.doc)),this.oc(n);let s=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,o=a!==this.Xu;return(this.Xu=a,0!==i.length||o)?{snapshot:new cY(this.query,e.ec,r,i,e.mutatedKeys,0===a,o,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new cQ,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=e.current)}uc(){if(!this.current)return[];let e=this.Zu;this.Zu=lP(),this.ec.forEach(e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))});let t=[];return e.forEach(e=>{this.Zu.has(e)||t.push(new c5(e))}),this.Zu.forEach(n=>{e.has(n)||t.push(new c6(n))}),t}hc(e){this.Yu=e.ir,this.Zu=lP();let t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return cY.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class c9{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class c7{constructor(e){this.key=e,this.fc=!1}}class he{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new l_(e=>lx(e),lw),this._c=new Map,this.mc=new Set,this.gc=new ov(oo.comparator),this.yc=new Map,this.Ic=new uY,this.Tc={},this.Ec=new Map,this.Ac=uq.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function ht(e,t){var n,r,i;let s,a,o=((n=e).remoteStore.remoteSyncer.applyRemoteEvent=hs.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=hv.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=ho.bind(null,n),n.dc.nu=c1.bind(null,n.eventManager),n.dc.Pc=c2.bind(null,n.eventManager),n),l=o.wc.get(t);if(l)s=l.targetId,o.sharedClientState.addLocalQueryTarget(s),a=l.view.lc();else{let e=await (r=o.localStore,i=ly(t),r.persistence.runTransaction("Allocate target","readwrite",e=>{let t;return r.Bs.getTargetData(e,i).next(n=>n?(t=n,oh.resolve(t)):r.Bs.allocateTargetId(e).next(n=>(t=new uF(i,n,"TargetPurposeListen",e.currentSequenceNumber),r.Bs.addTargetData(e,t).next(()=>t))))}).then(e=>{let t=r.Ji.get(e.targetId);return(null===t||e.snapshotVersion.compareTo(t.snapshotVersion)>0)&&(r.Ji=r.Ji.insert(e.targetId,e),r.Yi.set(i,e.targetId)),e})),n=o.sharedClientState.addLocalQueryTarget(e.targetId);s=e.targetId,a=await hn(o,t,s,"current"===n,e.resumeToken),o.isPrimaryClient&&ck(o.remoteStore,e)}return a}async function hn(e,t,n,r,i){e.Rc=(t,n,r)=>(async function(e,t,n,r){let i=t.view.sc(n);i.zi&&(i=await ct(e.localStore,t.query,!1).then(({documents:e})=>t.view.sc(e,i)));let s=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s);return hp(e,t.targetId,a.cc),a.snapshot})(e,t,n,r);let s=await ct(e.localStore,t,!0),a=new c8(t,s.ir),o=a.sc(s.documents),l=uh.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=a.applyChanges(o,e.isPrimaryClient,l);hp(e,n,u.cc);let c=new c9(t,n,a);return e.wc.set(t,c),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),u.snapshot}async function hr(e,t){let n=e.wc.get(t),r=e._c.get(n.targetId);if(r.length>1)return e._c.set(n.targetId,r.filter(e=>!lw(e,t))),void e.wc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(n.targetId),e.sharedClientState.isActiveQueryTarget(n.targetId)||await ce(e.localStore,n.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(n.targetId),cS(e.remoteStore,n.targetId),hd(e,n.targetId)}).catch(oc)):(hd(e,n.targetId),await ce(e.localStore,n.targetId,!0))}async function hi(e,t,n){var r,i;let s=((r=e).remoteStore.remoteSyncer.applySuccessfulWrite=hl.bind(null,r),r.remoteStore.remoteSyncer.rejectFailedWrite=hu.bind(null,r),r);try{let e,r=await function(e,t){let n,r,i=ot.now(),s=t.reduce((e,t)=>e.add(t.key),lP());return e.persistence.runTransaction("Locally write mutations","readwrite",a=>{let o=lT,l=lP();return e.Zi.getEntries(a,s).next(e=>{(o=e).forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>e.localDocuments.getOverlayedDocuments(a,o)).next(r=>{n=r;let s=[];for(let e of t){let t=function(e,t){let n=null;for(let r of e.fieldTransforms){let e=t.data.field(r.field),i=lF(r.transform,e||null);null!=i&&(null===n&&(n=oY.empty()),n.set(r.field,i))}return n||null}(e,n.get(e.key).overlayedDocument);null!=t&&s.push(new l2(e.key,t,function e(t){let n=[];return og(t.fields,(t,r)=>{let i=new oa([t]);if(oW(r)){let t=e(r.mapValue).fields;if(0===t.length)n.push(i);else for(let e of t)n.push(i.child(e))}else n.push(i)}),new ok(n)}(t.value.mapValue),lQ.exists(!0)))}return e.mutationQueue.addMutationBatch(a,i,s,t)}).next(t=>{r=t;let i=t.applyToLocalDocumentSet(n,l);return e.documentOverlayCache.saveOverlays(a,t.batchId,i)})}).then(()=>({batchId:r.batchId,changes:lC(n)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(r.batchId),i=r.batchId,(e=s.Tc[s.currentUser.toKey()])||(e=new ov(a7)),e=e.insert(i,n),s.Tc[s.currentUser.toKey()]=e,await hg(s,r.changes),await cL(s.remoteStore)}catch(t){let e=cW(t,"Failed to persist write");n.reject(e)}}async function hs(e,t){try{let n=await function(e,t){let n=t.snapshotVersion,r=e.Ji;return e.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{var s,a,o;let l,u,c=e.Zi.newChangeBuffer({trackRemovals:!0});r=e.Ji;let h=[];t.targetChanges.forEach((s,a)=>{var o;let l=r.get(a);if(!l)return;h.push(e.Bs.removeMatchingKeys(i,s.removedDocuments,a).next(()=>e.Bs.addMatchingKeys(i,s.addedDocuments,a)));let u=l.withSequenceNumber(i.currentSequenceNumber);null!==t.targetMismatches.get(a)?u=u.withResumeToken(o_.EMPTY_BYTE_STRING,on.min()).withLastLimboFreeSnapshotVersion(on.min()):s.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(s.resumeToken,n)),r=r.insert(a,u),o=u,(0===l.resumeToken.approximateByteSize()||o.snapshotVersion.toMicroseconds()-l.snapshotVersion.toMicroseconds()>=3e8||s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size>0)&&h.push(e.Bs.updateTargetData(i,u))});let d=lT,f=lP();if(t.documentUpdates.forEach(n=>{t.resolvedLimboDocuments.has(n)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(i,n))}),h.push((s=i,a=c,o=t.documentUpdates,l=lP(),u=lP(),o.forEach(e=>l=l.add(e)),a.getEntries(s,l).next(e=>{let t=lT;return o.forEach((n,r)=>{let i=e.get(n);r.isFoundDocument()!==i.isFoundDocument()&&(u=u.add(n)),r.isNoDocument()&&r.version.isEqual(on.min())?(a.removeEntry(n,r.readTime),t=t.insert(n,r)):!i.isValidDocument()||r.version.compareTo(i.version)>0||0===r.version.compareTo(i.version)&&i.hasPendingWrites?(a.addEntry(r),t=t.insert(n,r)):aK("LocalStore","Ignoring outdated watch update for ",n,". Current version:",i.version," Watch version:",r.version)}),{nr:t,sr:u}})).next(e=>{d=e.nr,f=e.sr})),!n.isEqual(on.min())){let t=e.Bs.getLastRemoteSnapshotVersion(i).next(t=>e.Bs.setTargetsMetadata(i,i.currentSequenceNumber,n));h.push(t)}return oh.waitFor(h).next(()=>c.apply(i)).next(()=>e.localDocuments.getLocalViewOfDocuments(i,d,f)).next(()=>d)}).then(t=>(e.Ji=r,t))}(e.localStore,t);t.targetChanges.forEach((t,n)=>{let r=e.yc.get(n);r&&(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1||aY(),t.addedDocuments.size>0?r.fc=!0:t.modifiedDocuments.size>0?r.fc||aY():t.removedDocuments.size>0&&(r.fc||aY(),r.fc=!1))}),await hg(e,n,t)}catch(e){await oc(e)}}function ha(e,t,n){var r;if(e.isPrimaryClient&&0===n||!e.isPrimaryClient&&1===n){let n,i=[];e.wc.forEach((e,n)=>{let r=n.view.Mu(t);r.snapshot&&i.push(r.snapshot)}),(r=e.eventManager).onlineState=t,n=!1,r.queries.forEach((e,r)=>{for(let e of r.listeners)e.Mu(t)&&(n=!0)}),n&&c4(r),i.length&&e.dc.nu(i),e.onlineState=t,e.isPrimaryClient&&e.sharedClientState.setOnlineState(t)}}async function ho(e,t,n){e.sharedClientState.updateQueryState(t,"rejected",n);let r=e.yc.get(t),i=r&&r.key;if(i){let n=new ov(oo.comparator);n=n.insert(i,oX.newNoDocument(i,on.min()));let r=lP().add(i),s=new uc(on.min(),new Map,new ov(a7),n,r);await hs(e,s),e.gc=e.gc.remove(i),e.yc.delete(t),hm(e)}else await ce(e.localStore,t,!1).then(()=>hd(e,t,n)).catch(oc)}async function hl(e,t){var n;let r=t.batch.batchId;try{let i=await (n=e.localStore,n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{let r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return(function(e,t,n,r){let i=n.batch,s=i.keys(),a=oh.resolve();return s.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{let s=n.docVersions.get(e);null!==s||aY(),0>t.version.compareTo(s)&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))})(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=lP();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))}));hh(e,r,null),hc(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await hg(e,i)}catch(e){await oc(e)}}async function hu(e,t,n){var r;try{let i=await (r=e.localStore,r.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let n;return r.mutationQueue.lookupMutationBatch(e,t).next(t=>(null!==t||aY(),n=t.keys(),r.mutationQueue.removeMutationBatch(e,t))).next(()=>r.mutationQueue.performConsistencyCheck(e)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(e,n,t)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,n)).next(()=>r.localDocuments.getDocuments(e,n))}));hh(e,t,n),hc(e,t),e.sharedClientState.updateMutationState(t,"rejected",n),await hg(e,i)}catch(e){await oc(e)}}function hc(e,t){(e.Ec.get(t)||[]).forEach(e=>{e.resolve()}),e.Ec.delete(t)}function hh(e,t,n){let r=e.Tc[e.currentUser.toKey()];if(r){let i=r.get(t);i&&(n?i.reject(n):i.resolve(),r=r.remove(t)),e.Tc[e.currentUser.toKey()]=r}}function hd(e,t,n=null){for(let r of(e.sharedClientState.removeLocalQueryTarget(t),e._c.get(t)))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach(t=>{e.Ic.containsKey(t)||hf(e,t)})}function hf(e,t){e.mc.delete(t.path.canonicalString());let n=e.gc.get(t);null!==n&&(cS(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),hm(e))}function hp(e,t,n){for(let r of n)r instanceof c6?(e.Ic.addReference(r.key,t),function(e,t){let n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(aK("SyncEngine","New document in limbo: "+n),e.mc.add(r),hm(e))}(e,r)):r instanceof c5?(aK("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||hf(e,r.key)):aY()}function hm(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){let t=e.mc.values().next().value;e.mc.delete(t);let n=new oo(oi.fromString(t)),r=e.Ac.next();e.yc.set(r,new c7(n)),e.gc=e.gc.insert(n,r),ck(e.remoteStore,new uF(ly(lh(n.path)),r,"TargetPurposeLimboResolution",of.ct))}}async function hg(e,t,n){let r=[],i=[],s=[];e.wc.isEmpty()||(e.wc.forEach((a,o)=>{s.push(e.Rc(o,t,n).then(t=>{if((t||n)&&e.isPrimaryClient&&e.sharedClientState.updateQueryState(o.targetId,(null==t?void 0:t.fromCache)?"not-current":"current"),t){r.push(t);let e=u6.Li(o.targetId,t);i.push(e)}}))}),await Promise.all(s),e.dc.nu(r),await async function(e,t){try{await e.persistence.runTransaction("notifyLocalViewChanges","readwrite",n=>oh.forEach(t,t=>oh.forEach(t.Fi,r=>e.persistence.referenceDelegate.addReference(n,t.targetId,r)).next(()=>oh.forEach(t.Bi,r=>e.persistence.referenceDelegate.removeReference(n,t.targetId,r)))))}catch(e){if(!od(e))throw e;aK("LocalStore","Failed to update sequence numbers: "+e)}for(let n of t){let t=n.targetId;if(!n.fromCache){let n=e.Ji.get(t),r=n.snapshotVersion,i=n.withLastLimboFreeSnapshotVersion(r);e.Ji=e.Ji.insert(t,i)}}}(e.localStore,i))}async function hy(e,t){if(!e.currentUser.isEqual(t)){aK("SyncEngine","User change. New user:",t.toKey());let n=await u9(e.localStore,t);e.currentUser=t,e.Ec.forEach(e=>{e.forEach(e=>{e.reject(new aJ(aX.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.Ec.clear(),e.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await hg(e,n.er)}}function hv(e,t){let n=e.yc.get(t);if(n&&n.fc)return lP().add(n.key);{let n=lP(),r=e._c.get(t);if(!r)return n;for(let t of r){let r=e.wc.get(t);n=n.unionWith(r.view.nc)}return n}}class hb{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=cf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){var t,n;return t=this.persistence,n=new u5,new u8(t,n,e.initialUser,this.serializer)}createPersistence(e){return new u2(u3.zs,this.serializer)}createSharedClientState(e){return new cr}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class hw{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>ha(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=hy.bind(null,this.syncEngine),await c$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new cJ}createDatastore(e){var t;let n=cf(e.databaseInfo.databaseId),r=new ch(e.databaseInfo);return t=e.authCredentials,new cv(t,e.appCheckCredentials,r,n)}createRemoteStore(e){var t,n;return t=this.localStore,n=this.datastore,new cw(t,n,e.asyncQueue,e=>ha(this.syncEngine,e,0),cs.D()?new cs:new ci)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){let o=new he(e,t,n,r,i,s);return a&&(o.vc=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){aK("RemoteStore","RemoteStore shutting down."),e.vu.add(5),await cE(e),e.Pu.shutdown(),e.bu.set("Unknown")}(this.remoteStore)}}class hx{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):aW("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class hE{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=aB.UNAUTHENTICATED,this.clientId=a9.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async e=>{aK("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(aK("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new aJ(aX.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new aZ;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let t=cW(n,"Failed to shutdown persistence");e.reject(t)}}),e.promise}}async function hk(e,t){e.asyncQueue.verifyOperationInProgress(),aK("FirestoreClient","Initializing OfflineComponentProvider");let n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await u9(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function hS(e,t){e.asyncQueue.verifyOperationInProgress();let n=await h_(e);aK("FirestoreClient","Initializing OnlineComponentProvider");let r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(e=>cB(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>cB(t.remoteStore,n)),e._onlineComponents=t}async function h_(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){aK("FirestoreClient","Using user provided OfflineComponentProvider");try{await hk(e,e._uninitializedComponentsProvider._offline)}catch(t){if(!("FirebaseError"===t.name?t.code===aX.FAILED_PRECONDITION||t.code===aX.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code))throw t;aG("Error using user provided cache. Falling back to memory cache: "+t),await hk(e,new hb)}}else aK("FirestoreClient","Using default OfflineComponentProvider"),await hk(e,new hb);return e._offlineComponents}async function hT(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(aK("FirestoreClient","Using user provided OnlineComponentProvider"),await hS(e,e._uninitializedComponentsProvider._online)):(aK("FirestoreClient","Using default OnlineComponentProvider"),await hS(e,new hw))),e._onlineComponents}async function hI(e){let t=await hT(e),n=t.eventManager;return n.onListen=ht.bind(null,t.syncEngine),n.onUnlisten=hr.bind(null,t.syncEngine),n}function hN(e){let t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const hC=new Map;function hA(e,t,n){if(!n)throw new aJ(aX.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function hD(e){if(!oo.isDocumentKey(e))throw new aJ(aX.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function hR(e){if(oo.isDocumentKey(e))throw new aJ(aX.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function hP(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{var t;let n=(t=e).constructor?t.constructor.name:null;return n?`a custom ${n} object`:"an object"}}return"function"==typeof e?"a function":aY()}function hO(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new aJ(aX.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=hP(e);throw new aJ(aX.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}class hL{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new aJ(aX.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null==(t=e.ssl)||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=0x2800000;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new aJ(aX.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new aJ(aX.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hN(null!=(n=e.experimentalLongPollingOptions)?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new aJ(aX.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new aJ(aX.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new aJ(aX.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){var t,n;return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hM{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hL({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new aJ(aX.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new aJ(aX.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hL(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new a1;switch(e.type){case"firstParty":return new a6(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new aJ(aX.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){let t=hC.get(e);t&&(aK("ComponentProvider","Removing Datastore"),hC.delete(e),t.terminate())}(this),Promise.resolve()}}class hj{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hU(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hj(this.firestore,e,this._key)}}class hF{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new hF(this.firestore,e,this._query)}}class hU extends hF{constructor(e,t,n){super(e,t,lh(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new hj(this.firestore,null,new oo(e))}withConverter(e){return new hU(this.firestore,e,this._path)}}function hV(e,t,...n){if(e=$(e),hA("collection","path",t),e instanceof hM){let r=oi.fromString(t,...n);return hR(r),new hU(e,null,r)}{if(!(e instanceof hj||e instanceof hU))throw new aJ(aX.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=e._path.child(oi.fromString(t,...n));return hR(r),new hU(e.firestore,null,r)}}function hz(e,t,...n){if(e=$(e),1==arguments.length&&(t=a9.A()),hA("doc","path",t),e instanceof hM){let r=oi.fromString(t,...n);return hD(r),new hj(e,null,new oo(r))}{if(!(e instanceof hj||e instanceof hU))throw new aJ(aX.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=e._path.child(oi.fromString(t,...n));return hD(r),new hj(e.firestore,e instanceof hU?e.converter:null,new oo(r))}}class hB{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new cp(this,"async_queue_retry"),this.Xc=()=>{let e=cd();e&&aK("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};let e=cd();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;let t=cd();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});let t=new aZ;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!od(e))throw e;aK("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){let t=this.Gc.then(()=>(this.Hc=!0,e().catch(e=>{let t;throw this.Wc=e,this.Hc=!1,aW("INTERNAL UNHANDLED ERROR: ",(t=e.message||"",e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t)),e}).then(e=>(this.Hc=!1,e))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);let r=cK.createAndSchedule(this,e,t,n,e=>this.na(e));return this.zc.push(r),r}Zc(){this.Wc&&aY()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(let t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{for(let t of(this.zc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs),this.zc))if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){let t=this.zc.indexOf(e);this.zc.splice(t,1)}}function h$(e){if("object"!=typeof e||null===e)return!1;for(let t of["next","error","complete"])if(t in e&&"function"==typeof e[t])return!0;return!1}class hq extends hM{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new hB,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||hK(this),this._firestoreClient.terminate()}}function hH(e){return e._firestoreClient||hK(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function hK(e){var t,n,r,i,s;let a=e._freezeSettings(),o=(i=e._databaseId,s=(null==(t=e._app)?void 0:t.options.appId)||"",new oP(i,s,e._persistenceKey,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,hN(a.experimentalLongPollingOptions),a.useFetchStreams));e._firestoreClient=new hE(e._authCredentials,e._appCheckCredentials,e._queue,o),(null==(n=a.cache)?void 0:n._offlineComponentProvider)&&(null==(r=a.cache)?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}class hW{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hW(o_.fromBase64String(e))}catch(e){throw new aJ(aX.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new hW(o_.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class hG{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new aJ(aX.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new oa(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class hQ{constructor(e){this._methodName=e}}class hY{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new aJ(aX.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new aJ(aX.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return a7(this._lat,e._lat)||a7(this._long,e._long)}}const hX=/^__.*__$/;class hJ{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new l2(e,this.data,this.fieldMask,t,this.fieldTransforms):new l1(e,this.data,t,this.fieldTransforms)}}class hZ{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new l2(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function h0(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw aY()}}class h1{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new h1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;let n=null==(t=this.path)?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;let n=null==(t=this.path)?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return di(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(h0(this.ca)&&hX.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class h2{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||cf(e)}ya(e,t,n,r=!1){return new h1({ca:e,methodName:t,ga:n,path:oa.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function h4(e){let t=e._freezeSettings(),n=cf(e._databaseId);return new h2(e._databaseId,!!t.ignoreUndefinedProperties,n)}function h3(e,t,n,r,i,s={}){let a,o,l=e.ya(s.merge||s.mergeFields?2:0,t,n,i);de("Data must be an object, but it was:",l,r);let u=h9(r,l);if(s.merge)a=new ok(l.fieldMask),o=l.fieldTransforms;else if(s.mergeFields){let e=[];for(let r of s.mergeFields){let i=dt(t,r,n);if(!l.contains(i))throw new aJ(aX.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);ds(e,i)||e.push(i)}a=new ok(e),o=l.fieldTransforms.filter(e=>a.covers(e.field))}else a=null,o=l.fieldTransforms;return new hJ(new oY(u),a,o)}class h6 extends hQ{_toFieldTransform(e){if(2!==e.ca)throw 1===e.ca?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof h6}}class h5 extends hQ{_toFieldTransform(e){return new lW(e.path,new lU)}isEqual(e){return e instanceof h5}}function h8(e,t){if(h7(e=$(e)))return de("Unsupported field value:",t,e),h9(e,t);if(e instanceof hQ)return function(e,t){if(!h0(t.ca))throw t._a(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t._a(`${e._methodName}() is not currently supported inside arrays`);let n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");let n=[],r=0;for(let i of e){let e=h8(i,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}return function(e,t){if(null===(e=$(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e){var n,r,i;return n=t.serializer,"number"==typeof(i=r=e)&&Number.isInteger(i)&&!op(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER?lM(r):lL(n,r)}if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){let n=ot.fromDate(e);return{timestampValue:uS(t.serializer,n)}}if(e instanceof ot){let n=new ot(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:uS(t.serializer,n)}}if(e instanceof hY)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof hW)return{bytesValue:u_(t.serializer,e._byteString)};if(e instanceof hj){let n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:uI(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a(`Unsupported field value: ${hP(e)}`)}(e,t)}function h9(e,t){let n={};return oy(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):og(e,(e,r)=>{let i=h8(r,t.ha(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function h7(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ot||e instanceof hY||e instanceof hW||e instanceof hj||e instanceof hQ)}function de(e,t,n){if(!h7(n)||"object"!=typeof n||null===n||Object.getPrototypeOf(n)!==Object.prototype&&null!==Object.getPrototypeOf(n)){let r=hP(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function dt(e,t,n){if((t=$(t))instanceof hG)return t._internalPath;if("string"==typeof t)return dr(e,t);throw di("Field path arguments must be of type string or ",e,!1,void 0,n)}const dn=RegExp("[~\\*/\\[\\]]");function dr(e,t,n){if(t.search(dn)>=0)throw di(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new hG(...t.split("."))._internalPath}catch(r){throw di(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function di(e,t,n,r,i){let s=r&&!r.isEmpty(),a=void 0!==i,o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new aJ(aX.INVALID_ARGUMENT,o+e+l)}function ds(e,t){return e.some(e=>e.isEqual(t))}class da{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new hj(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){let e=new dl(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(du("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class dl extends da{data(){return super.data()}}function du(e,t){return"string"==typeof t?dr(e,t):t instanceof hG?t._internalPath:t._delegate._internalPath}function dc(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new aJ(aX.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dh{}class dd extends dh{}function df(e,t,...n){let r=[];for(let i of(t instanceof dh&&r.push(t),function(e){let t=e.filter(e=>e instanceof dg).length,n=e.filter(e=>e instanceof dp).length;if(t>1||t>0&&n>0)throw new aJ(aX.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r=r.concat(n)),r))e=i._apply(e);return e}class dp extends dd{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new dp(e,t,n)}_apply(e){let t=this._parse(e);return db(e._query,t),new hF(e.firestore,e.converter,lv(e._query,t))}_parse(e){let t=h4(e.firestore);return function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new aJ(aX.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){dv(a,s);let t=[];for(let n of a)t.push(dy(r,e,n));o={arrayValue:{values:t}}}else o=dy(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||dv(a,s),o=function(e,t,n,r=!1){return h8(n,e.ya(r?4:3,t))}(n,t,a,"in"===s||"not-in"===s);return o4.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function dm(e,t,n){let r=du("where",e);return dp._create(r,t,n)}class dg extends dh{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new dg(e,t)}_parse(e){let t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:o3.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;for(let e of t.getFlattenedFilters())db(n,e),n=lv(n,e)}(e._query,t),new hF(e.firestore,e.converter,lv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function dy(e,t,n){if("string"==typeof(n=$(n))){if(""===n)throw new aJ(aX.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lm(t)&&-1!==n.indexOf("/"))throw new aJ(aX.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=t.path.child(oi.fromString(n));if(!oo.isDocumentKey(r))throw new aJ(aX.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return oB(e,new oo(r))}if(n instanceof hj)return oB(e,n._key);throw new aJ(aX.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hP(n)}.`)}function dv(e,t){if(!Array.isArray(e)||0===e.length)throw new aJ(aX.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function db(e,t){if(t.isInequality()){let n=lp(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new aJ(aX.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${r.toString()}'`);let i=lf(e);null!==i&&function(e,t,n){if(!n.isEqual(t))throw new aJ(aX.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}(0,r,i)}let n=function(e,t){for(let n of e)for(let e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new aJ(aX.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new aJ(aX.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class dw{convertValue(e,t="none"){switch(oM(e)){case 0:return null;case 1:return e.booleanValue;case 2:return oN(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(oC(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw aY()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let n={};return og(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new hY(oN(e.latitude),oN(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":let n=oD(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(oR(e));default:return null}}convertTimestamp(e){let t=oI(e);return new ot(t.seconds,t.nanos)}convertDocumentKey(e,t){let n=oi.fromString(e);uj(n)||aY();let r=new oO(n.get(1),n.get(3)),i=new oo(n.popFirst(5));return r.isEqual(t)||aW(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function dx(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}class dE{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dk extends da{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new dS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let n=this._document.data.field(du("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class dS extends dk{data(e={}){return super.data(e)}}class d_{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new dE(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new dS(this._firestore,this._userDataWriter,n.key,n,new dE(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new aJ(aX.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{let r=new dS(e._firestore,e._userDataWriter,n.doc.key,n.doc,new dE(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{let r=new dS(e._firestore,e._userDataWriter,t.doc.key,t.doc,new dE(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(s=(n=n.add(t.doc)).indexOf(t.doc.key)),{type:function(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return aY()}}(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}class dT extends dw{constructor(e){super(),this.firestore=e}convertBytes(e){return new hW(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new hj(this.firestore,null,t)}}function dI(e){e=hO(e,hF);let t=hO(e.firestore,hq),n=hH(t),r=new dT(t);return dc(e._query),(function(e,t,n={}){let r=new aZ;return e.asyncQueue.enqueueAndForget(async()=>(function(e,t,n,r,i){let s=new c3(n,new hx({next:n=>{t.enqueueAndForget(()=>c0(e,s)),n.fromCache&&"server"===r.source?i.reject(new aJ(aX.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),{includeMetadataChanges:!0,Ku:!0});return cZ(e,s)})(await hI(e),e.asyncQueue,t,n,r)),r.promise})(n,e._query).then(n=>new d_(t,r,e,n))}function dN(e,t,n){e=hO(e,hj);let r=hO(e.firestore,hq),i=dx(e.converter,t,n);return dP(r,[h3(h4(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,lQ.none())])}function dC(e,t,n,...r){e=hO(e,hj);let i=hO(e.firestore,hq),s=h4(i);return dP(i,[("string"==typeof(t=$(t))||t instanceof hG?function(e,t,n,r,i,s){let a=e.ya(1,t,n),o=[dt(t,r,n)],l=[i];if(s.length%2!=0)throw new aJ(aX.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<s.length;e+=2)o.push(dt(t,s[e])),l.push(s[e+1]);let u=[],c=oY.empty();for(let e=o.length-1;e>=0;--e)if(!ds(u,o[e])){let t=o[e],n=l[e];n=$(n);let r=a.da(t);if(n instanceof h6)u.push(t);else{let e=h8(n,r);null!=e&&(u.push(t),c.set(t,e))}}return new hZ(c,new ok(u),a.fieldTransforms)}(s,"updateDoc",e._key,t,n,r):function(e,t,n,r){let i=e.ya(1,t,n);de("Data must be an object, but it was:",i,r);let s=[],a=oY.empty();return og(r,(e,r)=>{let o=dr(t,e,n);r=$(r);let l=i.da(o);if(r instanceof h6)s.push(o);else{let e=h8(r,l);null!=e&&(s.push(o),a.set(o,e))}}),new hZ(a,new ok(s),i.fieldTransforms)}(s,"updateDoc",e._key,t)).toMutation(e._key,lQ.exists(!0))])}function dA(e){return dP(hO(e.firestore,hq),[new l5(e._key,lQ.none())])}function dD(e,t){let n=hO(e.firestore,hq),r=hz(e),i=dx(e.converter,t);return dP(n,[h3(h4(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,lQ.exists(!1))]).then(()=>r)}function dR(e,...t){let n,r,i;e=$(e);let s={includeMetadataChanges:!1},a=0;"object"!=typeof t[0]||h$(t[a])||(s=t[a],a++);let o={includeMetadataChanges:s.includeMetadataChanges};if(h$(t[a])){let e=t[a];t[a]=null==(l=e.next)?void 0:l.bind(e),t[a+1]=null==(u=e.error)?void 0:u.bind(e),t[a+2]=null==(c=e.complete)?void 0:c.bind(e)}if(e instanceof hj)r=hO(e.firestore,hq),i=lh(e._key.path),n={next:n=>{t[a]&&t[a](dO(r,e,n))},error:t[a+1],complete:t[a+2]};else{let s=hO(e,hF);r=hO(s.firestore,hq),i=s._query;let o=new dT(r);n={next:e=>{t[a]&&t[a](new d_(r,o,s,e))},error:t[a+1],complete:t[a+2]},dc(e._query)}var l,u,c,h=hH(r),d=i;let f=new hx(n),p=new c3(d,f,o);return h.asyncQueue.enqueueAndForget(async()=>cZ(await hI(h),p)),()=>{f.Dc(),h.asyncQueue.enqueueAndForget(async()=>c0(await hI(h),p))}}function dP(e,t){var n=hH(e);let r=new aZ;return n.asyncQueue.enqueueAndForget(async()=>hi(await hT(n).then(e=>e.syncEngine),t,r)),r.promise}function dO(e,t,n){let r=n.docs.get(t._key),i=new dT(e);return new dk(e,i,t._key,r,new dE(n.hasPendingWrites,n.fromCache),t.converter)}function dL(){return new h5("serverTimestamp")}!function(e,t=!0){a$=eS,ew(new q("firestore",(e,{instanceIdentifier:n,options:r})=>{let i=e.getProvider("app").getImmediate(),s=new hq(new a4(e.getProvider("auth-internal")),new a8(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new aJ(aX.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oO(e.options.projectId,t)}(i,n),i);return r=Object.assign({useFetchStreams:t},r),s._setSettings(r),s},"PUBLIC").setMultipleInstances(!0)),eN(az,"3.13.0",void 0),eN(az,"3.13.0","esm2017")}();let dM,dj,dF,dU=!1;try{dM=0===eI().length?e_({apiKey:"AIzaSyA9A33X1VjW5VveGN2DBVJV7-8yjR77NyY",authDomain:"advanta-report.firebaseapp.com",projectId:"advanta-report",storageBucket:"advanta-report.appspot.com",messagingSenderId:"1049506934296",appId:"1:1049506934296:web:b4656d2be9456a1bc21d6d",measurementId:"G-ETGNNL41R5"}):eI()[0],dj=function(e=eT()){let t=ex(e,"auth");if(t.isInitialized())return t.getImmediate();let n=function(e,t){let n=ex(e,"auth");if(n.isInitialized()){let e=n.getImmediate();if(M(n.getOptions(),null!=t?t:{}))return e;eq(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:re,persistence:[nA,nf,np]}),r=A("authTokenSyncURL");if(r){let e=async e=>{let t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>ri)return;let i=null==t?void 0:t.token;rs!==i&&(rs=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};$(n).beforeAuthStateChanged(e,()=>e(n.currentUser)),$(n).onIdTokenChanged(t=>e(t),void 0,void 0)}let i=N("auth");return i&&function(e,t,n){let r=$(e);eW(r._canInitEmulator,r,"emulator-config-failed"),eW(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");let i=tV(t),{host:s,port:a}=function(e){let t=tV(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let e=i[1];return{host:e,port:tz(r.substr(e.length+1))}}{let[e,t]=r.split(":");return{host:e,port:tz(t)}}}(t),o=null===a?"":`:${a}`;r.config.emulator={url:`${i}//${s}${o}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:!1})}),function(){function e(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(n,`http://${i}`),n}(dM),dF=function(e,t){let n=ex("object"==typeof e?e:eT(),"firestore").getImmediate({identifier:"string"==typeof e?e:"(default)"});if(!n._initialized){let e=(e=>{let t=N(e);if(!t)return;let n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&function(e,t,n,r={}){var i;let s=(e=hO(e,hM))._getSettings(),a=`${t}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==a&&aG("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=aB.MOCK_USER;else{t=function(e,t){if(e.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[_(JSON.stringify({alg:"none",type:"JWT"})),_(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null==(i=e._app)?void 0:i.options.projectId);let s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new aJ(aX.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new aB(s)}e._authCredentials=new a2(new a0(t,n))}}(n,...e)}return n}(dM),dU=!0,console.log("Firebase initialized successfully.")}catch(e){console.error("Kesalahan Inisialisasi Firebase:",e)}const dV="advanta-report",dz=e=>new Promise((t,n)=>{let r=new FileReader;r.readAsDataURL(e),r.onload=e=>{let r=new Image;r.src=e.target.result,r.onload=()=>{let e=document.createElement("canvas"),n=800/r.width;e.width=800,e.height=r.height*n,e.getContext("2d").drawImage(r,0,0,e.width,e.height),t(e.toDataURL("image/jpeg",.7))},r.onerror=n},r.onerror=n}),dB=e=>{if(!e)return"-";let t=new Date(e),n=new Date;return t.setHours(0,0,0,0),n.setHours(0,0,0,0),Math.ceil(Math.abs(n-t)/864e5)},d$=(e,t)=>t&&0!==t?e>=t?100:Math.round(e/t*100):0,dq=({name:e,className:t=""})=>{let n={user:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),(0,g.jsx)("circle",{cx:"12",cy:"7",r:"4"})]}),users:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),(0,g.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,g.jsx)("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),(0,g.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),megaphone:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("path",{d:"m3 11 18-5v12L3 14v-3z"}),(0,g.jsx)("path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6"})]}),sun:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("circle",{cx:"12",cy:"12",r:"4"}),(0,g.jsx)("path",{d:"M12 2v2"}),(0,g.jsx)("path",{d:"M12 20v2"}),(0,g.jsx)("path",{d:"m4.93 4.93 1.41 1.41"}),(0,g.jsx)("path",{d:"m17.66 17.66 1.41 1.41"}),(0,g.jsx)("path",{d:"M2 12h2"}),(0,g.jsx)("path",{d:"M20 12h2"}),(0,g.jsx)("path",{d:"m6.34 17.66-1.41 1.41"}),(0,g.jsx)("path",{d:"m19.07 4.93-1.41 1.41"})]}),briefcase:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"}),(0,g.jsx)("path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"})]}),"log-out":(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),(0,g.jsx)("polyline",{points:"16 17 21 12 16 7"}),(0,g.jsx)("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"plus-circle":(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,g.jsx)("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),(0,g.jsx)("line",{x1:"8",y1:"12",x2:"16",y2:"12"})]}),"book-open":(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),(0,g.jsx)("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]}),calendar:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),(0,g.jsx)("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),(0,g.jsx)("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),(0,g.jsx)("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),"map-pin":(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),(0,g.jsx)("circle",{cx:"12",cy:"10",r:"3"})]}),target:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,g.jsx)("circle",{cx:"12",cy:"12",r:"6"}),(0,g.jsx)("circle",{cx:"12",cy:"12",r:"2"})]}),"bar-chart":(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("line",{x1:"12",y1:"20",x2:"12",y2:"10"}),(0,g.jsx)("line",{x1:"18",y1:"20",x2:"18",y2:"4"}),(0,g.jsx)("line",{x1:"6",y1:"20",x2:"6",y2:"16"})]}),edit:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,g.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),activity:(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("polyline",{points:"22 12 18 12 15 21 9 3 6 12 2 12"})}),history:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,g.jsx)("polyline",{points:"12 6 12 12 16 14"})]}),trash:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("polyline",{points:"3 6 5 6 21 6"}),(0,g.jsx)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]}),check:(0,g.jsx)("polyline",{points:"20 6 9 17 4 12"}),x:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,g.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),loader:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("line",{x1:"12",y1:"2",x2:"12",y2:"6"}),(0,g.jsx)("line",{x1:"12",y1:"18",x2:"12",y2:"22"}),(0,g.jsx)("line",{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"}),(0,g.jsx)("line",{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"}),(0,g.jsx)("line",{x1:"2",y1:"12",x2:"6",y2:"12"}),(0,g.jsx)("line",{x1:"18",y1:"12",x2:"22",y2:"12"}),(0,g.jsx)("line",{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"}),(0,g.jsx)("line",{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"})]}),inbox:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12"}),(0,g.jsx)("path",{d:"M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"})]})};return(0,g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:n[e]})},dH=()=>(0,g.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,g.jsx)(dq,{name:"loader",className:"animate-spin text-green-600 h-12 w-12"})}),dK=({children:e,onClose:t})=>(0,g.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50 p-4",onClick:t,children:(0,g.jsx)("div",{className:"relative",onClick:e=>e.stopPropagation(),children:e})}),dW=({onConfirm:e,onCancel:t,message:n})=>(0,g.jsx)(dK,{onClose:t,children:(0,g.jsxs)("div",{className:"bg-white p-8 rounded-lg text-center max-w-sm shadow-xl",children:[(0,g.jsx)("p",{className:"mb-6",children:n}),(0,g.jsxs)("div",{className:"flex gap-4",children:[(0,g.jsx)("button",{onClick:t,className:"w-full bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:"Batal"}),(0,g.jsx)("button",{onClick:e,className:"w-full bg-red-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-700 transition-colors",children:"Hapus"})]})]})});function dG({navigateTo:e,onLogin:t,setErrorMessage:n,errorMessage:r}){let[i,s]=(0,y.useState)(""),[a,o]=(0,y.useState)(""),[l,u]=(0,y.useState)(!1),c=async e=>{e.preventDefault(),n(""),u(!0);try{await t(i.trim(),a)}catch(e){n("Email atau password salah.")}finally{u(!1)}};return(0,g.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-4",children:(0,g.jsxs)("div",{className:"w-full max-w-md bg-white rounded-xl shadow-2xl p-8",children:[(0,g.jsxs)("div",{className:"text-center mb-8",children:[(0,g.jsx)("img",{src:"https://www.advanta.com/assets/images/logo-dark.png",alt:"Advanta Logo",className:"mx-auto h-12 mb-4"}),(0,g.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Laporan Demplot"}),(0,g.jsx)("p",{className:"text-gray-500",children:"Silakan masuk untuk melanjutkan"})]}),(0,g.jsxs)("form",{onSubmit:c,children:[r&&(0,g.jsx)("p",{className:"bg-red-100 text-red-700 p-3 rounded-lg mb-4 text-center",children:r}),(0,g.jsxs)("div",{className:"mb-4",children:[(0,g.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email",children:"Email"}),(0,g.jsx)("input",{id:"email",type:"email",value:i,onChange:e=>s(e.target.value),className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),(0,g.jsxs)("div",{className:"mb-6",children:[(0,g.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"password",children:"Password"}),(0,g.jsx)("input",{id:"password",type:"password",value:a,onChange:e=>o(e.target.value),className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),(0,g.jsxs)("button",{type:"submit",disabled:l,className:"w-full bg-green-700 text-white font-bold py-3 px-4 rounded-lg hover:bg-green-800 disabled:bg-green-400 flex items-center justify-center transition-colors",children:[l&&(0,g.jsx)(dq,{name:"loader",className:"animate-spin mr-2"})," Masuk"]})]}),(0,g.jsxs)("p",{className:"text-center text-gray-500 text-sm mt-6",children:["Belum punya akun? ",(0,g.jsx)("button",{onClick:()=>e("register"),className:"font-bold text-green-600 hover:text-green-700 hover:underline",children:"Daftar di sini"})]})]})})}function dQ({navigateTo:e,onRegister:t,setErrorMessage:n,errorMessage:r}){let[i,s]=(0,y.useState)(""),[a,o]=(0,y.useState)(""),[l,u]=(0,y.useState)(""),[c,h]=(0,y.useState)(""),[d,f]=(0,y.useState)("BS"),[p,m]=(0,y.useState)(null),[v,b]=(0,y.useState)(!1),w=async e=>{if(e.preventDefault(),a.length<6)return void n("Password harus minimal 6 karakter.");n(""),b(!0);try{await t(i.trim(),a,l,c,d,p)}catch(e){n(e.message)}finally{b(!1)}};return(0,g.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-4",children:(0,g.jsxs)("div",{className:"w-full max-w-md bg-white rounded-xl shadow-2xl p-8",children:[(0,g.jsx)("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-8",children:"Buat Akun Baru"}),(0,g.jsxs)("form",{onSubmit:w,className:"space-y-4",children:[r&&(0,g.jsx)("div",{className:"bg-red-100 text-red-700 p-3 rounded-lg text-sm text-center",children:r}),(0,g.jsx)("input",{type:"text",placeholder:"Nama Lengkap",value:l,onChange:e=>u(e.target.value),className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0}),(0,g.jsx)("input",{type:"text",placeholder:"Area Kerja",value:c,onChange:e=>h(e.target.value),className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0}),(0,g.jsx)("input",{type:"email",placeholder:"Email",value:i,onChange:e=>s(e.target.value),className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0}),(0,g.jsx)("input",{type:"password",placeholder:"Password (min. 6 karakter)",value:a,onChange:e=>o(e.target.value),className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0}),(0,g.jsxs)("select",{value:d,onChange:e=>f(e.target.value),className:"w-full px-4 py-3 border rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-green-500",required:!0,children:[(0,g.jsx)("option",{value:"BS",children:"BS (Business Solutions)"}),(0,g.jsx)("option",{value:"Agronomis",children:"Agronomis"})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"photo",children:"Foto Profil (Opsional)"}),(0,g.jsx)("input",{id:"photo",type:"file",accept:"image/*",onChange:e=>m(e.target.files[0]),className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:bg-green-50 file:text-green-700 hover:file:bg-green-100"})]}),(0,g.jsxs)("button",{type:"submit",disabled:v,className:"w-full bg-green-700 text-white font-bold py-3 px-4 rounded-lg hover:bg-green-800 disabled:bg-green-400 flex items-center justify-center transition-colors",children:[v&&(0,g.jsx)(dq,{name:"loader",className:"animate-spin mr-2"})," Daftar"]})]}),(0,g.jsxs)("p",{className:"text-center text-gray-500 text-sm mt-6",children:["Sudah punya akun? ",(0,g.jsx)("button",{onClick:()=>e("login"),className:"font-bold text-green-600 hover:text-green-700 hover:underline",children:"Masuk"})]})]})})}function dY({userProfile:e,navigateTo:t,setAppModalMessage:n}){let[r,i]=(0,y.useState)(e.name),[s,a]=(0,y.useState)(e.workArea),[o,l]=(0,y.useState)(null),[u,c]=(0,y.useState)(!1),h=async i=>{i.preventDefault(),c(!0);try{let i={name:r,workArea:s};o&&(i.photoURL=await dz(o));let a=hz(dF,`artifacts/${dV}/users/${e.uid}`);if(await dC(a,i),"BS"===e.role){let t=hz(dF,`artifacts/${dV}/public/data/bs_users`,e.uid);await dN(t,{name:r,workArea:s},{merge:!0})}n("Profil berhasil diperbarui!"),t("dashboard")}catch(e){console.error("Gagal memperbarui profil:",e),n("Gagal memperbarui profil.")}finally{c(!1)}};return(0,g.jsx)("div",{className:"p-4 md:p-8 max-w-2xl mx-auto",children:(0,g.jsxs)("div",{className:"bg-white p-8 rounded-xl shadow-lg",children:[(0,g.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Edit Profil"}),(0,g.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[(0,g.jsx)("input",{type:"text",placeholder:"Nama Lengkap",value:r,onChange:e=>i(e.target.value),className:"w-full px-3 py-2 border rounded-lg",required:!0}),(0,g.jsx)("input",{type:"text",placeholder:"Area Kerja",value:s,onChange:e=>a(e.target.value),className:"w-full px-3 py-2 border rounded-lg",required:!0}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Ganti Foto Profil (Opsional)"}),(0,g.jsx)("input",{type:"file",accept:"image/*",onChange:e=>l(e.target.files[0]),className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:bg-green-50 file:text-green-700 hover:file:bg-green-100"})]}),(0,g.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,g.jsx)("button",{type:"button",onClick:()=>t("dashboard"),className:"w-full bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:"Batal"}),(0,g.jsxs)("button",{type:"submit",disabled:u,className:"w-full bg-green-700 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-800 disabled:bg-green-400 flex items-center justify-center",children:[u&&(0,g.jsx)(dq,{name:"loader",className:"animate-spin mr-2"})," Simpan"]})]})]})]})})}function dX({userProfile:e,setAppModalMessage:t}){let[n,r]=(0,y.useState)(""),[i,s]=(0,y.useState)(""),[a,o]=(0,y.useState)(""),[l,u]=(0,y.useState)(""),[c,h]=(0,y.useState)(null),[d,f]=(0,y.useState)(""),[p,m]=(0,y.useState)(!1),v=async p=>{if(p.preventDefault(),!c)return void t("Harap unggah foto.");if(!n)return void t("Harap pilih varietas.");m(!0);try{let p=await dz(c);await dD(hV(dF,`artifacts/${dV}/public/data/demplots`),{type:"DEMPLOT",creatorId:e.uid,creatorName:e.name,varietas:n,tanggalTanam:i,lokasi:a,keterangan:l,photoURL:p,pemilikLahan:d,createdAt:dL()}),t("Laporan Demplot berhasil dikirim!"),r(""),s(""),o(""),u(""),h(null),f(""),document.getElementById("demplot-photo-upload")&&(document.getElementById("demplot-photo-upload").value="")}catch(e){t("Gagal mengirim laporan.")}finally{m(!1)}};return(0,g.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,g.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Laporan Demplot"}),(0,g.jsxs)("form",{onSubmit:v,className:"space-y-4",children:[(0,g.jsx)("input",{type:"text",placeholder:"Nama Pemilik Lahan",value:d,onChange:e=>f(e.target.value),className:"w-full px-3 py-2 border rounded-lg",required:!0}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"text-sm text-gray-600",children:"Varietas"}),(0,g.jsxs)("select",{value:n,onChange:e=>r(e.target.value),className:"w-full px-3 py-2 border rounded-lg bg-white",required:!0,children:[(0,g.jsx)("option",{value:"",disabled:!0,children:"-- Pilih Varietas --"}),["Madu 59 F1","Anara 81 F1","Reva F1","Lilac F1","Nona 23 F1","Beijing F1","Deby 23 F1","Gogor F1","Lavanta F1","Herra 22"].map(e=>(0,g.jsx)("option",{value:e,children:e},e))]})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"text-sm text-gray-600",children:"Tanggal Tanam"}),(0,g.jsx)("input",{type:"date",value:i,onChange:e=>s(e.target.value),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),(0,g.jsx)("input",{type:"text",placeholder:"Lokasi (Desa, Kecamatan, Kabupaten)",value:a,onChange:e=>o(e.target.value),className:"w-full px-3 py-2 border rounded-lg",required:!0}),(0,g.jsx)("textarea",{placeholder:"Keterangan (opsional)",value:l,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 border rounded-lg h-24"}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Unggah Foto"}),(0,g.jsx)("input",{id:"demplot-photo-upload",type:"file",accept:"image/*",onChange:e=>h(e.target.files[0]),className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:bg-green-50 file:text-green-700 hover:file:bg-green-100",required:!0})]}),(0,g.jsxs)("button",{type:"submit",disabled:p,className:"w-full bg-green-700 text-white font-bold py-3 px-4 rounded-lg hover:bg-green-800 disabled:bg-green-400 flex items-center justify-center text-base",children:[p&&(0,g.jsx)(dq,{name:"loader",className:"animate-spin mr-2"})," Kirim Laporan"]})]})]})}function dJ({userProfile:e,setAppModalMessage:t}){let[n,r]=(0,y.useState)(null),[i,s]=(0,y.useState)(new Date().toISOString().slice(0,10)),[a,o]=(0,y.useState)(""),[l,u]=(0,y.useState)(""),[c,h]=(0,y.useState)(null),[d,f]=(0,y.useState)(!1),p=[{id:"FM",label:"FM",icon:"users"},{id:"ODP",label:"ODP (One Day Promo)",icon:"megaphone"},{id:"STUDY BANDING",label:"Study Banding / FT",icon:"book-open"},{id:"FFD",label:"FFD",icon:"sun"}],m=(0,y.useCallback)(()=>{s(new Date().toISOString().slice(0,10)),o(""),u(""),h(null),document.getElementById("kegiatan-photo-upload")&&(document.getElementById("kegiatan-photo-upload").value="")},[]),v=()=>{r(null)},b=async r=>{if(r.preventDefault(),n&&c){f(!0);try{let r=await dz(c);await dD(hV(dF,`artifacts/${dV}/public/data/activities`),{type:"KEGIATAN",creatorId:e.uid,creatorName:e.name,tanggalKegiatan:i,kegiatan:n,lokasi:a,keterangan:l,photoURL:r,status:"pending",createdAt:dL()}),t("Laporan Kegiatan berhasil dikirim!"),v()}catch(e){console.error("Gagal mengirim laporan kegiatan:",e),t("Gagal mengirim laporan.")}finally{f(!1)}}};if(!n)return(0,g.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,g.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4 text-center",children:"Pilih Jenis Laporan Kegiatan"}),(0,g.jsx)("div",{className:"grid grid-cols-2 gap-4",children:p.map(e=>(0,g.jsxs)("button",{type:"button",onClick:()=>{r(e.id),m()},className:"p-4 border-2 rounded-lg flex flex-col items-center justify-center text-center transition-all duration-200 h-32 bg-white border-gray-200 hover:border-green-500 hover:bg-green-50 hover:shadow-lg text-blue-900",children:[(0,g.jsx)(dq,{name:e.icon,className:"h-10 w-10 mb-2"}),(0,g.jsx)("span",{className:"font-semibold text-sm",children:e.label})]},e.id))})]});let w=p.find(e=>e.id===n);return(0,g.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,g.jsxs)("div",{className:"flex items-center gap-3 mb-4 border-b pb-3",children:[(0,g.jsx)(dq,{name:w.icon,className:"h-8 w-8 text-green-700"}),(0,g.jsxs)("h3",{className:"text-xl font-bold text-gray-800",children:["Laporan ",w.label]})]}),(0,g.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"text-sm text-gray-600",children:"Tanggal Kegiatan"}),(0,g.jsx)("input",{type:"date",value:i,onChange:e=>s(e.target.value),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),(0,g.jsx)("input",{type:"text",placeholder:"Lokasi",value:a,onChange:e=>o(e.target.value),className:"w-full px-3 py-2 border rounded-lg",required:!0}),(0,g.jsx)("textarea",{placeholder:"Keterangan",value:l,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 border rounded-lg h-24"}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Unggah Foto"}),(0,g.jsx)("input",{id:"kegiatan-photo-upload",type:"file",accept:"image/*",onChange:e=>h(e.target.files[0]),className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:bg-green-50 file:text-green-700 hover:file:bg-green-100",required:!0})]}),(0,g.jsxs)("div",{className:"flex gap-4 pt-2",children:[(0,g.jsx)("button",{type:"button",onClick:v,className:"w-full bg-gray-200 text-gray-800 font-bold py-3 rounded-lg hover:bg-gray-300",children:"Kembali"}),(0,g.jsxs)("button",{type:"submit",disabled:d,className:"w-full bg-green-700 text-white font-bold py-3 rounded-lg hover:bg-green-800 disabled:bg-green-400 flex items-center justify-center text-base",children:[d&&(0,g.jsx)(dq,{name:"loader",className:"animate-spin mr-2"})," Kirim"]})]})]})]})}function dZ({setAppModalMessage:e}){let[t,n]=(0,y.useState)([]),[r,i]=(0,y.useState)(!0),[s,a]=(0,y.useState)(null),[o,l]=(0,y.useState)(""),[u,c]=(0,y.useState)(`${new Date().getFullYear()}-${String(new Date().getMonth()+1).padStart(2,"0")}`),[h,d]=(0,y.useState)(3),[f,p]=(0,y.useState)(1),[m,v]=(0,y.useState)(2),[b,w]=(0,y.useState)(1),[x,E]=(0,y.useState)(!1);(0,y.useEffect)(()=>{i(!0),a(null);let e=dR(df(hV(dF,`artifacts/${dV}/public/data/bs_users`)),e=>{if(e.empty)a("Tidak ada pengguna BS yang ditemukan.");else{let t=e.docs.map(e=>({id:e.id,...e.data()}));t.sort((e,t)=>e.name.localeCompare(t.name)),n(t)}i(!1)},e=>{console.error("Gagal mengambil data BS:",e),a("Gagal mengambil daftar BS."),i(!1)});return()=>e()},[]);let k=async n=>{if(n.preventDefault(),!o)return void e("Silakan pilih BS terlebih dahulu.");E(!0);try{let n=`${o}-${u}`,r=t.find(e=>e.id===o)?.name||"Nama Tidak Diketahui";await dN(hz(dF,`artifacts/${dV}/public/data/targets`,n),{userId:o,name:r,month:u,fm:Number(h),odp:Number(f),study:Number(m),ffd:Number(b)}),e(`Target untuk ${r} (${u}) berhasil disimpan.`)}catch(t){console.error("Error saving target:",t),e("Gagal menyimpan target.")}finally{E(!1)}};return(0,g.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,g.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Set Target Bulanan BS"}),(0,g.jsxs)("form",{onSubmit:k,className:"space-y-4",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Pilih BS"}),(0,g.jsxs)("select",{value:o,onChange:e=>l(e.target.value),className:"w-full px-3 py-2 border rounded-lg bg-white",required:!0,disabled:r||!!s,children:[(0,g.jsx)("option",{value:"",disabled:!0,children:r?"Memuat daftar BS...":s||"-- Pilih Nama BS --"}),!r&&!s&&t.map(e=>(0,g.jsxs)("option",{value:e.id,children:[e.name," (",e.workArea,")"]},e.id))]}),s&&(0,g.jsx)("p",{className:"text-red-500 text-xs mt-1",children:s})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Pilih Bulan & Tahun"}),(0,g.jsx)("input",{type:"month",value:u,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Target FM"}),(0,g.jsx)("input",{type:"number",value:h,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Target ODP"}),(0,g.jsx)("input",{type:"number",value:f,onChange:e=>p(e.target.value),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Target STUDY BANDING/FT"}),(0,g.jsx)("input",{type:"number",value:m,onChange:e=>v(e.target.value),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Target FFD (per 3 bulan)"}),(0,g.jsx)("input",{type:"number",value:b,onChange:e=>w(e.target.value),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),(0,g.jsxs)("button",{type:"submit",disabled:x||r||!!s,className:"w-full bg-green-700 text-white font-bold py-2 rounded-lg hover:bg-green-800 disabled:bg-green-400 flex items-center justify-center",children:[x&&(0,g.jsx)(dq,{name:"loader",className:"animate-spin mr-2"})," Simpan Target"]})]})]})}function d0({userProfile:e,onLogout:t,setAppModalMessage:n,navigateTo:r,openImageModal:i}){let[s,a]=(0,y.useState)("kegiatan");return(0,g.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,g.jsxs)("header",{className:"bg-blue-900 shadow-lg p-4 flex justify-between items-center text-white",children:[(0,g.jsxs)("div",{className:"flex items-center gap-3",children:[(0,g.jsx)("img",{src:e.photoURL||`https://placehold.co/40x40/EBF4EC/1a202c?text=${e.name.charAt(0)}`,alt:"Profile",className:"h-10 w-10 rounded-full object-cover border-2 border-green-400"}),(0,g.jsxs)("div",{children:[(0,g.jsx)("h1",{className:"text-xl font-bold",children:e.name}),(0,g.jsx)("p",{className:"text-sm text-blue-200",children:e.workArea})]})]}),(0,g.jsxs)("button",{onClick:t,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 text-sm flex items-center gap-2 transition-colors",children:[(0,g.jsx)(dq,{name:"log-out",className:"h-4 w-4"}),"Keluar"]})]}),(0,g.jsxs)("main",{className:"p-4 md:p-6",children:[(0,g.jsx)("div",{className:"mb-6 border-b border-gray-200",children:(0,g.jsx)("nav",{className:"flex space-x-1 sm:space-x-4 overflow-x-auto pb-2",children:[{id:"kegiatan",label:"Lap. Kegiatan",icon:"activity"},{id:"demplot",label:"Lap. Demplot",icon:"plus-circle"},{id:"rekap_demplot",label:"Rekap Demplot",icon:"book-open"},{id:"target",label:"Target Saya",icon:"target"},{id:"riwayat",label:"Riwayat",icon:"history"},{id:"edit-profile",label:"Edit Profil",icon:"edit",action:()=>r("edit-profile")}].map(e=>(0,g.jsxs)("button",{onClick:()=>e.action?e.action():a(e.id),className:`py-2 px-3 sm:px-4 font-semibold whitespace-nowrap ${s===e.id?"text-green-600 border-b-2 border-green-600":"text-gray-500 hover:text-green-700"}`,children:[(0,g.jsx)(dq,{name:e.icon,className:"inline-block h-5 w-5 mr-1"}),e.label]},e.id))})}),(0,g.jsxs)("div",{className:"max-w-2xl mx-auto",children:["kegiatan"===s&&(0,g.jsxs)("div",{className:"space-y-8",children:[(0,g.jsx)(dJ,{userProfile:e,setAppModalMessage:n}),(0,g.jsx)(d6,{userId:e.uid})]}),"demplot"===s&&(0,g.jsx)(dX,{userProfile:e,setAppModalMessage:n}),"rekap_demplot"===s&&(0,g.jsx)(d3,{userId:e.uid}),"target"===s&&(0,g.jsx)(d5,{userId:e.uid}),"riwayat"===s&&(0,g.jsx)(d8,{userId:e.uid,openImageModal:i,setAppModalMessage:n})]})]})]})}function d1({userProfile:e,onLogout:t,setAppModalMessage:n,navigateTo:r,openImageModal:i}){let[s,a]=(0,y.useState)("demplot"),[o,l]=(0,y.useState)("detail"),[u,c]=(0,y.useState)(null),h=e=>{c(e)},d=async()=>{if(u)try{await dA(hz(dF,`artifacts/${dV}/public/data/demplots`,u)),n("Laporan Demplot berhasil dihapus.")}catch(e){console.error("Error deleting demplot:",e),n("Gagal menghapus laporan demplot.")}finally{c(null)}};return(0,g.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,g.jsxs)("header",{className:"bg-blue-900 shadow-lg p-4 flex justify-between items-center text-white",children:[(0,g.jsxs)("div",{className:"flex items-center gap-3",children:[(0,g.jsx)("img",{src:e.photoURL||`https://placehold.co/40x40/EBF4EC/1a202c?text=${e.name.charAt(0)}`,alt:"Profile",className:"h-10 w-10 rounded-full object-cover border-2 border-green-400"}),(0,g.jsxs)("div",{children:[(0,g.jsx)("h1",{className:"text-xl font-bold",children:e.name}),(0,g.jsx)("p",{className:"text-sm text-blue-200",children:e.workArea})]})]}),(0,g.jsxs)("button",{onClick:t,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 text-sm flex items-center gap-2 transition-colors",children:[(0,g.jsx)(dq,{name:"log-out",className:"h-4 w-4"}),"Keluar"]})]}),(0,g.jsxs)("main",{className:"p-4 md:p-6",children:[(0,g.jsx)("div",{className:"mb-6 border-b border-gray-200",children:(0,g.jsx)("nav",{className:"flex space-x-1 sm:space-x-4 overflow-x-auto pb-2",children:[{id:"demplot",label:"Rekap Demplot",icon:"book-open"},{id:"approval",label:"Persetujuan",icon:"inbox"},{id:"target",label:"Set Target",icon:"target"},{id:"rekap",label:"Rekap Target",icon:"bar-chart"},{id:"edit-profile",label:"Edit Profil",icon:"edit",action:()=>r("edit-profile")}].map(e=>(0,g.jsxs)("button",{onClick:()=>e.action?e.action():a(e.id),className:`py-2 px-3 sm:px-4 font-semibold whitespace-nowrap ${s===e.id?"text-green-600 border-b-2 border-green-600":"text-gray-500 hover:text-green-700"}`,children:[(0,g.jsx)(dq,{name:e.icon,className:"inline-block h-5 w-5 mr-1"}),e.label]},e.id))})}),(0,g.jsxs)("div",{className:"max-w-4xl mx-auto",children:["demplot"===s&&(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:"flex justify-center mb-4 rounded-lg p-1 bg-gray-200 w-max mx-auto",children:[(0,g.jsx)("button",{onClick:()=>l("detail"),className:`px-4 py-1.5 text-sm font-semibold rounded-md transition-colors ${"detail"===o?"bg-white text-green-700 shadow":"text-gray-600"}`,children:"Tampilan Detail"}),(0,g.jsx)("button",{onClick:()=>l("table"),className:`px-4 py-1.5 text-sm font-semibold rounded-md transition-colors ${"table"===o?"bg-white text-green-700 shadow":"text-gray-600"}`,children:"Tampilan Tabel"})]}),"detail"===o?(0,g.jsx)(d2,{openImageModal:i,onDelete:h}):(0,g.jsx)(d4,{onDelete:h})]}),"approval"===s&&(0,g.jsx)(d9,{openImageModal:i,setAppModalMessage:n}),"target"===s&&(0,g.jsx)(dZ,{setAppModalMessage:n}),"rekap"===s&&(0,g.jsx)(d7,{})]})]}),u&&(0,g.jsx)(dW,{message:"Apakah Anda yakin ingin menghapus laporan demplot ini secara permanen?",onConfirm:d,onCancel:()=>c(null)})]})}function d2({openImageModal:e,onDelete:t}){let[n,r]=(0,y.useState)([]),[i,s]=(0,y.useState)(!0);return((0,y.useEffect)(()=>{let e=dR(df(hV(dF,`artifacts/${dV}/public/data/demplots`)),e=>{let t=e.docs.map(e=>({id:e.id,...e.data()}));t.sort((e,t)=>(t.createdAt?.toMillis()||0)-(e.createdAt?.toMillis()||0)),r(t),s(!1)},e=>{console.error("Error fetching demplots: ",e),s(!1)});return()=>e()},[]),i)?(0,g.jsx)(dH,{}):(0,g.jsx)("div",{children:n.length>0?(0,g.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:n.map(n=>(0,g.jsxs)("div",{className:"group relative shadow-lg rounded-lg overflow-hidden",children:[(0,g.jsx)("button",{onClick:e=>{e.stopPropagation(),t(n.id)},className:"absolute top-1.5 right-1.5 bg-red-600 text-white p-1 rounded-full hover:bg-red-800 transition-all z-10 opacity-0 group-hover:opacity-100 focus:opacity-100","aria-label":"Hapus Laporan",children:(0,g.jsx)(dq,{name:"trash",className:"w-4 h-4"})}),(0,g.jsxs)("div",{onClick:()=>e(n.photoURL),className:"cursor-pointer",children:[(0,g.jsx)("img",{src:n.photoURL,alt:n.varietas,className:"w-full h-32 object-cover transition-transform duration-300 group-hover:scale-110"}),(0,g.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-2 bg-gradient-to-t from-black/80 to-transparent text-white",children:[(0,g.jsx)("p",{className:"font-bold truncate",children:n.varietas}),(0,g.jsx)("p",{className:"text-xs truncate",children:n.creatorName})]})]})]},n.id))}):(0,g.jsx)("p",{className:"text-center text-gray-500 mt-8",children:"Belum ada laporan demplot."})})}function d4({onDelete:e}){let[t,n]=(0,y.useState)([]),[r,i]=(0,y.useState)(!0);return((0,y.useEffect)(()=>{let e=dR(df(hV(dF,`artifacts/${dV}/public/data/demplots`)),e=>{let t=e.docs.map(e=>({id:e.id,...e.data()}));t.sort((e,t)=>(e.creatorName||"").localeCompare(t.creatorName||"")),n(t),i(!1)},e=>{console.error("Error fetching demplots for table: ",e),i(!1)});return()=>e()},[]),r)?(0,g.jsx)(dH,{}):(0,g.jsx)("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-md",children:(0,g.jsx)("div",{className:"overflow-x-auto",children:(0,g.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,g.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-100",children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{scope:"col",className:"px-4 py-3",children:"Nama BS"}),(0,g.jsx)("th",{scope:"col",className:"px-4 py-3",children:"Nama Petani"}),(0,g.jsx)("th",{scope:"col",className:"px-4 py-3",children:"Varietas"}),(0,g.jsx)("th",{scope:"col",className:"px-4 py-3 text-center",children:"Umur (Hari)"}),(0,g.jsx)("th",{scope:"col",className:"px-4 py-3 text-center",children:"Aksi"})]})}),(0,g.jsx)("tbody",{children:t.length>0?t.map(t=>(0,g.jsxs)("tr",{className:"border-b hover:bg-green-50",children:[(0,g.jsx)("th",{scope:"row",className:"px-4 py-4 font-medium text-gray-900 whitespace-nowrap",children:t.creatorName}),(0,g.jsx)("td",{className:"px-4 py-4",children:t.pemilikLahan}),(0,g.jsx)("td",{className:"px-4 py-4",children:t.varietas}),(0,g.jsx)("td",{className:"px-4 py-4 text-center",children:dB(t.tanggalTanam)}),(0,g.jsx)("td",{className:"px-4 py-4 text-center",children:(0,g.jsx)("button",{onClick:()=>e(t.id),className:"p-2 text-red-500 hover:bg-red-100 rounded-full","aria-label":"Hapus Laporan",children:(0,g.jsx)(dq,{name:"trash",className:"w-5 h-5"})})})]},t.id)):(0,g.jsx)("tr",{children:(0,g.jsx)("td",{colSpan:"5",className:"text-center py-4",children:"Tidak ada data demplot."})})})]})})})}function d3({userId:e}){let[t,n]=(0,y.useState)([]),[r,i]=(0,y.useState)(!0);return((0,y.useEffect)(()=>{if(!e)return void i(!1);let t=dR(df(hV(dF,`artifacts/${dV}/public/data/demplots`),dm("creatorId","==",e)),e=>{let t=e.docs.map(e=>({id:e.id,...e.data()}));t.sort((e,t)=>(t.createdAt?.toMillis()||0)-(e.createdAt?.toMillis()||0)),n(t),i(!1)},e=>{console.error("Error fetching my demplots: ",e),i(!1)});return()=>t()},[e]),r)?(0,g.jsx)(dH,{}):(0,g.jsxs)("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-md",children:[(0,g.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Rekap Laporan Demplot Saya"}),(0,g.jsx)("div",{className:"overflow-x-auto",children:(0,g.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,g.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-100",children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{scope:"col",className:"px-4 py-3",children:"Nama Petani"}),(0,g.jsx)("th",{scope:"col",className:"px-4 py-3",children:"Lokasi"}),(0,g.jsx)("th",{scope:"col",className:"px-4 py-3",children:"Varietas"}),(0,g.jsx)("th",{scope:"col",className:"px-4 py-3 text-center",children:"Umur (Hari)"})]})}),(0,g.jsx)("tbody",{children:t.length>0?t.map(e=>(0,g.jsxs)("tr",{className:"border-b hover:bg-green-50",children:[(0,g.jsx)("th",{scope:"row",className:"px-4 py-4 font-medium text-gray-900 whitespace-nowrap",children:e.pemilikLahan}),(0,g.jsx)("td",{className:"px-4 py-4",children:e.lokasi}),(0,g.jsx)("td",{className:"px-4 py-4",children:e.varietas}),(0,g.jsx)("td",{className:"px-4 py-4 text-center",children:dB(e.tanggalTanam)})]},e.id)):(0,g.jsx)("tr",{children:(0,g.jsx)("td",{colSpan:"4",className:"text-center py-4",children:"Anda belum membuat laporan demplot."})})})]})})]})}function d6({userId:e}){let[t,n]=(0,y.useState)(null),[r,i]=(0,y.useState)(!0),s=(0,y.useMemo)(()=>`${new Date().getFullYear()}-${String(new Date().getMonth()+1).padStart(2,"0")}`,[]);if((0,y.useEffect)(()=>{if(!e)return void i(!1);let t=`${e}-${s}`,r=dR(hz(dF,`artifacts/${dV}/public/data/targets`,t),async t=>{if(!t.exists()){n(null),i(!1);return}let r=t.data();try{let t=df(hV(dF,`artifacts/${dV}/public/data/activities`),dm("creatorId","==",e),dm("status","==","approved")),i=await dI(t),a=s.split("-")[0],o=s.split("-")[1],l=new Date(a,o-1,1),u=new Date(a,o,0,23,59,59),c=i.docs.map(e=>e.data()).filter(e=>{if(!e.createdAt?.toDate)return!1;let t=e.createdAt.toDate();return t>=l&&t<=u}),h={FM:c.filter(e=>"FM"===e.kegiatan).length,ODP:c.filter(e=>"ODP"===e.kegiatan).length,STUDY:c.filter(e=>"STUDY BANDING"===e.kegiatan).length,FFD:c.filter(e=>"FFD"===e.kegiatan).length};n({targets:r,achievements:h})}catch(e){console.error("Error fetching activities for summary:",e),n({targets:r,achievements:null})}finally{i(!1)}},e=>{console.error("Error fetching target for summary:",e),i(!1)});return()=>r()},[e,s]),r)return(0,g.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:(0,g.jsx)("p",{children:"Memuat target..."})});if(!t)return null;let{targets:a,achievements:o}=t;if(!o)return(0,g.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:(0,g.jsx)("p",{className:"text-red-500",children:"Gagal memuat data pencapaian."})});let l=Object.values(o).reduce((e,t)=>e+t,0),u=(a.fm||0)+(a.odp||0)+(a.study||0)+(a.ffd||0),c=d$(l,u);return(0,g.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,g.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Ringkasan Target Bulan Ini"}),(0,g.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Progres total pencapaian Anda."}),(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,g.jsx)("span",{className:"text-base font-medium text-blue-900",children:"Total Pencapaian"}),(0,g.jsxs)("span",{className:"text-sm font-medium text-blue-900",children:[l," / ",u]})]}),(0,g.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-4",children:(0,g.jsx)("div",{className:"bg-green-600 h-4 rounded-full text-xs font-medium text-white text-center p-0.5 leading-none",style:{width:`${c}%`},children:c>10&&`${c}%`})})]})]})}function d5({userId:e}){let[t,n]=(0,y.useState)(`${new Date().getFullYear()}-${String(new Date().getMonth()+1).padStart(2,"0")}`),[r,i]=(0,y.useState)(null),[s,a]=(0,y.useState)(!0),[o,l]=(0,y.useState)(null);return(0,y.useEffect)(()=>{if(!e||!t)return void a(!1);a(!0),l(null);let n=`${e}-${t}`,r=dR(hz(dF,`artifacts/${dV}/public/data/targets`,n),async n=>{if(!n.exists()){i(null),a(!1);return}let r=n.data();try{let n=df(hV(dF,`artifacts/${dV}/public/data/activities`),dm("creatorId","==",e),dm("status","==","approved")),s=await dI(n),a=t.split("-")[0],o=t.split("-")[1],l=new Date(a,o-1,1),u=new Date(a,o,0,23,59,59),c=s.docs.map(e=>e.data()).filter(e=>{if(!e.createdAt?.toDate)return!1;let t=e.createdAt.toDate();return t>=l&&t<=u}),h={FM:c.filter(e=>"FM"===e.kegiatan).length,ODP:c.filter(e=>"ODP"===e.kegiatan).length,STUDY:c.filter(e=>"STUDY BANDING"===e.kegiatan).length,FFD:c.filter(e=>"FFD"===e.kegiatan).length};i({targets:r,achievements:h})}catch(e){console.error("Error fetching activities for progress:",e),l("Gagal memuat data kegiatan."),i({targets:r,achievements:null})}finally{a(!1)}},e=>{console.error("Error listening to target document:",e),l("Gagal memuat data target."),a(!1),i(null)});return()=>r()},[e,t]),(0,g.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md space-y-4",children:[(0,g.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4",children:[(0,g.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"Target & Pencapaian"}),(0,g.jsx)("input",{type:"month",value:t,onChange:e=>n(e.target.value),className:"px-3 py-2 border rounded-lg w-full sm:w-auto"})]}),(()=>{if(s)return(0,g.jsx)(dH,{});if(o)return(0,g.jsx)("p",{className:"text-center text-red-500 mt-8",children:o});if(!r)return(0,g.jsx)("p",{className:"text-center text-gray-500 mt-8",children:"Target untuk bulan yang dipilih belum ditetapkan."});let{targets:e,achievements:t}=r;if(!t)return(0,g.jsx)("p",{className:"text-center text-red-500 mt-8",children:"Gagal memuat pencapaian kegiatan."});let n=d$(Object.values(t).reduce((e,t)=>e+t,0),(e.fm||0)+(e.odp||0)+(e.study||0)+(e.ffd||0));return(0,g.jsxs)("div",{className:"space-y-3",children:[(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,g.jsx)("span",{className:"text-base font-medium text-blue-900",children:"Total Pencapaian"}),(0,g.jsxs)("span",{className:"text-sm font-medium text-blue-900",children:[n,"%"]})]}),(0,g.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-4",children:(0,g.jsx)("div",{className:"bg-green-600 h-4 rounded-full",style:{width:`${n}%`}})})]}),(0,g.jsx)("hr",{}),[{key:"fm",label:"FM",achievementKey:"FM"},{key:"odp",label:"ODP",achievementKey:"ODP"},{key:"study",label:"STUDY BANDING/FT",achievementKey:"STUDY"},{key:"ffd",label:"FFD",achievementKey:"FFD"}].map(({key:n,label:r,achievementKey:i})=>{let s=t[i]||0,a=e[n]||0,o=d$(s,a);return(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,g.jsx)("span",{className:"text-base font-medium text-gray-700",children:r}),(0,g.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:[s," / ",a]})]}),(0,g.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:(0,g.jsx)("div",{className:"bg-green-500 h-2.5 rounded-full",style:{width:`${o}%`}})})]},n)})]})})()]})}function d8({userId:e,openImageModal:t,setAppModalMessage:n}){let[r,i]=(0,y.useState)([]),[s,a]=(0,y.useState)(!0),[o,l]=(0,y.useState)(null),u=(0,y.useCallback)(async()=>{if(!e)return void a(!1);a(!0);try{let t=df(hV(dF,`artifacts/${dV}/public/data/demplots`),dm("creatorId","==",e)),n=df(hV(dF,`artifacts/${dV}/public/data/activities`),dm("creatorId","==",e)),[r,s]=await Promise.all([dI(t),dI(n)]),a=[...r.docs.map(e=>({id:e.id,collection:"demplots",...e.data()})),...s.docs.map(e=>({id:e.id,collection:"activities",...e.data()}))];a.sort((e,t)=>(t.createdAt?.toMillis()||0)-(e.createdAt?.toMillis()||0)),i(a)}catch(e){console.error("Error fetching reports:",e),n("Gagal memuat riwayat laporan.")}finally{a(!1)}},[e,n]);(0,y.useEffect)(()=>{u()},[u]);let c=async()=>{if(o){a(!0);try{await dA(hz(dF,`artifacts/${dV}/public/data/${o.collection}`,o.id)),n("Laporan berhasil dihapus."),await u()}catch(e){n("Gagal menghapus laporan.")}finally{l(null),a(!1)}}};return s?(0,g.jsx)(dH,{}):(0,g.jsxs)("div",{className:"space-y-4",children:[r.length>0?r.map(e=>(0,g.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border flex flex-col gap-3",children:[(0,g.jsxs)("div",{className:"flex gap-4 items-start",children:[(0,g.jsx)("img",{src:e.photoURL,alt:"Foto Laporan",className:"w-20 h-20 object-cover rounded-md cursor-pointer",onClick:()=>t(e.photoURL)}),(0,g.jsx)("div",{className:"flex-1",children:(0,g.jsxs)("div",{className:"flex justify-between items-start",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("p",{className:`font-bold text-md ${"DEMPLOT"===e.type?"text-green-700":"text-blue-700"}`,children:"DEMPLOT"===e.type?e.varietas:e.kegiatan}),(0,g.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,g.jsx)(dq,{name:"map-pin",className:"inline-block h-4 w-4 mr-1"}),e.lokasi]}),(0,g.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Tanggal: ","DEMPLOT"===e.type?e.tanggalTanam:e.tanggalKegiatan]})]}),"KEGIATAN"===e.type&&(e=>{switch(e){case"approved":return(0,g.jsx)("span",{className:"text-xs font-medium px-2.5 py-0.5 rounded-full bg-green-100 text-green-800",children:"Disetujui"});case"rejected":return(0,g.jsx)("span",{className:"text-xs font-medium px-2.5 py-0.5 rounded-full bg-red-100 text-red-800",children:"Ditolak"});default:return(0,g.jsx)("span",{className:"text-xs font-medium px-2.5 py-0.5 rounded-full bg-yellow-100 text-yellow-800",children:"Menunggu"})}})(e.status)]})}),(0,g.jsx)("button",{onClick:()=>l({id:e.id,collection:e.collection}),className:"p-2 text-red-500 hover:bg-red-100 rounded-full self-start",children:(0,g.jsx)(dq,{name:"trash",className:"w-5 h-5"})})]}),"rejected"===e.status&&(0,g.jsxs)("div",{className:"bg-red-50 p-3 rounded-lg border border-red-200",children:[(0,g.jsx)("p",{className:"text-sm font-bold text-red-800",children:"Alasan Penolakan:"}),(0,g.jsx)("p",{className:"text-sm text-red-700",children:e.rejectionReason||"Tidak ada alasan diberikan."})]})]},e.id)):(0,g.jsx)("p",{className:"text-center text-gray-500 mt-8",children:"Anda belum memiliki riwayat laporan."}),o&&(0,g.jsx)(dW,{onConfirm:c,onCancel:()=>l(null),message:"Apakah Anda yakin ingin menghapus laporan ini secara permanen?"})]})}function d9({openImageModal:e,setAppModalMessage:t}){let[n,r]=(0,y.useState)([]),[i,s]=(0,y.useState)(!0),[a,o]=(0,y.useState)({});(0,y.useEffect)(()=>{let e=dR(df(hV(dF,`artifacts/${dV}/public/data/activities`),dm("status","==","pending")),e=>{let t=e.docs.map(e=>({id:e.id,...e.data()}));t.sort((e,t)=>(t.createdAt?.toMillis()||0)-(e.createdAt?.toMillis()||0)),r(t),s(!1)},e=>{console.error("Error fetching approvals: ",e),s(!1)});return()=>e()},[]);let l=async(e,n)=>{try{let r={status:n};if("rejected"===n){if(!a[e])return void t("Harap isi alasan penolakan.");r.rejectionReason=a[e]||""}await dC(hz(dF,`artifacts/${dV}/public/data/activities`,e),r),t(`Laporan berhasil di-${n}.`)}catch(e){t("Gagal memperbarui status laporan.")}};return i?(0,g.jsx)(dH,{}):(0,g.jsx)("div",{className:"space-y-4",children:n.length>0?n.map(t=>(0,g.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border space-y-3",children:[(0,g.jsxs)("div",{className:"flex gap-4",children:[(0,g.jsx)("img",{src:t.photoURL,alt:"Foto Kegiatan",className:"w-24 h-24 object-cover rounded-md cursor-pointer",onClick:()=>e(t.photoURL)}),(0,g.jsxs)("div",{className:"flex-1",children:[(0,g.jsx)("span",{className:"text-xs font-semibold uppercase text-blue-800 bg-blue-100 px-2 py-1 rounded-full",children:t.kegiatan}),(0,g.jsx)("p",{className:"text-sm font-semibold mt-2",children:t.creatorName}),(0,g.jsx)("p",{className:"text-sm text-gray-600",children:t.lokasi}),(0,g.jsx)("p",{className:"text-xs text-gray-500",children:t.tanggalKegiatan}),t.keterangan&&(0,g.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[(0,g.jsx)("b",{children:"Keterangan BS:"})," ",t.keterangan]})]})]}),(0,g.jsx)("div",{children:(0,g.jsx)("textarea",{placeholder:"Tulis alasan penolakan di sini...",value:a[t.id]||"",onChange:e=>{var n,r;return n=t.id,r=e.target.value,void o(e=>({...e,[n]:r}))},className:"w-full px-3 py-2 border rounded-lg text-sm",rows:"2"})}),(0,g.jsxs)("div",{className:"flex gap-2 pt-2 border-t",children:[(0,g.jsxs)("button",{onClick:()=>l(t.id,"rejected"),className:"flex-1 bg-red-100 text-red-700 font-semibold py-2 px-3 rounded-md text-sm hover:bg-red-200 flex items-center justify-center gap-1",children:[(0,g.jsx)(dq,{name:"x",className:"w-4 h-4"})," Tolak"]}),(0,g.jsxs)("button",{onClick:()=>l(t.id,"approved"),className:"flex-1 bg-green-100 text-green-700 font-semibold py-2 px-3 rounded-md text-sm hover:bg-green-200 flex items-center justify-center gap-1",children:[(0,g.jsx)(dq,{name:"check",className:"w-4 h-4"})," Setujui"]})]})]},t.id)):(0,g.jsx)("p",{className:"text-center text-gray-500 mt-8",children:"Tidak ada laporan kegiatan yang menunggu persetujuan."})})}function d7(){let[e,t]=(0,y.useState)(`${new Date().getFullYear()}-${String(new Date().getMonth()+1).padStart(2,"0")}`),[n,r]=(0,y.useState)([]),[i,s]=(0,y.useState)(!0);return(0,y.useEffect)(()=>{(async()=>{s(!0);try{let t=df(hV(dF,`artifacts/${dV}/public/data/targets`),dm("month","==",e)),n=(await dI(t)).docs.map(e=>({id:e.id,...e.data()}));if(0===n.length){r([]),s(!1);return}let i=n.map(async t=>{let n=df(hV(dF,`artifacts/${dV}/public/data/activities`),dm("creatorId","==",t.userId),dm("status","==","approved")),r=await dI(n),i=e.split("-")[0],s=e.split("-")[1],a=new Date(i,s-1,1),o=new Date(i,s,0,23,59,59),l=r.docs.map(e=>e.data()).filter(e=>{if(!e.createdAt?.toDate)return!1;let t=e.createdAt.toDate();return t>=a&&t<=o}).map(e=>e.kegiatan),u={FM:l.filter(e=>"FM"===e).length,ODP:l.filter(e=>"ODP"===e).length,STUDY:l.filter(e=>"STUDY BANDING"===e).length,FFD:l.filter(e=>"FFD"===e).length},c=u.FM+u.ODP+u.STUDY+u.FFD,h=(t.fm||0)+(t.odp||0)+(t.study||0)+(t.ffd||0);return{user:{id:t.userId,name:t.name||"Nama Tidak Ditemukan"},targets:{fm:t.fm,odp:t.odp,study:t.study,ffd:t.ffd},achievements:u,percentage:d$(c,h)}}),a=await Promise.all(i);a.sort((e,t)=>(e.user.name||"").localeCompare(t.user.name||"")),r(a)}catch(e){console.error("Error fetching rekap data:",e)}finally{s(!1)}})()},[e]),(0,g.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,g.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,g.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"Rekap Pencapaian Target"}),(0,g.jsx)("input",{type:"month",value:e,onChange:e=>t(e.target.value),className:"px-3 py-1 border rounded-lg"})]}),i?(0,g.jsx)(dH,{}):(0,g.jsx)("div",{className:"overflow-x-auto",children:(0,g.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,g.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-100",children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{scope:"col",className:"px-4 py-3",children:"Nama BS"}),(0,g.jsx)("th",{scope:"col",className:"px-4 py-3 text-center",children:"FM"}),(0,g.jsx)("th",{scope:"col",className:"px-4 py-3 text-center",children:"ODP"}),(0,g.jsx)("th",{scope:"col",className:"px-4 py-3 text-center",children:"STUDY"}),(0,g.jsx)("th",{scope:"col",className:"px-4 py-3 text-center",children:"FFD"}),(0,g.jsx)("th",{scope:"col",className:"px-4 py-3 text-center",children:"Pencapaian"})]})}),(0,g.jsx)("tbody",{children:n.length>0?n.map(e=>(0,g.jsxs)("tr",{className:"border-b hover:bg-green-50",children:[(0,g.jsx)("th",{scope:"row",className:"px-4 py-4 font-medium text-gray-900 whitespace-nowrap",children:e.user.name}),(0,g.jsxs)("td",{className:"px-4 py-4 text-center",children:[e.achievements.FM,"/",e.targets.fm]}),(0,g.jsxs)("td",{className:"px-4 py-4 text-center",children:[e.achievements.ODP,"/",e.targets.odp]}),(0,g.jsxs)("td",{className:"px-4 py-4 text-center",children:[e.achievements.STUDY,"/",e.targets.study]}),(0,g.jsxs)("td",{className:"px-4 py-4 text-center",children:[e.achievements.FFD,"/",e.targets.ffd]}),(0,g.jsxs)("td",{className:"px-4 py-4 text-center",children:[(0,g.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-4",children:(0,g.jsx)("div",{className:"bg-green-600 h-4 rounded-full",style:{width:`${e.percentage}%`}})}),(0,g.jsxs)("span",{className:"text-xs font-semibold",children:[e.percentage,"%"]})]})]},e.user.id)):(0,g.jsx)("tr",{children:(0,g.jsx)("td",{colSpan:"6",className:"text-center py-4",children:"Tidak ada data target untuk bulan ini."})})})]})})]})}i(v).createRoot(document.getElementById("root")).render((0,g.jsx)(i(y).StrictMode,{children:(0,g.jsx)(function(){let[e,t]=(0,y.useState)("loading"),[n,r]=(0,y.useState)(null),[i,s]=(0,y.useState)(""),[a,o]=(0,y.useState)(""),[l,u]=(0,y.useState)(null);(0,y.useEffect)(()=>{var e,n;if(!dU)return;let i=(e=dj,n=async e=>{if(e){let n=hz(dF,`artifacts/${dV}/users/${e.uid}`),i=await function(e){e=hO(e,hj);let t=hO(e.firestore,hq);return(function(e,t,n={}){let r=new aZ;return e.asyncQueue.enqueueAndForget(async()=>(function(e,t,n,r,i){let s=new hx({next:s=>{t.enqueueAndForget(()=>c0(e,a));let o=s.docs.has(n);!o&&s.fromCache?i.reject(new aJ(aX.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&s.fromCache&&r&&"server"===r.source?i.reject(new aJ(aX.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),a=new c3(lh(n.path),s,{includeMetadataChanges:!0,Ku:!0});return cZ(e,a)})(await hI(e),e.asyncQueue,t,n,r)),r.promise})(hH(t),e._key).then(n=>dO(t,e,n))}(n);i.exists()?(r({uid:e.uid,...i.data()}),t("dashboard")):await nc(dj)}else r(null),t("login");s("")},$(e).onAuthStateChanged(n,void 0,void 0));return()=>i()},[]);let c=e=>{s(""),t(e)},h=()=>nc(dj),d=async(e,t,n,r,i,s)=>{let a=(await nu(dj,e,t).catch(e=>{if("auth/email-already-in-use"===e.code)throw Error("Email ini sudah terdaftar.");throw Error("Gagal membuat akun.")})).user,o="";s&&(o=await dz(s).catch(()=>{throw Error("Gagal memproses foto.")}));let l={name:n,email:e,workArea:r,role:i,photoURL:o,createdAt:dL()};await dN(hz(dF,`artifacts/${dV}/users/${a.uid}`),l).catch(()=>{throw Error("Gagal menyimpan profil.")}),"BS"===i&&await dN(hz(dF,`artifacts/${dV}/public/data/bs_users`,a.uid),{name:n,workArea:r}).catch(e=>console.warn("Gagal menambahkan BS ke daftar publik:",e))};return(0,g.jsxs)(g.Fragment,{children:[(()=>{if(!dU)return(0,g.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",children:(0,g.jsx)("div",{className:"bg-red-100 p-4 rounded-lg",children:(0,g.jsx)("p",{className:"font-bold",children:"Gagal terhubung ke server."})})});if("loading"===e)return(0,g.jsx)(dH,{});switch(e){case"login":default:return(0,g.jsx)(dG,{navigateTo:c,onLogin:(e,t)=>nl($(dj),t4.credential(e,t)),setErrorMessage:s,errorMessage:i});case"register":return(0,g.jsx)(dQ,{navigateTo:c,onRegister:d,setErrorMessage:s,errorMessage:i});case"edit-profile":return n?(0,g.jsx)(dY,{userProfile:n,navigateTo:c,setAppModalMessage:o}):(0,g.jsx)(dH,{});case"dashboard":if(n?.role==="BS")return(0,g.jsx)(d0,{userProfile:n,onLogout:h,setAppModalMessage:o,navigateTo:c,openImageModal:u});if(n?.role==="Agronomis")return(0,g.jsx)(d1,{userProfile:n,onLogout:h,setAppModalMessage:o,navigateTo:c,openImageModal:u});return(0,g.jsx)(dH,{})}})(),a&&(0,g.jsx)(dK,{onClose:()=>o(""),children:(0,g.jsx)("div",{className:"bg-white p-8 rounded-lg text-center shadow-xl",children:(0,g.jsx)("p",{children:a})})}),l&&(0,g.jsx)(dK,{onClose:()=>u(null),children:(0,g.jsx)("img",{src:l,alt:"Tampilan diperbesar",className:"max-w-full max-h-[80vh] rounded-lg"})})]})},{})}));
//# sourceMappingURL=advanta-report.a099ea75.js.map
